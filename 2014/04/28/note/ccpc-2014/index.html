<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <title>CCPC 2014 中程杯紀錄 | Morris&#39; Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="序在此先感謝 inker 帶我出門！當然也感謝 ** 彰師大 ** 這次辦的程式競賽。這是一場久違的比賽，同時也是這學期最後一場，原因是因為太久沒參賽，導致往後的桂冠賽也無法參加。 至於討厭比賽的問題，這一篇就不多說了。記得下次繼續支持彰師大資工辦的活動，免得像靜宜大學被玩壞了。 CCPC 官網 賽前比賽前日進發 inker 豪宅，中間歷經坐錯區間車，到比賽會場前，徒步走了三十分鐘到火車站搭車 …">
<meta name="keywords" content="CCPC,中程杯">
<meta property="og:type" content="article">
<meta property="og:title" content="CCPC 2014 中程杯紀錄">
<meta property="og:url" content="http://morris821028.github.io/2014/04/28/note/ccpc-2014/index.html">
<meta property="og:site_name" content="Morris&#39; Blog">
<meta property="og:description" content="序在此先感謝 inker 帶我出門！當然也感謝 ** 彰師大 ** 這次辦的程式競賽。這是一場久違的比賽，同時也是這學期最後一場，原因是因為太久沒參賽，導致往後的桂冠賽也無法參加。 至於討厭比賽的問題，這一篇就不多說了。記得下次繼續支持彰師大資工辦的活動，免得像靜宜大學被玩壞了。 CCPC 官網 賽前比賽前日進發 inker 豪宅，中間歷經坐錯區間車，到比賽會場前，徒步走了三十分鐘到火車站搭車 …">
<meta property="og:locale" content="en">
<meta property="og:image" content="http://morris821028.github.io/img/MG_7452.jpg">
<meta property="og:image" content="http://morris821028.github.io/img/DSCF6339.jpg">
<meta property="og:updated_time" content="2016-04-20T11:50:22.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="CCPC 2014 中程杯紀錄">
<meta name="twitter:description" content="序在此先感謝 inker 帶我出門！當然也感謝 ** 彰師大 ** 這次辦的程式競賽。這是一場久違的比賽，同時也是這學期最後一場，原因是因為太久沒參賽，導致往後的桂冠賽也無法參加。 至於討厭比賽的問題，這一篇就不多說了。記得下次繼續支持彰師大資工辦的活動，免得像靜宜大學被玩壞了。 CCPC 官網 賽前比賽前日進發 inker 豪宅，中間歷經坐錯區間車，到比賽會場前，徒步走了三十分鐘到火車站搭車 …">
<meta name="twitter:image" content="http://morris821028.github.io/img/MG_7452.jpg">
<link rel="publisher" href="108158678174364350000">
  
    <link rel="alternative" href="/atom.xml" title="Morris&#39; Blog" type="application/atom+xml">
  
  
    <meta name="google-site-verification" content="5mRgj8NanEMpGZuNfHNJNmH90RgNlrnJXsFlTaKD6Gs" />
  
  
    <link rel="shortcut icon" href="/img/f.ico">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <script src="/js/jquery-2.1.0.min.js"></script>
  <link rel="stylesheet" href="/css/style.css">
  
  <link rel="stylesheet" href="http://cdn.oesmith.co.uk/morris-0.5.1.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
<script src="http://cdn.oesmith.co.uk/morris-0.5.1.min.js"></script>
  <link rel="import" href="/bower_components/app-layout/app-layout.html"><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>
<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"><div id="banner-right"></div></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Morris&#39; Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          
            <a class="main-nav-link" href="/"><i class=icon-home title='Home'></i></a>
          
        
          
            <a class="main-nav-link" href="/about"><i class=icon-user title='About'></i></a>
          
        
          
            <a class="main-nav-link" href="/archives"><i class=icon-archive title='Archives'></i></a>
          
        
          
            <a class="main-nav-link" href="/tags"><i class=icon-tags title='Tags'></i></a>
          
        
          
            <a class="main-nav-link" href="/picture"><i class=icon-camera title='Pictures'></i></a>
          
        
          
            <a class="main-nav-link" href="/works"><i class=icon-trophy title='Works'></i></a>
          
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://morris821028.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        
          
          <section id="main" style="width: 95%"><article id="post-note/ccpc-2014" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/04/28/note/ccpc-2014/" class="article-date">
  <time datetime="2014-04-28T11:18:14.000Z" itemprop="datePublished">2014-04-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/雜言筆記/">雜言筆記</a>
  </div>

  </div>
  <div class="article-inner ">
    
<div class="article-gallery">
  <div class="article-gallery-photos">
    
      <a class="article-gallery-img fancybox" href="/img/MG_7452.jpg" rel="gallery_ckpaivcan00d4n8vn8zjv66b2">
        <img src="/img/MG_7452.jpg" itemprop="image">
      </a>
    
      <a class="article-gallery-img fancybox" href="/img/DSCF6339.jpg" rel="gallery_ckpaivcan00d4n8vn8zjv66b2">
        <img src="/img/DSCF6339.jpg" itemprop="image">
      </a>
    
  </div>
</div>

    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      CCPC 2014 中程杯紀錄
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/04/28/note/ccpc-2014/" data-id="ckpaivcan00d4n8vn8zjv66b2" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/04/28/note/ccpc-2014/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CCPC/">CCPC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/中程杯/">中程杯</a></li></ul>

    </footer>
    <div class="article-entry " itemprop="articleBody">
      
          
              <div id="toc" class="toc-article">
              <h2 class="toc-title"><span>contents</span></h2>
              
                  <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#序"><span class="toc-number">1.</span> <span class="toc-text">序</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#賽前"><span class="toc-number">2.</span> <span class="toc-text">賽前</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#題目"><span class="toc-number">3.</span> <span class="toc-text">題目</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Problem-A-Non-boring-sequences"><span class="toc-number">3.1.</span> <span class="toc-text">Problem A Non-boring sequences</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Problem-B-Traffic-Jam"><span class="toc-number">3.2.</span> <span class="toc-text">Problem B Traffic Jam</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#觀察"><span class="toc-number">3.2.1.</span> <span class="toc-text">觀察</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#推倒"><span class="toc-number">3.2.2.</span> <span class="toc-text">推倒</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Problem-C-Finding-the-Prime-Implicants-of-a-Boolean-Function"><span class="toc-number">3.3.</span> <span class="toc-text">Problem C Finding the Prime Implicants of a Boolean Function</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Problem-D-Binary-String"><span class="toc-number">3.4.</span> <span class="toc-text">Problem D Binary String</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Problem-E-Digits-Count"><span class="toc-number">3.5.</span> <span class="toc-text">Problem E Digits Count</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Problem-F-Math-Problem"><span class="toc-number">3.6.</span> <span class="toc-text">Problem F Math Problem</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Problem-G-Better-Method"><span class="toc-number">3.7.</span> <span class="toc-text">Problem G Better Method</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Problem-H-K-Anonymous-Sequence"><span class="toc-number">3.8.</span> <span class="toc-text">Problem H K-Anonymous Sequence</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#賽後"><span class="toc-number">4.</span> <span class="toc-text">賽後</span></a></li></ol>
              
              </div>
          
        
          <h1 id="序"><a href="#序" class="headerlink" title="序"></a>序</h1><p>在此先感謝 inker 帶我出門！當然也感謝 ** 彰師大 ** 這次辦的程式競賽。這是一場久違的比賽，同時也是這學期最後一場，原因是因為太久沒參賽，導致往後的桂冠賽也無法參加。</p>
<p>至於討厭比賽的問題，這一篇就不多說了。記得下次繼續支持彰師大資工辦的活動，免得像靜宜大學被玩壞了。 <a href="http://ccpc.csie.ncue.edu.tw/#rule-pn">CCPC 官網</a></p>
<h1 id="賽前"><a href="#賽前" class="headerlink" title="賽前"></a>賽前</h1><p>比賽前日進發 inker 豪宅，中間歷經坐錯區間車，到比賽會場前，徒步走了三十分鐘到火車站搭車 … 各種經歷深感出門是件難事。跟我肯定是不幸的，應該多少有點關聯。</p>
<p>上次比賽是很久之前的事情，想到這次還會遭遇國手，還有清華交大的選手，深感害怕。在這情況下，要出門見人什麼的，讓我窩回宿舍吧！</p>
<h1 id="題目"><a href="#題目" class="headerlink" title="題目"></a>題目</h1><h2 id="Problem-A-Non-boring-sequences"><a href="#Problem-A-Non-boring-sequences" class="headerlink" title="Problem A Non-boring sequences"></a>Problem A Non-boring sequences</h2><p><a href="http://uva.onlinejudge.org/index.php?option=com_onlinejudge&Itemid=8&category=24&page=show_problem&problem=4483">UVa 1608 - Non-boring sequences</a></p>
<p>結果題目還是讀錯了，對於任意連續區間，都存在一個獨特的數字。</p>
<p>很容易誤解 <code>connected subsequence</code> 簡單的說就是相鄰兩個元素。<br>這題由於讀題錯誤，在全場第一個送出的同時拿下的 <code>Wrong Answer</code>。<br>在假解的情況下，居然通過了測試。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">int</span> t, n, h1,h2;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;t);</span><br><span class="line">    <span class="keyword">while</span>(t --)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">        map&lt;<span class="keyword">int</span>, <span class="keyword">bool</span>&gt; mp;</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">bool</span> yes = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">int</span> pre = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span> ; i &lt; n ; i ++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;h2);</span><br><span class="line">            <span class="keyword">if</span>(pre == h2)&#123;</span><br><span class="line">            </span><br><span class="line">                yes = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            pre = h2;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(yes?<span class="string">&quot;non-boring\n&quot;</span>:<span class="string">&quot;boring\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Problem-B-Traffic-Jam"><a href="#Problem-B-Traffic-Jam" class="headerlink" title="Problem B Traffic Jam"></a>Problem B Traffic Jam</h2><p><a href="http://uva.onlinejudge.org/index.php?option=com_onlinejudge&Itemid=8&category=24&page=show_problem&problem=4163">UVa 1417 - Traffic Jam</a></p>
<p>這題是全場最噁心的題目，但是沒想到有人用 BFS 還是 DFS 在每個詢問就過了。</p>
<p>賽完看到記分板表示非常火。</p>
<p>猜測解法如下，採用線段樹的方式。</p>
<h3 id="觀察"><a href="#觀察" class="headerlink" title="觀察"></a>觀察</h3><p><img src="/img/CCPC201402.PNG" alt="2014 CCPC B01"><br><img src="/img/CCPC201403.PNG" alt="2014 CCPC B02"></p>
<p>對於任兩點詢問假設這個區間是 <code>[l, r]</code>，不管同側還是異測，當然你也可以假設兩旁還有可以連的。發現對於區間 <code>[l, r]</code> 的點來說，會有左上無法到右下的情況或者左下無法到右上，兩者只有符合一個條件就可以說出 <code>NO</code>。</p>
<h3 id="推倒"><a href="#推倒" class="headerlink" title="推倒"></a>推倒</h3><p><img src="/img/CCPC201401.PNG" alt="2014 CCPC B03"></p>
<p>因此我們維護區間 <code>[l, r]</code> 的左上到右下、左下到右上的連通性。</p>
<p>對於區間 S 來說，可以切成 S1 和 S2，維護四條資訊，連通性有無 0/1。</p>
<ul>
<li>A(左上, 右下) = <ul>
<li>S1.A &amp; S2.A &amp; (wx || yz)</li>
<li>S1.A &amp; S2.D &amp; (z || wxy)</li>
<li>S1.C &amp; S2.A &amp; (x || wyz)</li>
<li>S1.C &amp; S2.D &amp; (wz || xy)</li>
</ul>
</li>
<li>B(左下, 右上)</li>
<li>C(左上, 右上)</li>
<li>D(左下, 右下)</li>
</ul>
<p>剩餘 BCD 三條類推，有空的時候再來填滿它，也就是說，之後的開邊跟閉邊都屬於單點更新，因此可以在 <code>O(log n)</code> 時間內完成。對於詢問兩點時，找到 <code>[l, r]</code> 查找 <code>A || B</code> 的結果，由於線段樹會切成數個區間，這個時候要由左而右依序組合即可。</p>
<h2 id="Problem-C-Finding-the-Prime-Implicants-of-a-Boolean-Function"><a href="#Problem-C-Finding-the-Prime-Implicants-of-a-Boolean-Function" class="headerlink" title="Problem C Finding the Prime Implicants of a Boolean Function"></a>Problem C Finding the Prime Implicants of a Boolean Function</h2><p>這題就是單純複雜，但是輸入卻不明確。主辦單位有說會忽略空白比對，但是對於 <code>Invaild input format</code> 來說，題目也沒有說清楚輸入格式。</p>
<p>好吧，硬著頭皮做，至少把範例輸入輸出弄了一樣，但是卻砸了。</p>
<p>對了，關於 subset 有個快速地找法。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for(int j = (i-1)&amp;i; j &gt; 0; j--, j &amp;= i) &#123;</span><br><span class="line">    // j 是 i 的 subset</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>這個寫法會在幾題的 UVa 中見到，速度快了 X 倍，不過這題測資沒有強成這樣，也許只是我寫太瘋狂了，想不到更好的解法來完成。最後掛了 <code>Wrong Answer</code>，直接默哀數分鐘。在我心中－她過了。</p>
<p>這題就是窮舉，將每一種組合拆成兩個去合併，而每一種組合(16 bits)如果能合併成一個 <code>product item</code> 則用一個 <code>exist(4 bits)</code> 和 <code>mark(4 bits)</code> 表示，</p>
<p>因此，對於每一個組合拆成 a, b，其中 a.exist == b.exist，同時變數差異只會有一個。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;map&gt;</span><br><span class="line">#include &lt;algorithm&gt;</span><br><span class="line">#include &lt;string.h&gt;</span><br><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;sstream&gt;</span><br><span class="line">#include &lt;set&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">//int A[105] = &#123;0, 2, 3, 5,7 ,8, 9, 10, 11, 13, 15&#125;, n = 11;</span><br><span class="line">//int A[105] = &#123;0, 1, 2, 5, 6, 7, 8, 9, 10, 14&#125;, n = 10;</span><br><span class="line">int A[1024], n;</span><br><span class="line">unsigned int result[1&lt;&lt;16] = &#123;&#125;;</span><br><span class="line">unsigned int mergeV[1&lt;&lt;16] = &#123;&#125;;</span><br><span class="line">struct cmp &#123;</span><br><span class="line">    bool operator()(const int a, const int b) const &#123;</span><br><span class="line">        for(int i = 0; i &lt; 16; i++) &#123;</span><br><span class="line">            int ia, ib;</span><br><span class="line">            ia = (a&gt;&gt;i)&amp;1;</span><br><span class="line">            ib = (b&gt;&gt;i)&amp;1;</span><br><span class="line">            if(ia != ib)</span><br><span class="line">                return ia &gt; ib;</span><br><span class="line">        &#125;</span><br><span class="line">        return a &lt; b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">void solv() &#123;</span><br><span class="line">    map&lt;unsigned int, int&gt; combine;</span><br><span class="line">    map&lt;unsigned int, int&gt; combineN;</span><br><span class="line">    for(int i = 0; i &lt; (1&lt;&lt;16); i++) &#123;</span><br><span class="line">        result[i] = mergeV[i] = 0;</span><br><span class="line">    &#125;</span><br><span class="line">    for(int i = 0; i &lt; n; i++) &#123;</span><br><span class="line">        unsigned int mark = 15; // exits</span><br><span class="line">        unsigned int ssss = A[i];</span><br><span class="line">        combine[(ssss&lt;&lt;16)|mark]++;</span><br><span class="line">        combineN[(ssss&lt;&lt;16)|mark] = 1&lt;&lt;A[i];</span><br><span class="line">        result[1&lt;&lt;A[i]] = (ssss&lt;&lt;16)|mark;</span><br><span class="line">        mergeV[1&lt;&lt;A[i]] = 1;</span><br><span class="line">    &#125;</span><br><span class="line">    for(int i = 1; i &lt; (1&lt;&lt;16); i++) &#123;</span><br><span class="line">        if((i&amp;(-i)) == i)</span><br><span class="line">            continue;</span><br><span class="line">        int ok = 0;</span><br><span class="line">        unsigned int V;</span><br><span class="line">        for(int j = 1; j &lt; i; j++) &#123;</span><br><span class="line">            if((i&amp;j) == j) &#123;</span><br><span class="line">                int a, b;</span><br><span class="line">                a = j, b = i^j;</span><br><span class="line">                if(mergeV[a] &amp;&amp; mergeV[b]) &#123;</span><br><span class="line">                    unsigned int markA, markB;</span><br><span class="line">                    unsigned int ssssA, ssssB;</span><br><span class="line">                    markA = result[a]&amp;((1&lt;&lt;16)-1);</span><br><span class="line">                    markB = result[b]&amp;((1&lt;&lt;16)-1);</span><br><span class="line">                    ssssA = result[a]&gt;&gt;16;</span><br><span class="line">                    ssssB = result[b]&gt;&gt;16;</span><br><span class="line">                    if(markA == markB) &#123;</span><br><span class="line">                        unsigned int diff = ssssA ^ ssssB;</span><br><span class="line">                        if((diff&amp;(-diff)) == diff) &#123;</span><br><span class="line">                            unsigned int markC = (markA) ^ diff;</span><br><span class="line">                            unsigned int ssssC = min(ssssA, ssssB);</span><br><span class="line">                            ok = 1;</span><br><span class="line">                            combine[result[a]]++;</span><br><span class="line">                            combine[result[b]]++;</span><br><span class="line">                            V = (ssssC&lt;&lt;16)|markC;</span><br><span class="line">                            combineN[(ssssC&lt;&lt;16)|markC] = i;</span><br><span class="line">                            result[i] = (ssssC&lt;&lt;16)|markC;</span><br><span class="line">                            mergeV[i] = 1;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        if(ok)</span><br><span class="line">            combine[V]++;</span><br><span class="line">    &#125;</span><br><span class="line">    set&lt; int, cmp &gt; output[20];</span><br><span class="line">    for(map&lt;unsigned int, int&gt;::iterator it = combine.begin();</span><br><span class="line">        it != combine.end(); it++) &#123;</span><br><span class="line">        if(it-&gt;second &gt; 1)</span><br><span class="line">            continue;</span><br><span class="line">        /*printf(&quot;merge %d: count %d \n&quot;, it-&gt;first, it-&gt;second);*/</span><br><span class="line">        </span><br><span class="line">        unsigned int markA;</span><br><span class="line">        unsigned int ssssA;</span><br><span class="line">        markA = it-&gt;first&amp;((1&lt;&lt;16)-1);</span><br><span class="line">        ssssA = it-&gt;first&gt;&gt;16;</span><br><span class="line">        int cc = combineN[it-&gt;first];</span><br><span class="line">        /*for(int i = 0; i &lt; 4; i++) &#123;</span><br><span class="line">            printf(&quot;%d &quot;, (markA&gt;&gt;i)&amp;1);</span><br><span class="line">        &#125;</span><br><span class="line">        puts(&quot;  e &quot;);</span><br><span class="line">        for(int i = 0; i &lt; 4; i++) &#123;</span><br><span class="line">            printf(&quot;%d &quot;, (ssssA&gt;&gt;i)&amp;1);</span><br><span class="line">        &#125;</span><br><span class="line">        puts(&quot;&quot;);</span><br><span class="line">        for(int i = 0; i &lt; 16; i++) &#123;</span><br><span class="line">            if((cc&gt;&gt;i)&amp;1)</span><br><span class="line">                printf(&quot;%d &quot;, i);</span><br><span class="line">        &#125;</span><br><span class="line">        puts(&quot;&quot;);*/</span><br><span class="line">        int osize = 0;</span><br><span class="line">        for(int i = 0; i &lt; 16; i++) &#123;</span><br><span class="line">            if((cc&gt;&gt;i)&amp;1)</span><br><span class="line">                osize++;</span><br><span class="line">        &#125;</span><br><span class="line">        output[osize].insert(cc);</span><br><span class="line">    &#125;</span><br><span class="line">    int f = 0;</span><br><span class="line">    for(int k = 16; k &gt;= 0; k--)</span><br><span class="line">        for(set&lt; int &gt;::iterator it = output[k].begin();</span><br><span class="line">            it != output[k].end(); it++) &#123;</span><br><span class="line">            int cc = (*it);</span><br><span class="line">            if(f)	printf(&quot;,&quot;);</span><br><span class="line">            f = 1;</span><br><span class="line">            putchar(&#x27;(&#x27;);</span><br><span class="line">            int f2 = 0;</span><br><span class="line">            for(int i = 0; i &lt; 16; i++) &#123;</span><br><span class="line">                if((cc&gt;&gt;i)&amp;1) &#123;</span><br><span class="line">                    if(f2)	printf(&quot;, &quot;);</span><br><span class="line">                    f2 = 1;</span><br><span class="line">                    printf(&quot;%d&quot;, i);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            putchar(&#x27;)&#x27;);</span><br><span class="line">        &#125;</span><br><span class="line">    puts(&quot;&quot;);</span><br><span class="line">&#125;</span><br><span class="line">int main() &#123;</span><br><span class="line">    char in[1024];</span><br><span class="line">    while(gets(in)) &#123;</span><br><span class="line">        int error = 0;</span><br><span class="line">        for(int i = 0; in[i]; i++) &#123;</span><br><span class="line">            if(in[i] == &#x27;)&#x27;)</span><br><span class="line">                in[i] = &#x27; &#x27;;</span><br><span class="line">            else if(in[i] == &#x27;(&#x27;)</span><br><span class="line">                in[i] = &#x27; &#x27;;</span><br><span class="line">            else if(in[i] == &#x27;,&#x27;)</span><br><span class="line">                in[i] = &#x27; &#x27;;</span><br><span class="line">            else if(in[i] &lt;= &#x27;9&#x27; &amp;&amp; in[i] &gt;= &#x27;0&#x27;)</span><br><span class="line">                continue;</span><br><span class="line">            else</span><br><span class="line">                error = 1;</span><br><span class="line">        &#125;</span><br><span class="line">        stringstream sin(in);</span><br><span class="line">        int number;</span><br><span class="line">        n = 0;</span><br><span class="line">        while(sin &gt;&gt; number) &#123;</span><br><span class="line">            A[n++] = number;</span><br><span class="line">        &#125;</span><br><span class="line">        if(n &gt;= 1024)</span><br><span class="line">            while(1);</span><br><span class="line">        sort(A, A+n);</span><br><span class="line">        int ok = 1;</span><br><span class="line">        for(int i = 0; i &lt; n; i++)</span><br><span class="line">            if(A[i] &lt; 0 || A[i] &gt; 15)</span><br><span class="line">                ok = 0;</span><br><span class="line">        if(ok == 0 || error) &#123;</span><br><span class="line">            printf(&quot;Invalid input format&quot;);</span><br><span class="line">            continue;</span><br><span class="line">        &#125;/*</span><br><span class="line">        printf(&quot;%d\n&quot;, n);</span><br><span class="line">        for(int i = 0; i &lt; n; i++)</span><br><span class="line">            printf(&quot;%d\n&quot;, A[i]);*/</span><br><span class="line">        solv();</span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line">/*</span><br><span class="line">(0,2,5,8,10)</span><br><span class="line">(0,2,3,5,7,8,9,10,11,13,15)</span><br><span class="line">(0,1,2,5,6,7,8,9,10,14)</span><br><span class="line">(0,1,2,4,5,6,8,9,12,13,14)</span><br><span class="line">(0,1,2,5,6,7,8,9,10,16)</span><br><span class="line">*/</span><br></pre></td></tr></table></figure>

<h2 id="Problem-D-Binary-String"><a href="#Problem-D-Binary-String" class="headerlink" title="Problem D Binary String"></a>Problem D Binary String</h2><p>雖然詢問每個參數最大上限後，發現在 m = 100 的情況下，窮舉有點刺激，但是題目卻是要求輸出每一種組合，所以想必組合也不會太多，所以直接亂來吧！</p>
<p>至於以下代碼的正確性就交給神吧，反正都是亂做過的。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n, m, s_ones;</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> s[<span class="number">105</span>], ret[<span class="number">105</span>];</span><br><span class="line"><span class="keyword">int</span> slen = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> idx, <span class="keyword">int</span> ones, <span class="keyword">int</span> has)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(ones &gt; m)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span>(has == <span class="number">0</span> &amp;&amp; idx - slen &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">int</span> ok = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = idx - slen, j = <span class="number">0</span>; j &lt; slen; j++, i++) &#123;</span><br><span class="line">            ok &amp;= ret[i] == s[j];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(ok)</span><br><span class="line">            has = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(idx == n) &#123;</span><br><span class="line">        <span class="keyword">if</span>(ones != m || !has)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        ret[n] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">        <span class="built_in">puts</span>(ret);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    ret[idx] = <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    <span class="built_in">dfs</span>(idx+<span class="number">1</span>, ones, has);</span><br><span class="line">    ret[idx] = <span class="string">&#x27;1&#x27;</span>;</span><br><span class="line">    <span class="built_in">dfs</span>(idx+<span class="number">1</span>, ones+<span class="number">1</span>, has);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d %d %s&quot;</span>, &amp;n, &amp;m, s) == <span class="number">3</span>) &#123;</span><br><span class="line">        s_ones = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; s[i]; i++)</span><br><span class="line">            s_ones += s[i] == <span class="string">&#x27;1&#x27;</span>;</span><br><span class="line">        slen = <span class="built_in">strlen</span>(s);</span><br><span class="line">        <span class="built_in">dfs</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Problem-E-Digits-Count"><a href="#Problem-E-Digits-Count" class="headerlink" title="Problem E Digits Count"></a>Problem E Digits Count</h2><p>這題在 UVa 見過，但是要在比賽中打出來，卻卡死兩個很久沒用腦的人，直到鎖版 (最後一個小時) 才湊出來。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">mpow</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> m)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; i++)</span><br><span class="line">        ret *= n;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">calc</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> cnt[])</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n &lt;= <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">//printf(&quot;%d\n&quot;, n);</span></span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">105</span>];</span><br><span class="line">    <span class="built_in">sprintf</span>(buf, <span class="string">&quot;%d&quot;</span>, n);</span><br><span class="line">    <span class="keyword">int</span> len = <span class="built_in">strlen</span>(buf);</span><br><span class="line">    <span class="keyword">int</span> prev = <span class="number">0</span>, suffix;</span><br><span class="line">    <span class="built_in">calc</span>(<span class="built_in">mpow</span>(<span class="number">10</span>, len<span class="number">-1</span>)<span class="number">-1</span>, cnt);</span><br><span class="line">    <span class="comment">//for(int i = 0; i &lt; 10; i++)</span></span><br><span class="line">    <span class="comment">//	cnt[i] = 0;</span></span><br><span class="line">    <span class="keyword">int</span> prev10 = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> d = buf[i] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        <span class="built_in">sscanf</span>(buf+i+<span class="number">1</span>, <span class="string">&quot;%d&quot;</span>, &amp;suffix);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(i != len<span class="number">-1</span>)</span><br><span class="line">            cnt[d] += suffix + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            cnt[d]++;</span><br><span class="line">        <span class="keyword">if</span>(i != <span class="number">0</span>)</span><br><span class="line">            cnt[d] += (prev - prev10/<span class="number">10</span>) * <span class="built_in">mpow</span>(<span class="number">10</span>, len-i<span class="number">-1</span>);</span><br><span class="line">    <span class="comment">//	pritnf(&quot;%d \n&quot;, );</span></span><br><span class="line">    <span class="comment">//	puts(&quot;&quot;);</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = i == <span class="number">0</span>; j &lt; <span class="number">10</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(j == d)	<span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span>(j &lt; d) &#123;</span><br><span class="line">                <span class="keyword">if</span>(prev &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    cnt[j] += (prev - prev10/<span class="number">10</span> + <span class="number">1</span>) * <span class="built_in">mpow</span>(<span class="number">10</span>, len-i<span class="number">-1</span>);</span><br><span class="line">                    <span class="comment">//printf(&quot;%d %d\n&quot;, j, (prev - prev10/10 + 1) * mpow(10, len-i-2));</span></span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    cnt[j] += <span class="built_in">mpow</span>(<span class="number">10</span>, len-i<span class="number">-1</span>);</span><br><span class="line">                    <span class="comment">//printf(&quot;%d %d\n&quot;, j, mpow(10, len-i-1));</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(prev &gt; <span class="number">0</span> &amp;&amp; prev - prev10/<span class="number">10</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    cnt[j] += (prev - prev10/<span class="number">10</span>) * <span class="built_in">mpow</span>(<span class="number">10</span>, len-i<span class="number">-1</span>);</span><br><span class="line">                    <span class="comment">//printf(&quot;%d %d\n&quot;, j, (prev - prev10/10 + 1) * mpow(10, len-i-2));</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        prev10 *= <span class="number">10</span>;</span><br><span class="line">        prev = prev * <span class="number">10</span> + d;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*for(int i = 0; i &lt; 10; i++)</span></span><br><span class="line"><span class="comment">		printf(&quot;%d &quot;, cnt[i]);</span></span><br><span class="line"><span class="comment">	puts(&quot;&quot;);*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">brute</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> cnt[<span class="number">10</span>] = &#123;&#125;;</span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">105</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="built_in">sprintf</span>(buf, <span class="string">&quot;%d&quot;</span>, i);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; buf[j]; j++)</span><br><span class="line">            cnt[buf[j]-<span class="string">&#x27;0&#x27;</span>]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, cnt[i]);</span><br><span class="line">    <span class="built_in">puts</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> l, r;</span><br><span class="line">    <span class="comment">/*while(scanf(&quot;%d&quot;, &amp;l) == 1) &#123;</span></span><br><span class="line"><span class="comment">		brute(l);</span></span><br><span class="line"><span class="comment">		int cnt[10] = &#123;&#125;;</span></span><br><span class="line"><span class="comment">		calc(l, cnt);</span></span><br><span class="line"><span class="comment">		for(int i = 0; i &lt; 10; i++)</span></span><br><span class="line"><span class="comment">			printf(&quot;%d &quot;, cnt[i]);</span></span><br><span class="line"><span class="comment">		puts(&quot;&quot;);</span></span><br><span class="line"><span class="comment">	&#125;*/</span></span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;l, &amp;r) == <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(l == <span class="number">0</span> &amp;&amp; r == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">int</span> A[<span class="number">10</span>] = &#123;&#125;, B[<span class="number">10</span>] = &#123;&#125;;</span><br><span class="line">        <span class="built_in">calc</span>(l<span class="number">-1</span>, A);</span><br><span class="line">        <span class="built_in">calc</span>(r, B);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d%c&quot;</span>, B[i] - A[i], i ==  <span class="number">9</span> ? <span class="string">&#x27;\n&#x27;</span> : <span class="string">&#x27; &#x27;</span>);</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Problem-F-Math-Problem"><a href="#Problem-F-Math-Problem" class="headerlink" title="Problem F Math Problem"></a>Problem F Math Problem</h2><p>大數二分開 n 方，根據別組的討論，才發現數字其實還挺小的，用 <code>double</code> 型態做 log 運算即可。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.math.BigInteger;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> <span class="keyword">throws</span> Exception </span>&#123; <span class="comment">// µ&#123;¦¡¶i¤JÂI</span></span><br><span class="line">        Scanner cin = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">while</span>(cin.hasNext()) &#123;</span><br><span class="line">            <span class="keyword">int</span> n = cin.nextInt();</span><br><span class="line">            String p = cin.next();</span><br><span class="line">            <span class="keyword">if</span>(n == <span class="number">1</span>) &#123;</span><br><span class="line">                System.out.println(p);</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            BigInteger bigp = <span class="keyword">new</span> BigInteger(p);</span><br><span class="line">            BigInteger l = BigInteger.ZERO;</span><br><span class="line">            BigInteger r = <span class="keyword">new</span> BigInteger(p);</span><br><span class="line">            BigInteger m = l, mid, mmid;</span><br><span class="line">            <span class="keyword">while</span>(l.compareTo(r) &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                mid = l.add(r).shiftRight(<span class="number">1</span>);</span><br><span class="line">                mmid = mid.pow(n);</span><br><span class="line">                <span class="keyword">if</span>(mmid.compareTo(bigp) &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    l = mid.add(BigInteger.ONE);</span><br><span class="line">                    m = mid;</span><br><span class="line">                &#125; <span class="keyword">else</span></span><br><span class="line">                    r = mid.subtract(BigInteger.ONE);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(m);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Problem-G-Better-Method"><a href="#Problem-G-Better-Method" class="headerlink" title="Problem G Better Method"></a>Problem G Better Method</h2><p>聽說是曾經的萬年測試題，這次難得變成主角，肯定是想要每組至少都能帶一題回去。跟 ICPC 一樣的設計方式呢。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = n;</span><br><span class="line">    <span class="keyword">while</span>(n &gt;= <span class="number">3</span>) &#123;</span><br><span class="line">        ret += n/<span class="number">3</span>;</span><br><span class="line">        n = n%<span class="number">3</span> + n/<span class="number">3</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n) == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">int</span> v = <span class="built_in">max</span>(<span class="built_in">f</span>(n), <span class="built_in">f</span>(n+<span class="number">1</span>)<span class="number">-1</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, v);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Problem-H-K-Anonymous-Sequence"><a href="#Problem-H-K-Anonymous-Sequence" class="headerlink" title="Problem H K-Anonymous Sequence"></a>Problem H K-Anonymous Sequence</h2><p>本次第二難的題目，但比賽時也是用假解過的，實質為單調對列，可以在 <code>O(n)</code> 時間內完成。至於假解的方式就不方便提供。</p>
<h1 id="賽後"><a href="#賽後" class="headerlink" title="賽後"></a>賽後</h1><p>UVa 2000+ 才到這了，腦部硬體的差距就是如此地遙遠，即使捨去其他應用軟體，仍然趕不上嗎？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Rank	Name	Solved	Time	    A    	    B    	    C    	    D    	    E    	    F    	    G    	    H    	Total att/solv</span><br><span class="line">1	team22	6	608	1/11	2/58	0/--	3/141	1/221	1/50	1/67	5/--	14/6</span><br><span class="line">2	team2	6	844	2/32	7/--	14/--	1/108	1/244	1/19	1/11	8/270	35/6</span><br><span class="line">3	team4	5	530	1/7	1/281	26/--	1/217	1/--	1/9	1/16	0/--	32/5</span><br><span class="line">4	team17	5	698	2/13	1/105	1/--	4/296	0/--	1/167	1/37	3/--	13/5</span><br><span class="line">5	team1	5	958	3/286	0/--	4/240	4/--	1/178	1/69	1/85	0/--	14/5</span><br><span class="line">6	team12	4	177	1/11	0/--	3/--	0/--	1/138	1/17	1/11	0/--	7/4</span><br><span class="line">7	team3	4	359	1/108	0/--	5/--	0/--	1/188	1/35	1/28	0/--	9/4</span><br><span class="line">8	team23	4	776	1/12	7/278	0/--	0/--	0/--	1/57	5/229	0/--	14/4</span><br><span class="line">9	team20	4	815	8/131	4/159	0/--	0/--	0/--	1/164	1/161	0/--	14/4</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">名次	學校學系	隊名</span><br><span class="line">第一名	國立成功大學資訊工程學系	ItsNotCode</span><br><span class="line">第二名	國立中央大學資訊工程學系	Morri$</span><br><span class="line">第三名	國立清華大學資訊工程學系	ISeaTeL</span><br><span class="line">佳作	國立成功大學資訊工程學系	Insert</span><br><span class="line">佳作	國立臺北大學資訊工程學系	Forward Thinking</span><br><span class="line">佳作	國立清華大學資訊工程學系	JustInTime</span><br></pre></td></tr></table></figure>
        
      
    </div>

  </div>
  
    
<nav id="article-nav">
  
    <a href="/2014/05/01/oj/uva/uva-12345/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          UVa 12345 - Dynamic len(set(a[L:R]))
        
      </div>
    </a>
  
  
    <a href="/2014/04/26/web/html5-music-and-drag-file/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">HTML5 Music Player (本地拖曳撥放)</div>
    </a>
  
</nav>

  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>
</section>
          
          
        
      </div>
      <footer id="footer">
  
  <div class="outer">    
    <div class="social-group">
      
      <a href="https://github.com/morris821028" target="_blank" title="github"><i class="icon-github"></i></a>
      
      
      <a href="https://www.facebook.com/Morris1028" target="_blank" title="facebook"><i class="icon-facebook-sign"></i></a>
      
      
      <a href="http://uhunt.felix-halim.net/id/46705" target="_blank" title="uhunt" ><span class="icon-uhunt">UVa<span></a>
      
    </div>
    <div id="footer-info" class="inner">
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and Theme by <a href="https://github.com/morris821028/hexo-theme-landscape" target="_blank" title="landscape">landscape</a> &copy; 2021 Shiang-Yun Yang 
    </div>
  </div>
</footer>


    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link"><i class=icon-home ></i>&nbsp&nbspHome</a>
  
    <a href="/about" class="mobile-nav-link"><i class=icon-user ></i>&nbsp&nbspAbout</a>
  
    <a href="/archives" class="mobile-nav-link"><i class=icon-archive ></i>&nbsp&nbspArchives</a>
  
    <a href="/tags" class="mobile-nav-link"><i class=icon-tags ></i>&nbsp&nbspTags</a>
  
    <a href="/picture" class="mobile-nav-link"><i class=icon-camera ></i>&nbsp&nbspPictures</a>
  
    <a href="/works" class="mobile-nav-link"><i class=icon-trophy ></i>&nbsp&nbspWorks</a>
  
</nav>
    
<script>
  var disqus_shortname = 'morris1028';
  
  var disqus_url = 'http://morris821028.github.io/2014/04/28/note/ccpc-2014/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//go.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/jquery.lazyload.js"></script>
<script src="/js/jquery.als-1.6.js"></script>

<script src="/js/script.js"></script>

  </div><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</body>
</html>