<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <title>Morris&#39; Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Morris&#39; Blog">
<meta property="og:url" content="http://morris821028.github.io/page/24/index.html">
<meta property="og:site_name" content="Morris&#39; Blog">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Morris&#39; Blog">
<link rel="publisher" href="108158678174364350000">
  
    <link rel="alternative" href="/atom.xml" title="Morris&#39; Blog" type="application/atom+xml">
  
  
    <meta name="google-site-verification" content="5mRgj8NanEMpGZuNfHNJNmH90RgNlrnJXsFlTaKD6Gs" />
  
  
    <link rel="shortcut icon" href="/img/f.ico">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <script src="/js/jquery-2.1.0.min.js"></script>
  <link rel="stylesheet" href="/css/style.css">
  
  <link rel="stylesheet" href="http://cdn.oesmith.co.uk/morris-0.5.1.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
<script src="http://cdn.oesmith.co.uk/morris-0.5.1.min.js"></script>
  <!-- <link rel="import" href="/bower_components/app-layout/app-layout.html"> --><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>
<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"><div id="banner-right"></div></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Morris&#39; Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          
            <a class="main-nav-link" href="/"><i class=icon-home title='Home'></i></a>
          
        
          
            <a class="main-nav-link" href="/about"><i class=icon-user title='About'></i></a>
          
        
          
            <a class="main-nav-link" href="/archives"><i class=icon-archive title='Archives'></i></a>
          
        
          
            <a class="main-nav-link" href="/tags"><i class=icon-tags title='Tags'></i></a>
          
        
          
            <a class="main-nav-link" href="/picture"><i class=icon-camera title='Pictures'></i></a>
          
        
          
            <a class="main-nav-link" href="/works"><i class=icon-trophy title='Works'></i></a>
          
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://morris821028.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        
          
          <section id="main">
  
    <article id="post-security-notes6" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/06/19/security-notes6/" class="article-date">
  <time datetime="2015-06-19T07:20:52.000Z" itemprop="datePublished">2015-06-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/學校課程/">學校課程</a>/<a class="article-category-link" href="/categories/學校課程/資訊安全/">資訊安全</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/19/security-notes6/">近代加密 複習 續</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2015/06/19/security-notes6/" data-id="ckpaqpy7k00f400vnc32w7bcd" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2015/06/19/security-notes6/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/密碼學/">密碼學</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>幾乎是密碼學基礎數論，看來也走到這了。</p>
<h2 id="亂來"><a href="#亂來" class="headerlink" title="亂來"></a>亂來</h2><p>隨便寫寫，上課不專心真是抱歉。</p>
<ol>
<li><p>Given an integer <span>$x$</span><!-- Has MathJax -->, what is the requirement to let the multiplcative inverse <span>$x^{-1}$</span><!-- Has MathJax --> exist when modulo <span>$p$</span><!-- Has MathJax -->?  if <span>$x^{-1} \mod p$</span><!-- Has MathJax --> exists, please write down the equation (based on Fermat’s theorem) used to compute <span>$x^{-1} \mod p$</span><!-- Has MathJax -->. (5%)</p>
<ol>
<li>condition: <span>$gcd(x, p) = 1$</span><!-- Has MathJax --> for multiplcative inverse <span>$x^{-1}$</span><!-- Has MathJax --> exist when modulo <span>$p$</span><!-- Has MathJax --></li>
<li>Fermat’s theorem :   <span>$x^{p-1} = 1 \mod p \Rightarrow x^{p-2} \times x = 1 \mod p$</span><!-- Has MathJax -->
<span>$x^{-1} = x^{p-2} \mod p$</span><!-- Has MathJax -->
</li>
</ol>
</li>
<li><p>What is the Euler totient function <span>$\phi(n)$</span><!-- Has MathJax -->? Please answer <span>$\phi(77) = ?$</span><!-- Has MathJax --></p>
 <span>$\phi(n)$</span><!-- Has MathJax --> 表示 1 到 n 之內的整數，有多少與 n 互質的個數。<br> <span>$\phi(77) = 77 \times (1 - 1 / 7) \times (1 - 1 / 11) = 60$</span><!-- Has MathJax -->
</li>
<li><p>Whais the discrete logarithm problem?   (5%)<br> 對於等式 <span>$y = x^a \mod p$</span><!-- Has MathJax -->，已知三整數 y, x, p，解出 a 的問題。詳見小步大步算法 baby-step-giant-step，複雜度 <span>$O(\sqrt p)$</span><!-- Has MathJax --></p>
</li>
<li><p>What is a hybrid cryptography?   (5%)<br>$<span>$\text{hybrid cryptosystem } = \text{ public-key cryptosystem } + \text{ symmetric-key cryptosystem}$</span><!-- Has MathJax -->$  </p>
<ul>
<li>public-key cryptosystem<br>提供 key encapsulation，就是 key 的安全性和簽章認證，保護 key 傳輸、保管上的問題。</li>
<li>symmetric-key cryptosystem<br>提供 data encapsulation，提供高效率的加解密效能。</li>
</ul>
</li>
<li><p>What are the two primary reasons of using a cryptographic hash before signing a signature?   (5%)<br>cryptographic hash 密碼雜湊函數，通常會計算 <span>$hash(M)$</span><!-- Has MathJax --></p>
<ul>
<li>單向不可逆<br>難以給定一個雜湊值，並且逆推得到當初輸入的數值。<ul>
<li>提供訊息修改檢查，相同的訊息進行雜湊，高機率會是不同。<br><span>$hash(M1) \neq hash(M2)$</span><!-- Has MathJax -->，如果 M1 和 M2 差異只有數個 bits 不同。</li>
<li>防止在傳輸過程中被竄改。對於簽章則更難竄改成相同雜湊值且具有 <strong> 意義 </strong> 的訊息 <span>$M&apos;$</span><!-- Has MathJax -->。</li>
</ul>
</li>
<li>容易計算<br>將一個長度很大的訊息，壓縮一個固定長度的數值，這數值方便後續算法計算用加密算法的部分。</li>
</ul>
</li>
<li><p>Please write down the RSA public key encryption and decryption process (including public key and private key generation process).   (10%)</p>
<ol>
<li><span>$N = p \times q$</span><!-- Has MathJax --></li>
<li><span>$\phi(N) = (p-1)(q-1)$</span><!-- Has MathJax --></li>
<li><span>$gcd(\phi(N), e) = 1, \phi(N) &gt; e &gt; 1$</span><!-- Has MathJax --></li>
<li><span>$d = e^{-1}, e \times d = 1 \mod &oslash;(N)$</span><!-- Has MathJax --></li>
<li>public <span>$e, N$</span><!-- Has MathJax --></li>
<li>private <span>$p, q, d$</span><!-- Has MathJax --></li>
</ol>
</li>
<li><p>Please develop a left-to-right binary exponentiation algorithm without “conditional jump” which is usually dangerous to some engineering attack. (10%)<br>Montgomery Ladder  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">R[0] = 1, R[1] = p</div><div class="line">for i = n-1 to 0, step = -1</div><div class="line">    R[1-a[i]] = R[0] * R[1]</div><div class="line">    R[a[i]] = R[a[i]] * R[a[i]]</div><div class="line">return R[0]</div></pre></td></tr></table></figure>
</li>
<li><p>Below is the DSA signature scheme in which <span>$p$</span><!-- Has MathJax --> is a large prime, <span>$q$</span><!-- Has MathJax --> is a 160-bit prime factor of (p - 1), <span>$g$</span><!-- Has MathJax --> is an integer of order <span>$q$</span><!-- Has MathJax --> modulo <span>$p$</span><!-- Has MathJax -->. Let <span>$x$</span><!-- Has MathJax --> be the signer’s private key and <span>$y = g^x \mod p$</span><!-- Has MathJax --> be the public key.  </p>
<ol>
<li>How to generate an integer <span>$g$</span><!-- Has MathJax --> ?   (5%)</li>
<li><p>Please complete the following nissing steps of the scheme.   (10%)</p>
</li>
<li><p>Please describe a trick for speeding up DSA’s on-line signing process. (5%)</p>
<pre><code>_______________________________________________________________________
Signing algorithm                 Verification algorithm
_______________________________________________________________________
r = (g^k mod p) mod q             w = s^-1 mod q
k is a random integer             u1 = (SHA(m) * w) mod q
s = ________________              u2 = (r * w) mod q
m is the messgae                  v = _________________
the signature is (s,r)            if v = r then the signature is correct
</code></pre></li>
</ol>
<ul>
<li><p><span>$g = h^{(p-1)/q} \mod p$</span><!-- Has MathJax --> ，其中隨機亂數 <span>$h$</span><!-- Has MathJax -->，滿足 <span>$g &gt; 1$</span><!-- Has MathJax --> 即可。<br>從費馬小定理中，有一個比較特別的計算來得到 order <span>$q$</span><!-- Has MathJax -->，所謂的 order <span>$q$</span><!-- Has MathJax --> 就是在前 <span>$q$</span><!-- Has MathJax --> 個 <span>$g^i \mod p$</span><!-- Has MathJax --> 下不會出現重複 (循環長度至少為 <span>$q$</span><!-- Has MathJax -->)，從觀察中得知循環長度 <span>$L$</span><!-- Has MathJax --> 滿足 <span>$L | p-1$</span><!-- Has MathJax -->，也就是說 <span>$L$</span><!-- Has MathJax --> 是 <span>$p-1$</span><!-- Has MathJax --> 的因數，<span>$q$</span><!-- Has MathJax --> 則是要找到一個大循環，讓攻擊者更難找到 <span>$x$</span><!-- Has MathJax -->，又因為 <span>$L$</span><!-- Has MathJax --> 是其因數，由於 <span>$q$</span><!-- Has MathJax --> 是 <span>$p-1$</span><!-- Has MathJax --> 的其中一個質因數，則保證是一個最小循環節的要求。</p>
</li>
<li><span>$s = k(SHA(m) + x \times r)$</span><!-- Has MathJax -->  
<span>$v = g^{u1} y^{u2}$</span><!-- Has MathJax -->  
</li>
<li><p>可以 offline 去預處理隨機亂數 <span>$k$</span><!-- Has MathJax -->，事先計算一堆的 <span>$r$</span><!-- Has MathJax -->、<span>$z = k^{-1}x \times r$</span><!-- Has MathJax -->，那麼計算 <span>$s$</span><!-- Has MathJax --> 可以非常的快速，<span>$s = k^{-1} SHA(M) + z \mod p$</span><!-- Has MathJax -->，假設 hash 計算快速，只動用到一次乘法和加法，相較於 RSA 的簽章方法，少了指數次方運算。</p>
</li>
</ul>
</li>
<li><p>Under the following certificate hierarchy, please provide all the details of how end user A checking the correctness of end user C’s public key by verifying a sequence of certificates. Note: User A only knows X’s public key, but does NOT have the root Z’s public key directly.   (10%)<br> 若 A 要確認 C 給的 public key 是否正確，則依循以下步驟來確認</p>
<ol>
<li>C 拿出 <code>Y&lt;&lt;C&gt;&gt;</code>，拿 Y 的 public key 進行確認 C 的 public key。</li>
<li>再檢查 Y 的 public key，Y 拿出 <code>Z&lt;&lt;Y&gt;&gt;</code>，拿 Z 的 public key 進行確認 Y 的 public key。</li>
<li>再檢查 Z 的 public key，Z 拿出 <code>X&lt;&lt;Z&gt;&gt;</code>，拿 X 的 public key 進行確認 Z 的 public key。</li>
<li>由於我們知道 X 的 public key (藉由實地臨櫃面對面確認 X 的 public key)，最後驗證 C 給的是正確的 public key。<pre><code>      Z
    ／ ＼          Notation used
   X     Y         X&lt;&lt;A&gt;&gt;:
 ／ ＼    ＼       A&apos;s certificate issued by X
A     B     C
</code></pre></li>
</ol>
</li>
<li><p>Pleasewrite down the Diffie-Hellman key exchange protocol (including the public key and private key generation process). (10%)  What is the man-in-middle (or the middle person) attack?   (5%)  </p>
<ul>
<li>共同決定一個大質數 <span>$p$</span><!-- Has MathJax --> 和一個基底 <span>$g$</span><!-- Has MathJax --> (全部人都知道)</li>
<li>每個人 A 擁有自己的 private key <span>$x_A$</span><!-- Has MathJax --> (<span>$x_A &lt; p - 1$</span><!-- Has MathJax -->)</li>
<li>每個人 A 計算自己的 public key <span>$y_A$</span><!-- Has MathJax --> (<span>$y_A = g^{x_A} \mod p$</span><!-- Has MathJax -->)</li>
</ul>
<p>假設有兩個人 A, B 要通訊，則把自己的 public key 交給對方，共同產生出一把暫時的 key <span>$K_{AB}$</span><!-- Has MathJax --> 進行通訊加密。</p>
<ul>
<li>對於 A 來說會接收到 <span>$y_B$</span><!-- Has MathJax -->，計算<span>$K_{AB} = (y_B)^{x_A} = g^{x_B \times x_A} \mod p$</span><!-- Has MathJax --></li>
<li>對於 B 來說會接收到 <span>$y_A$</span><!-- Has MathJax -->，計算<span>$K_{AB} = (y_A)^{x_B} = g^{x_A \times x_B} \mod p$</span><!-- Has MathJax --></li>
<li>由於離散對數是一個困難問題，很難藉由攔截紀錄來得到對方的 private key <span>$x_A$</span><!-- Has MathJax -->，因此有一定的安全性。</li>
</ul>
<p>假若現在要進行中間人 C 的攻擊，則會在一開始交換 <span>$K_{AB}$</span><!-- Has MathJax --> 的時候插入到其中通訊。</p>
<ul>
<li>A 發送 <span>$y_A$</span><!-- Has MathJax --> 給 B 時，受到 C 的攔截。</li>
<li>C 知道 A 想要跟 B 通訊，則把自己的 <span>$y_C$</span><!-- Has MathJax --> 發送給 B，並且也傳一份給 A。</li>
<li>B 以為是 A 要進行通訊，實質拿到 <span>$y_C$</span><!-- Has MathJax --> 而非 <span>$y_A$</span><!-- Has MathJax -->。</li>
<li>產生兩把 key<span>$K_{AC}, K_{CB}$</span><!-- Has MathJax -->，C 就偷偷在中間偷聽，並且作為中繼傳送訊息，需要解密 (拿<span>$K_{AC} \text{ or } K_{CB}$</span><!-- Has MathJax -->) 之後再進行加密<span>$K_{CB} \text{ or } K_{AC}$</span><!-- Has MathJax --> 送給另一方。</li>
</ul>
<p>如何防止中間人攻擊，大約有幾種方法，但牽涉到可信任第三方、計算速度。</p>
<ul>
<li>發送訊息上，計算時間的延遲不得超過一定限制，否則可能存在中間人攻擊。</li>
<li>藉由可信任第三方 CA (Certificate Authority) 來驗證彼此的 public key 歸屬於誰<br>由 CA 簽認<span>$Sign_{CA}(\text{public key || owner_id || expiration date || ...})$</span><!-- Has MathJax -->，如此一來如果存在 C 中間人，則轉交 <span>$y_C$</span><!-- Has MathJax --> 給 B 時，B 就會藉由 CA 驗證得到 <code>owner_id</code> 不是通訊對象 A。如果 CA 不可信任，則可以讓 C 簽一個<span>$Sign_{CA}(\text{public key C || owner_A || expiration date || ...})$</span><!-- Has MathJax --> 來欺騙 A 和 B，也就是說 CA 和 C 偷偷在私底下做了黑心勾當，那麼中間人攻擊仍是存在的。</li>
</ul>
</li>
<li><p>Both message authentication code (MAC) and digital signature can be used to provide the functionality of message origin and integrity check. Please briefly describe these two techniwues and compare percisely the difference between these two techniques.   (10%)<br>message authentication code (文件訊息鑑別) 顧名思義就是針對 message 進行驗證，確認發送者身分和資料完整性，相較於 digital signature (數位簽章) 也是做相同的事情，訊息量不同且產生出來的結果也大不相同。通常文件訊息鑑別會破壞儲存資訊，藉由雙方共享的 key 來進行身分認證，可用暫時性的 key，若採用非對稱式則需要額外的數位簽章來輔助驗證發送者。而數位簽章則是提供有效期限內的使用，這把驗證的 public key 必須存在比較長的時間。<br>數位簽章簽定時不知道對方怎麼簽，但能驗證是他簽的並且只有他簽得出來，文件訊息鑑別通常知道對方用什麼流程輸出一樣的數值。</p>
</li>
</ol>
<table>
<thead>
<tr>
<th>類型\性質</th>
<th>加密類型</th>
<th>輸出訊息</th>
<th>碰撞情況</th>
<th>重複使用</th>
</tr>
</thead>
<tbody>
<tr>
<td>文件訊息鑑別</td>
<td>普遍上對稱式</td>
<td>不管多長都固定長度</td>
<td>存在</td>
<td>相同輸入 - 相同輸出</td>
</tr>
<tr>
<td>數位簽章</td>
<td>非對稱式</td>
<td>視情況而定</td>
<td>視情況而定</td>
<td>相同輸入 - 可能不同輸出</td>
</tr>
</tbody>
</table>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-speech-human-life" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/06/18/speech-human-life/" class="article-date">
  <time datetime="2015-06-17T23:25:50.000Z" itemprop="datePublished">2015-06-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/手札日記/">手札日記</a>
  </div>

  </div>
  <div class="article-inner ">
    
<div class="article-gallery">
  <div class="article-gallery-photos">
    
      <a class="article-gallery-img fancybox" href="http://i.imgur.com/edoaM4Y.png" rel="gallery_ckpaqpy7n00fb00vn8lgaep60">
        <img src="http://i.imgur.com/edoaM4Y.png" itemprop="image">
      </a>
    
  </div>
</div>

    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/18/speech-human-life/">人之何以為人、105 號公路 外出紀錄</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2015/06/18/speech-human-life/" data-id="ckpaqpy7n00fb00vn8lgaep60" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2015/06/18/speech-human-life/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/中央大學/">中央大學</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/服務學習/">服務學習</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>現在學校活動也告一段落，即將要進入淡季，因此對於活動時數認證會變得更加麻煩。學校活動大多都是剩下營隊，當然也只有工作人員才能參與來替換時數，只能參與一半的半吊子可是無法融入進去的。於是被催著去參加校外活動來補這一個門檻問題。</p>
<p>來到中壢，基本上也就只有在校園、火車站及租房地點三角範圍內行動，對於其他地點一概不知，在中壢的學校有中原、元智以及我們中央，之前有被學長帶去中原夜市，若要自行出發還算個挑戰，曾考慮騎車去參加活動，但在前幾天去演練騎車過去時，卻不知不覺繞回學校，中壢的環狀分布、高架橋之路線讓我卻步，看來還是搭公車較為妥當。</p>
<p>去過中原夜市，卻沒進過中原大學，去過元智大學參加程式競賽，卻不知道怎麼自行前往。早上聽完一場演講後，趕緊搭公車轉兩次過去，在一個小時內就抵達中原，比預期中還來得順暢。在提早到達後，走在不同的校園觀望，看看不同地方的感覺，也許是股錯覺，由於騎腳踏車的人少，顯得人群非常的多，而且相較於中央更容易在路上見到女生，想到畢業學長回來學校的時候說一句「怎麼一眼望過去幾乎都男生」突然有點感觸，即使每三個人就有一個人女生，只比中原少一點，在戶外的大椅上不少學生坐在哪裡，顯得更加地活絡。也許只是太少出門，對中央不慎了解吧。</p>
<ul>
<li>全人博雅講壇 「人之何以為人：一個20萬年的故事」－李家維</li>
<li>服務 X 學習 X 旅行 X 夢想 - 不做不會怎麼樣，做了我們很不一樣 「105 號公路-泰緬邊境」－黃婷鈺</li>
</ul>
<h2 id="場一狀態"><a href="#場一狀態" class="headerlink" title="場一狀態"></a>場一狀態</h2><p>在講座開始前就明顯地感受到不同的風氣，開幕前來個留外的音樂表演，同時也請學校校長來說本校的希望不要拿通識的營養學分，正是舉辦這一系列全人教育講座的目的，講座規模不大，卻有不少校外人士和同學入場，相信仍有不少同學是來混時數的，包括我自己。</p>
<p>「人之何以為人：一個 20 萬年的故事」這演講標題不外乎就是在描述人類演化的過程，這 20 萬年間的不斷地挖考出來的化石，訴說人類的起源，為什麼要知道自己的起源與文明發展？能在人類文明習慣中了解不少疑惑，如為什麼總是成對科學人雜誌 - 「<strong> 演化路上夫妻同心 </strong>」、科學人雜誌 - 「<strong> 天天上網的靈長類 </strong>」 … 等。</p>
<p>不少相似的化石指出，智人與其他類似的族群之間的相似程度，雖然基因只有一點點不同，造就體能、合作、學習、腦容量 … 等都有所差異，為了度過險惡的環境，單純體能良好的人種消失，會合作延續文明的種族存活下來，靠的只是一點點變異。這讓我想到動畫《攻殼機動隊》對於文明的看法，人類之所以能成長到這一個地步都是靠一個 <strong> 外部記憶體 </strong> - 文明，那我們真的是擁有自我嗎？還是順著文明的發展？但我想當人們不缺物質時，才能去想這些無關緊要的事情。</p>
<p><img src="http://i.imgur.com/fOUikM5.jpg" alt="《攻殼機動隊》"></p>
<p>到底該不該去怪罪努力、後天學習？還是去怪罪刻印在 DNA 上的排序？曾經為了存活繁衍導致的基因，而基因養成習慣。從計算機科學的廣義算法中的基因算法可以裡也到，人類之間的基因變異不算少，這有沒有影響呢？就如電影《蠢蛋進化論》中的基因變化，不見得聰明靈敏，只要適合生存即可。很多行為是沒有道理的，有些演化也是沒有道理的，在用現代的眼光去看待過去的演化價值時，本身就是件很奇怪的事情。</p>
<p><img src="http://i.imgur.com/cYpebvq.jpg" alt="《蠢蛋進化論》"></p>
<p><img src="http://i.imgur.com/mmrNQak.png" alt="《天佑美國》當我們不在意文明時，還需要文明嗎"></p>
<p>回過頭來看看講者提到的科學人雜誌，人耐不住寂寞也是因為曾經有段長久的日子需要彼此扶持，度過那段艱辛的冰河時期。現今環境還算充裕下，人可以不見到其他人，藉由上網交流資訊，雖然這可以交流資訊，但卻難以得到實質的幫助。從現在觀點來看，人其實也很單純，藉由學習外部遺留的文明來成長，所以才看起來聰明，大家也都知道若沒有傳承，人類根本走不到今日。</p>
<h3 id="場一心得"><a href="#場一心得" class="headerlink" title="場一心得"></a>場一心得</h3><p>中原講座的發問其實還挺有趣的，發問相當踴躍，原來在別校是這種情況，即使是一些課本上的內容、電視影集的科幻劇情都拿出來問，講者當然只能回答這不確定，至少不能斷言去否定。講者大部分的內容都可從國高中學的歷史中理解到，藉由後續學習的資訊也可以明白這些小道理，大部分都是在描述科學人雜誌上的資訊，有興趣可以去讀讀。</p>
<h2 id="場二狀態"><a href="#場二狀態" class="headerlink" title="場二狀態"></a>場二狀態</h2><blockquote>
<p>講者的描述有點囧，也許是狀態不好吧，可能尚未習得說話術，對於分享感覺是難以用文字去描述。儘管如此，藉由之前學到的文明與族群的通識課程，大概能猜到她想描述些什麼，就由我來說說吧！</p>
</blockquote>
<p>首先，講者在大學混了四年不感興趣的專業，在四年存夠了錢，前往泰緬邊境的難民營中去當國際志工，泰緬邊境難民營是因為兩個民族之間的糾紛導致。國際志工是什麼？國際志工能做什麼？到底是誰需要誰？還是在別人艱困的環境下，只是想要藉由別人的艱困來充實富足自己的知識？</p>
<p>我對於國際志工不甚了解，但對於文明與文明之間的隔閡有點認識，很多人就會用體驗、參觀的方式去遊走各地，因為旅行是跳脫環境最簡單的方法！想要跳脫環境就去存個錢吧，去別的環境了解自己有多麼無知且高傲，看著別人過著自認為窮困的生活，不了解當地的文化，卻又想幫忙他們的窘境。</p>
<p>對於這件事情，我的看法如下，常說「人只能自救」，國際志工去幫忙不少只是「<strong> 偽善 </strong>」瞧不起別人的文化、可憐他們的處境，去了那裏，只能觀察別人的生活，有時還需要當地人照顧生活。去那兒 <strong> 體驗 </strong>，就跟別人來家裡 <strong> 觀光 </strong> 的感覺一樣，尤其是在戰亂複雜的關係下，志工除了送物質協助無關戰爭的人外，請思考有沒有可能把他們牽涉進去，因為提供給對方敵人協助，那志工算不算敵人？這要特別小心，當我們在台灣成長，沒有那種經驗是很正常的，懵懂無知的情況下，被用另外一種方式教導「<strong> 幫助別人 </strong>」是件好事，因此就把這套邏輯用到另一個國情上。</p>
<blockquote>
<p>請跟沒有計畫性的幫助說再見！</p>
</blockquote>
<p>之前在網路上看到一篇文章《本滿懷熱血的教山區孩童，學生竟對志工老師說：「叔叔阿姨，請你們不要再來我們這義教了…」 》<a href="http://tw.ptt01.cc/post_531" target="_blank" rel="external">link</a>，開頭第一句「我們沾沾自喜著自己的偉大、奉獻。但是，我們到底為他們做了什麼？」正是描述志工的心境，也正是講者有提及到不少跟著一起去當志工的同學在那裏覺得自己的心很空虛，的確若沒有對自己夠了解時，突然用自己所謂的理解去理解別人時，回饋得到的那種失落感正是那股空虛。</p>
<p><img src="http://i.imgur.com/8hSCKlA.png" alt="《Fate/Stay UBW》這世代充斥著多餘之人"></p>
<p>學校教育是活在這個社會的學習過程，但不就是人類太多、過於群聚，相依彼此產生不少抽象式的職位，並非對物而是對人、對制度的職位，把偏鄉小孩帶來教育城市的生活技巧，對於他們能學到什麼實質內容？跟著大家一起進入城市搶那一鍋粥嗎？原始心中那股純樸到哪去了？講者描述到學校因為有一位長者去世而停課，學生們都跑去為那位長者送行，這是學校教育做到的嗎？還是生活教育體驗到的？</p>
<p>書本的內容可以協助他們理解這個世界，但並不是替他們指引出路的方法。教育這一舉動大多是為了未來生存技能存在，身為一個教育者是否又想過「教育是否又抹殺掉另外一種全然不同的世界觀」這是兩難的取捨，並不是往哪個目標走就是對的，而是要把這概念在教學的背後告訴學生吧。</p>
<h3 id="場二心得"><a href="#場二心得" class="headerlink" title="場二心得"></a>場二心得</h3><p>講者描述上還有趣的，想必是出國體驗後的衝擊巨大，有些事情無法用言語來描述吧。</p>
<p>並不是所有講者都能闡述有多成功的一面，或者是自己體驗多麼豐富的內容，這場演講充分地從講者身上看出那種衝擊，說話言之有物、做事持之以恆，君子不多話、默默做事，人的一生充滿困惑，很多事實無法二分化、二值化，去累積吧！也許有一天就能化作一生最美妙的道理。</p>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-speech-wonderful-music" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/06/18/speech-wonderful-music/" class="article-date">
  <time datetime="2015-06-17T22:49:43.000Z" itemprop="datePublished">2015-06-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/手札日記/">手札日記</a>
  </div>

  </div>
  <div class="article-inner ">
    
<div class="article-gallery">
  <div class="article-gallery-photos">
    
      <a class="article-gallery-img fancybox" href="http://i.imgur.com/Rv0N1W7.jpg" rel="gallery_ckpaqpy7r00fo00vnlreokxdu">
        <img src="http://i.imgur.com/Rv0N1W7.jpg" itemprop="image">
      </a>
    
  </div>
</div>

    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/18/speech-wonderful-music/">如何經營有聲有色的課堂悅音 外出紀錄</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2015/06/18/speech-wonderful-music/" data-id="ckpaqpy7r00fo00vnlreokxdu" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2015/06/18/speech-wonderful-music/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/中央大學/">中央大學</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/服務學習/">服務學習</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>想到不久前高中教我資訊的啟蒙老師打電話回來，問我要不要回去去當資訊老師，如果要當老師，必須先修完 32 學分以上的教育學程才行，就以當前的狀況是沒辦法完成，因為牽涉到實習，延畢去完成也至少需要一年半的時間。</p>
<p>接到老師打電話來是還不錯的驚喜，在這可能延畢與困惑的季節上來說，來了點與眾不同的聲響，雖然學校成績還算不錯，但要是當個老師可能還有點缺陷，之所以可能會延畢都是要求全人教育吧，不曉得到底要怎麼當一個普通的大學生呢。</p>
<h2 id="狀態"><a href="#狀態" class="headerlink" title="狀態"></a>狀態</h2><p>現在還差許多參加活動的時數，這一場講座是教導 <strong>教師</strong> 為主，對於老師上課的好壞，其一專業知識，其二教學方法，針對如何說話、上台解說給學生聽是一門功夫，不外乎地從一般說話就能知道有些人上台說話不行，即使是枯燥乏味、或者是非常簡單的課程內容，如何在台上持續講一兩個小時？又要如何講得不讓學生覺得費力？</p>
<p>上台長篇大論一番，對於內容感到好奇的學生，講者用什麼語調影響不大，那對於其他學生肯定是很重要的，上台教學有如演戲歌唱，若不是這樣，大概就像是一個古老的自動播放機吧，如何把一句話說得長、不造成聽者的負擔。</p>
<p>此課程由台師大音樂系老師來講課，一開始活動就請各位老師用平常的方式來介紹自己的名字、職位、專業，「大家好，我叫XXX，目前是中央大學資工系學生」在這一群教師中，混有一個學生的自我介紹是很緊張的，輪到自己真想找個洞鑽。唯一沒想到這場活動也是互動式，就之前參與教師研習的打工，明白許多研習活動都是互動式的，馬上就會請老師設計課程之類的，這一點應該早點想到。</p>
<p>如果教師四肢受傷，那嗓音的影響力就非常大。上台說話就像演歌，那麼從說話技巧開始，從一般的生理性的平直對談、口技、口哨、喉音、泛音 … 等，看來要從合唱團開始練起，如何避免氣音、粗啞，練習圓滑發音，將音調拉高 …。把一句話盡量往上揚，讓整個說話具有和氣、輕鬆的對談，這會對聽者更為舒服，把講話方式弄得輕鬆，這樣也可以講得長，聲帶比較不會受傷。</p>
<p>在授課前二、三十分鐘前就要喝好足夠的水，並且在授課時是實地補充水分，若是在授課一半才進行補水，很容易造成聲帶受傷。對於一名教師，說話是生命，聽到不少老師都是靠喉糖 … 等方式作為後續應急的方案，看來授課真是場戰爭。這也讓我想到光是上台講個二、三十分鐘，喉嚨隔天就有點不行，也許只是平時沒有磨練說話的緣故。</p>
<p>此外還有特別談論到千萬要避免「滔滔不絕」一旦需要趕課，總是來個加快說話速度版本來授課，想必要好好演一齣戲都辦不到，在這裏看起來是沒有辦法解決的課題。</p>
<h2 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h2><p>要講好一場課，先去卡拉 OK 練唱吧！</p>
<p>別像許多講者，久久碰一次麥克風，人轉、麥克風不轉的有趣情景就能少見。如果沒有麥克風要講一整天課是很累人的，但麥克風有時會沒電，在沒有麥克風的狀態，也必須練練如何把話傳得遠，藉由拉高音量，用較沉的方式比較合適，說話需要氣量、聲帶健康，講師建議少喝冰品刺激食道肺部，作為一個以說話的職業多喝溫水吧，為了講話的氣量多多運動吧。</p>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-cognitive-style-note4" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/06/16/cognitive-style-note4/" class="article-date">
  <time datetime="2015-06-15T23:55:33.000Z" itemprop="datePublished">2015-06-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/學校課程/">學校課程</a>/<a class="article-category-link" href="/categories/學校課程/介面設計/">介面設計</a>
  </div>

  </div>
  <div class="article-inner ">
    
<div class="article-gallery">
  <div class="article-gallery-photos">
    
      <a class="article-gallery-img fancybox" href="http://i.imgur.com/6c9iCJd.png" rel="gallery_ckpaqpy2m001y00vn2c4nagf5">
        <img src="http://i.imgur.com/6c9iCJd.png" itemprop="image">
      </a>
    
  </div>
</div>

    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/16/cognitive-style-note4/">遊戲問卷設計 Game Guestionnaire</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2015/06/16/cognitive-style-note4/" data-id="ckpaqpy2m001y00vn2c4nagf5" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2015/06/16/cognitive-style-note4/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ui/">ui</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <p>問卷設計跟面試方法一樣，如何了解使用者的需求與能力，如何發問、如何誘導都是相當有趣的。對於每一種人格特質，在面對不同問題的問法時，作答的難易度是有影響的，這對面試官也是相當重要的課題，因此需要了解到問題設計的方法。</p>
<h2 id="關於問卷"><a href="#關於問卷" class="headerlink" title="關於問卷"></a>關於問卷</h2><p>問卷通常會分成兩種</p>
<ul>
<li>定量分析<br>  詢問回答者的意見 <strong> 程度 </strong>，通常採用二值化，在從正到反極劃分數個單位，讓使用者選擇。</li>
<li>定性分析<br>  單純詢問使用者的 <strong> 看法 </strong>，在不給予任何提示下，讓使用者根據自身的經驗回答問題。</li>
</ul>
<p>當不知道問題的答案分布，既不是好與壞兩者，那麼定量分析就不能作為評估，採用開放式作答的定性分析，讓使用者回答它們所理解的，通常開放式有一個缺點，會導致過於雜亂的回答，很難得到期望的答案。想必很多人在不理解 <strong> 問題描述 </strong> 就會答非所問。定量分析的面向去設計，會得不到意想不到的答案，兩種方法各有優缺。</p>
<h3 id="問卷設計"><a href="#問卷設計" class="headerlink" title="問卷設計"></a>問卷設計</h3><p>按照上述的兩種情況分成 <strong> 選項 </strong> 跟 <strong> 申論 </strong> 兩種。申論題就不必說，留給使用者提出自己的看法，欄位設計就是文字欄位而非選項欄位。</p>
<p>特別介紹一下選項部分，通常會有 <strong> 是 / 否 </strong>、<strong> 喜歡 / 不喜歡 </strong>，再複雜一點就是 <strong> 非常喜歡 - 喜歡 - 沒意見 - 不喜歡 - 非常不喜歡 </strong>。如果在量表中只有偶數選項，通常是不存在中立立場，希望每個應答者都給予一個立場去回答，反之在奇數選項中，給予中立立場的應答機會，通常會得到非常多的 <strong> 沒意見 </strong> 此時有效問卷的數量相對少。</p>
<h2 id="關於面談"><a href="#關於面談" class="headerlink" title="關於面談"></a>關於面談</h2><p>面談通常會分成三種</p>
<ul>
<li>結構化<br>  封閉式對答，在已知答案中做決策。循序讓使用者回答問題。</li>
<li>半結構<br>  相較於結構化問題，不要求詢問順序性，或者是確切的答案回答。</li>
<li>非結構<br>  問題會隨著應答者回答的方式變化。</li>
</ul>
<p>通常第三者的非結構面談相當輕鬆，如果變化問題不特別刁難，面談者也會根據應答者的能力詢問相關問題。然而在結構化問題中，相當一板一眼，容易對應答者感到緊張，當問題卡住的時候，接下來的問題就會影響到應答者的狀態。半結構化則介於兩者之間。</p>
<h3 id="團體面談"><a href="#團體面談" class="headerlink" title="團體面談"></a>團體面談</h3><ul>
<li>部分應答者很容易被忽略，需要主持人去引導，觀察每個應答者在聽取其他人回答的肢體語言，適時地將每個人的意見引出。</li>
<li>很難獲得想要的資訊。</li>
<li>回答之間會相互影響。</li>
</ul>
<p>特別小心主持人不應該讓面談者們 <strong> 達到共識 </strong>，而是讓他們分享所知。誤導或誘答的情況應該避免，否則有可能會造成馬拉松領先者帶著一群人走錯方向的感覺。感覺不少情況會設下陷阱去讓面談者誤答，在問題描述上不給予明確的規範，在算法問題上也常常會這樣，至於算不算誤答就不曉得，當一個人對問題的背景認知不同時，問題本身就不一樣，能不能 <strong> 取悅 </strong> 面試官呢？</p>
<h2 id="歸納問卷"><a href="#歸納問卷" class="headerlink" title="歸納問卷"></a>歸納問卷</h2><p>回收問卷後，利用定性方式去得到的答案是最難分析，只能靠觀察去理解，對於定量方式去設計的，將要看採用的數學模型來決策，例如消頭去尾後得到的平均數、眾數、中位數 … 等。不管哪一種方案，要看應答者的文化習慣，是否會造成不願意表態，極端情況是否正常 … 等因素，適時地消去一些實驗數據進行統計。</p>
<p>問卷介面也要有所區別，通常會有數個相似領域的問題，整合在一起，並且給予一個問題大綱有助於對問題的理解，特別注意到問題設計時要確定題目是否能二極化。</p>
<h2 id="各組設計"><a href="#各組設計" class="headerlink" title="各組設計"></a>各組設計</h2><p>最奇葩的要來了，針對認知風格進行問卷調查，針對先前設計的遊戲，不同認知風格對遊戲介面的觀感。，各組提出的問卷問題如下：</p>
<h3 id="塔防遊戲"><a href="#塔防遊戲" class="headerlink" title="塔防遊戲"></a>塔防遊戲</h3><ul>
<li>遊戲中介面的引導對你有哪些幫助？</li>
<li>升級頁面的兵種介紹對你有何影響？</li>
<li>過多提示會不會扼殺你對遊戲的興趣？為什麼？</li>
<li>你覺得遊戲中哪一個功能最不直觀？為什麼？</li>
<li>是否希望一開始就解鎖所有關卡？為什麼？</li>
<li>無法順利通關時，你都如何應對？</li>
<li>升級頁面的兵種能力數值是否能幫助你理解兵種特性？如果不行，希望如何改善？</li>
<li>你覺得遊戲中哪一個功能最不直觀？為什麼？</li>
<li>你覺得遊戲中在哪個部分自由度不夠？希望如何改善？</li>
<li>你希望遊戲中哪些介面能夠讓你自行調整？</li>
</ul>
<h3 id="角色扮演"><a href="#角色扮演" class="headerlink" title="角色扮演"></a>角色扮演</h3><ul>
<li>你覺得主畫面看起來如何 (例如背景顏色、排版、標題等等)或是其他？</li>
<li>你覺得說明文件的詳細度以及對於操作的說明還有排版等恰當嗎，能助你了解遊戲怎麼進行？</li>
<li>關卡劇情有沒有讓你覺得充滿故事性、關聯性，讓你進入遊戲中？</li>
<li>遊戲的流程、難度、還有系統的圖示資訊你覺得夠完善嗎，能幫助你遊戲順利？</li>
<li>你覺得遊戲的音樂選擇跟切換時機有讓你覺得非常合理，並且具有強大代入感嗎？</li>
<li>您覺得遊戲難度是否可以自行解決？為什麼</li>
</ul>
<hr>
<p>我們組所提出的七個問題如下</p>
<ul>
<li>您覺得遊戲難度是否可以自行解決？為什麼</li>
<li>您最喜歡、討厭這遊戲哪一部分，討厭的話，想改成什麼？</li>
<li>您覺得遊戲內介面的看法如何？</li>
<li>您對於介面的動畫效果的看法如何？</li>
<li>您玩完這款遊戲後，對遊戲目標瞭解程度 (例如劇情 …)？</li>
<li>AI 擬真程度對遊戲操作的感受？</li>
<li>原本期望的效果、事物卻沒在遊戲中的是什麼？</li>
</ul>
<h3 id="解謎遊戲"><a href="#解謎遊戲" class="headerlink" title="解謎遊戲"></a>解謎遊戲</h3><ul>
<li>在遊戲進行當中在覺得最困難的部分為何？</li>
<li>如果在遊戲中加入選關模式，你有什麼看法？</li>
<li>對於遊戲介面，你認為有什麼可以改善的地方？</li>
<li>教學關卡對你學習遊戲的操作模式有什麼影響？</li>
<li>對於破關後才加入競速模式，你有什麼看法？ </li>
<li>你認為遊戲劇情有何改善空間？</li>
</ul>
<h2 id="問卷統計範例"><a href="#問卷統計範例" class="headerlink" title="問卷統計範例"></a>問卷統計範例</h2><p>本課程教學極為詭異，應該請全班人一起填，總共才七組來卻只要求自己去找 <strong> 課程班上 </strong> 十個人來填問卷，互填對方設計的遊戲問卷難道這麼困難嗎？老師應該要直接請全班來填寫吧，用鼓勵的方式，居然在畢業前一周要大家填問卷，一星期統計好並且報告，明顯地大家都在忙畢業典禮的拍照，問卷也很晚統計回來。</p>
<p>當然十個人的樣本數只能自我安慰，下什麼結論都是不具有信用的，只好按照老師的調調亂扯一通。就算遊戲做得再差，問卷回饋不如預期的對答，也許按照自己的預測方式去報告就行，問卷感覺就是裝飾用的。自己的教授自己靠北？</p>
<h3 id="問卷結果"><a href="#問卷結果" class="headerlink" title="問卷結果"></a>問卷結果</h3><p>分別對於兩個版本，非常非常少的實驗數據。</p>
<p>遊戲難度 Holist 認為難度簡單，對遊戲進行不算困難，對於 Serialist 比較有新事物認知上的起手問題。</p>
<p>在遊戲偏好上，大部份的 Holist 看到了整體的光影效果對此深感好奇，而 Serialist 不少指出遊戲說明上的困惑與扣除血量的細節。</p>
<p>在遊戲內介面上，Holist 對於道具切換、使用狀態有強烈的要求，太過簡潔的界面是介意的地方，而在 Serialist 對於顏色要求較為強烈，對於簡介的介面設計滿意。</p>
<p>在遊戲介面動畫上，Holist 比較偏向回答遊戲內部的元素動畫，而 Serislist 則比較在意流血效果和字體閱讀。在這一部分的回答可以說是有點誤導，預期是想要讓他們回應遊戲介面動畫，而非遊戲內的元素動畫。</p>
<p>在遊戲目標上，一致都朝著遊戲通關目標為基準，而非劇情走向，估計是劇情走向對遊戲進行流程不影響，所以沒有必要去注意遊戲劇情內容。</p>
<p>在人工智慧 AI 上，Holist 比較偏向滿意，對有一些與現實邏輯不合的反應介意，對於 Serialist 對於 AI 的反應比較兩極，有好有壞。</p>
<p>對於預測遊戲進行上，Holist 比較想要的是局部性改變，例如效果與道具使用上、遊戲進行邏輯、新的功能利於闖關。而 Serialist 比較喜歡全局性的擴充，如新增關卡、不同類型的通過條件、關卡成就感、角色成長的需求。</p>
<h2 id="課程意見"><a href="#課程意見" class="headerlink" title="課程意見"></a>課程意見</h2><p>請不要一堂課的結尾就喊出成績來決定一個學生的價值，若要從認知風格中挑選一種分類，老師的認知風格屬於一種衝動型，部分是需要不斷反思來接受新的資訊。不強求這門課的走向，但從做遊戲方面，可說是此次教學的創舉，既然要我們寫程式，麻煩就以資工系的方式引導，時間跟計劃不是一兩個星期前講就了事，牽涉到設計與構思，不給一個明確的方向，導致各組面向不同種遊戲，類型不同的遊戲設計出來就不能隨意說好與壞，若是要符合你們口味的網路學習，那直接說做益智遊戲即可，有些探討問題也因遊戲類型扯不上關係。</p>
<p>若要用小組程式作業、設計作為不上課的理由實在說不過去，導致這一學期很多次沒上課，起碼可以一個小時上課，後兩個小時討論的方式。而在論文上台報告卻有報告老師的同一篇論文，導致報告內容重複且冗長。上課投影片請不要用講稿模式 (兩攔筆記式，另一半的筆記欄位不知道給誰看的)，可以請助教弄全螢幕的投影片。</p>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-zj-b405" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/06/16/zj-b405/" class="article-date">
  <time datetime="2015-06-15T23:08:13.000Z" itemprop="datePublished">2015-06-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-Zerojudge/">解題區 - Zerojudge</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/16/zj-b405/">b405. 記憶中的序列</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2015/06/16/zj-b405/" data-id="ckpaqpygw011e00vnzkvzgxmb" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2015/06/16/zj-b405/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/treap/">treap</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/可持久化/">可持久化</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>給一個序列，支持插入元素、刪除元素、反轉區間、區間極值、區間總和、區間修改以及最重要的 <strong> 版本回溯 </strong>。</p>
<p>題目輸入會拿上一個答案進行 XOR 的加密，</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">10</div><div class="line">9 81 28 6 40 68 74 50 82 62 </div><div class="line">15</div><div class="line">1 1 83</div><div class="line">2 11</div><div class="line">3 7 8</div><div class="line">4 4 10 28</div><div class="line">5 2 6</div><div class="line">85 82 89</div><div class="line">14 13 13</div><div class="line">56 61</div><div class="line">57 57 40</div><div class="line">58 61</div><div class="line">59 61 63</div><div class="line">60 57 59 4</div><div class="line">61 58 49</div><div class="line">137 139 136</div><div class="line">37 38 42</div></pre></td></tr></table></figure>
<p>decrypt input</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">10</div><div class="line">9 81 28 6 40 68 74 50 82 62</div><div class="line">15</div><div class="line">1 1 83</div><div class="line">2 11</div><div class="line">3 7 8</div><div class="line">4 4 10 28</div><div class="line">5 2 6</div><div class="line">6 1 10</div><div class="line">7 4 4</div><div class="line">0 5</div><div class="line">1 1 16</div><div class="line">2 5</div><div class="line">3 5 7</div><div class="line">4 1 3 60</div><div class="line">5 2 9</div><div class="line">6 4 7</div><div class="line">7 4 8</div></pre></td></tr></table></figure>
<h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">83</div><div class="line">9</div><div class="line">56</div><div class="line">143</div><div class="line">34</div><div class="line">381</div></pre></td></tr></table></figure>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>持久化 treap，區間反轉，區間最大值，區間最小值，區間總和，插入元素，刪除元素，操作回溯。</p>
<p>這坑爹的題目描述擺明就是拖人下水，只好含淚地寫下去。持久化類型的題目應該是告一段落，就差一個 LCP + HASH 的維護了吧。麻煩的地方在於持久化的懶操作標記傳遞時都要新增加一個節點，這項舉動導致記憶體量非常多，1 秒處理的資訊吃掉 512 MB。二分記憶體上限，終於找到內存池的最多元素個數，中間不小心把多項資訊的 <code>int</code> 型態宣告成 <code>long long</code>，導致內存池一直不夠大。</p>
<p>如果不考慮回溯操作，速度上沒有比暴力算法來得快上很多，treap 基於隨機數的調整，而且每一次修改元素都要增加很多記憶體來補，導致速度上無法領先太多。但如果用暴力法，會造成版本回溯問題，空間會到 $O(<br>n^2)<span>$，不允許的狀態，持久化造就的平均空間使用$</span><!-- Has MathJax -->O(Q log N \times sizeof(Node))$，看起來仍然是很巨大的。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div><div class="line">285</div><div class="line">286</div><div class="line">287</div><div class="line">288</div><div class="line">289</div><div class="line">290</div><div class="line">291</div><div class="line">292</div><div class="line">293</div><div class="line">294</div><div class="line">295</div><div class="line">296</div><div class="line">297</div><div class="line">298</div><div class="line">299</div><div class="line">300</div><div class="line">301</div><div class="line">302</div><div class="line">303</div><div class="line">304</div><div class="line">305</div><div class="line">306</div><div class="line">307</div><div class="line">308</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 7100000</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXQ 60005</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">PersistentTreap</span> &#123;</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span>;</span></div><div class="line">    <span class="keyword">static</span> Node *null;</div><div class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> &#123;</span></div><div class="line">        Node *lson, *rson;</div><div class="line">        <span class="keyword">int</span> key, size;</div><div class="line">        <span class="keyword">long</span> <span class="keyword">long</span> val, mnval, mxval, sumval;</div><div class="line">        <span class="keyword">long</span> <span class="keyword">long</span> adel; <span class="comment">// delivery</span></div><div class="line">        <span class="keyword">int</span> rdel;</div><div class="line">        </div><div class="line">        Node(<span class="keyword">long</span> <span class="keyword">long</span> c = <span class="number">0</span>, <span class="keyword">int</span> s = <span class="number">1</span>): size(s) &#123;</div><div class="line">            lson = rson = null;</div><div class="line">            key = rand();</div><div class="line">            val = mnval = mxval = sumval = c;</div><div class="line">            adel = rdel = <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">()</span> </span>&#123;</div><div class="line">            size = <span class="number">1</span>;</div><div class="line">            size += lson-&gt;size + rson-&gt;size;</div><div class="line">        &#125;</div><div class="line">        <span class="function"><span class="keyword">void</span> <span class="title">pushUp</span><span class="params">()</span> </span>&#123;</div><div class="line">            mnval = mxval = sumval = val;</div><div class="line">            <span class="keyword">if</span> (lson != null) &#123;</div><div class="line">                mnval = min(mnval, lson-&gt;mnval + lson-&gt;adel);</div><div class="line">                mxval = max(mxval, lson-&gt;mxval + lson-&gt;adel);</div><div class="line">                sumval += lson-&gt;sumval + lson-&gt;adel * lson-&gt;size;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (rson != null) &#123;</div><div class="line">                mnval = min(mnval, rson-&gt;mnval + rson-&gt;adel);</div><div class="line">                mxval = max(mxval, rson-&gt;mxval + rson-&gt;adel);</div><div class="line">                sumval += rson-&gt;sumval + rson-&gt;adel * rson-&gt;size;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="function"><span class="keyword">void</span> <span class="title">pushDown</span><span class="params">(PersistentTreap &amp;treap)</span> </span>&#123;</div><div class="line">            <span class="keyword">if</span> (adel) &#123;</div><div class="line">                val += adel, mnval += adel, mxval += adel;</div><div class="line">                <span class="keyword">if</span> (lson != null) &#123;</div><div class="line">                	lson = treap.cloneNode(lson);</div><div class="line">                    lson-&gt;adel += adel;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">if</span> (rson != null) &#123;</div><div class="line">                	rson = treap.cloneNode(rson);</div><div class="line">                    rson-&gt;adel += adel;</div><div class="line">                &#125;</div><div class="line">                adel = <span class="number">0</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (rdel&amp;<span class="number">1</span>) &#123;</div><div class="line">                <span class="keyword">if</span> (lson == null)</div><div class="line">                    lson = rson, rson = null;</div><div class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (rson == null)</div><div class="line">                    rson = lson, lson = null;</div><div class="line">                <span class="keyword">else</span></div><div class="line">                    swap(lson, rson);</div><div class="line">                </div><div class="line">                <span class="keyword">if</span> (lson != null) &#123;</div><div class="line">                	lson = treap.cloneNode(lson);</div><div class="line">                    lson-&gt;rdel += rdel;</div><div class="line">                &#125; </div><div class="line">                <span class="keyword">if</span> (rson != null) &#123;</div><div class="line">                    rson = treap.cloneNode(rson);</div><div class="line">                    rson-&gt;rdel += rdel;</div><div class="line">                &#125;</div><div class="line">                rdel = <span class="number">0</span>;</div><div class="line">            &#125;</div><div class="line">            pushUp();</div><div class="line">        &#125;</div><div class="line">    &#125; nodes[MAXN], *root[MAXQ];</div><div class="line">    <span class="keyword">int</span> bufIdx, verIdx;</div><div class="line">    </div><div class="line">    <span class="function">Node* <span class="title">merge</span><span class="params">(Node* a, Node* b)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (a == null)	<span class="keyword">return</span> cloneNode(b);</div><div class="line">        <span class="keyword">if</span> (b == null)	<span class="keyword">return</span> cloneNode(a);</div><div class="line">        <span class="keyword">if</span> (a != null)	a-&gt;pushDown(*<span class="keyword">this</span>);</div><div class="line">    	<span class="keyword">if</span> (b != null)	b-&gt;pushDown(*<span class="keyword">this</span>);</div><div class="line">        Node *ret;</div><div class="line">        <span class="keyword">if</span> (a-&gt;key &lt; b-&gt;key) &#123;</div><div class="line">            ret = cloneNode(a);</div><div class="line">            ret-&gt;rson = merge(a-&gt;rson, b);</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            ret = cloneNode(b);</div><div class="line">            ret-&gt;lson = merge(a, b-&gt;lson);</div><div class="line">        &#125;</div><div class="line">        ret-&gt;update();</div><div class="line">        ret-&gt;pushUp();</div><div class="line">        <span class="keyword">return</span> ret;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">split</span><span class="params">(Node* a, Node* &amp;l, Node* &amp;r, <span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (n == <span class="number">0</span>) &#123;</div><div class="line">            l = null, r = cloneNode(a);</div><div class="line">            <span class="keyword">return</span> ;</div><div class="line">        &#125; </div><div class="line">        <span class="keyword">if</span> (a-&gt;size &lt;= n) &#123;</div><div class="line">            l = cloneNode(a), r = null;</div><div class="line">            <span class="keyword">return</span> ;</div><div class="line">        &#125;         </div><div class="line">        <span class="keyword">if</span> (a != null)</div><div class="line">            a-&gt;pushDown(*<span class="keyword">this</span>);</div><div class="line">        <span class="keyword">if</span> (a-&gt;lson-&gt;size &gt;= n) &#123;</div><div class="line">            r = cloneNode(a);</div><div class="line">            split(a-&gt;lson, l, r-&gt;lson, n);</div><div class="line">            r-&gt;update();</div><div class="line">            r-&gt;pushUp();</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            l = cloneNode(a);</div><div class="line">            split(a-&gt;rson, l-&gt;rson, r, n - (a-&gt;lson-&gt;size) - <span class="number">1</span>);</div><div class="line">            l-&gt;update();</div><div class="line">            l-&gt;pushUp();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(Node* &amp;a, Node *ver, <span class="keyword">int</span> pos, <span class="keyword">long</span> <span class="keyword">long</span> s[], <span class="keyword">int</span> sn)</span> </span>&#123;</div><div class="line">        Node *p, *q, *r;</div><div class="line">        <span class="keyword">int</span> n = sn;</div><div class="line">        split(ver, p, q, pos);</div><div class="line">        build(r, <span class="number">0</span>, n - <span class="number">1</span>, s);</div><div class="line">        p = merge(p, r);</div><div class="line">        a = merge(p, q);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">erase</span><span class="params">(Node* &amp;a, Node *ver, <span class="keyword">int</span> pos, <span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">        Node *p, *q, *r;</div><div class="line">        split(ver, p, q, pos - <span class="number">1</span>);</div><div class="line">        split(q, q, r, n);</div><div class="line">        a = merge(p, r);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">reverse</span><span class="params">(Node* &amp;a, Node *ver, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</div><div class="line">        Node *p, *q, *r;</div><div class="line">        split(ver, p, q, left - <span class="number">1</span>);</div><div class="line">        split(q, q, r, right - left + <span class="number">1</span>);</div><div class="line">        q-&gt;rdel++;</div><div class="line">        a = merge(p, q);</div><div class="line">        a = merge(a, r);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(Node* &amp;a, Node *ver, <span class="keyword">int</span> left, <span class="keyword">int</span> right, <span class="keyword">long</span> <span class="keyword">long</span> val)</span> </span>&#123;</div><div class="line">        Node *p, *q, *r;</div><div class="line">        split(ver, p, q, left - <span class="number">1</span>);</div><div class="line">        split(q, q, r, right - left + <span class="number">1</span>);</div><div class="line">        q-&gt;adel += val;</div><div class="line">        a = merge(p, q);</div><div class="line">        a = merge(a, r);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">long</span> <span class="keyword">long</span> q_sum, q_max, q_min;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">q_dfs</span><span class="params">(Node *u, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</div><div class="line">        left = max(left, <span class="number">1</span>);</div><div class="line">        right = min(right, u-&gt;size);</div><div class="line">        <span class="keyword">if</span> (left &gt; right)</div><div class="line">            <span class="keyword">return</span>;        </div><div class="line">        <span class="keyword">if</span> (u != null)</div><div class="line">            u-&gt;pushDown(*<span class="keyword">this</span>);</div><div class="line">        <span class="keyword">int</span> lsz = u-&gt;lson != null ? u-&gt;lson-&gt;size : <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> rsz = u-&gt;rson != null ? u-&gt;rson-&gt;size : <span class="number">0</span>;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (left == <span class="number">1</span> &amp;&amp; right == lsz + rsz + <span class="number">1</span>) &#123;</div><div class="line">            q_sum += u-&gt;sumval;</div><div class="line">            q_max = max(q_max, u-&gt;mxval);</div><div class="line">            q_min = min(q_min, u-&gt;mnval);</div><div class="line">            <span class="keyword">return</span> ;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (left &lt;= lsz+<span class="number">1</span> &amp;&amp; lsz+<span class="number">1</span> &lt;= right) &#123;</div><div class="line">            q_sum += u-&gt;val;</div><div class="line">            q_max = max(q_max, u-&gt;val);</div><div class="line">            q_min = min(q_min, u-&gt;val);</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">if</span> (u-&gt;lson != null &amp;&amp; left &lt;= lsz)</div><div class="line">            q_dfs(u-&gt;lson, left, right);</div><div class="line">        <span class="keyword">if</span> (u-&gt;rson != null &amp;&amp; right &gt; lsz+<span class="number">1</span>)</div><div class="line">            q_dfs(u-&gt;rson, left - lsz - <span class="number">1</span>, right - lsz - <span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">q_init</span><span class="params">()</span> </span>&#123;</div><div class="line">        q_max = LONG_LONG_MIN;</div><div class="line">        q_min = LONG_LONG_MAX;</div><div class="line">        q_sum = <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">findMax</span><span class="params">(Node *ver, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</div><div class="line">        q_init();</div><div class="line">        q_dfs(ver, left, right);</div><div class="line">        <span class="keyword">return</span> q_max;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">findMin</span><span class="params">(Node *ver, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</div><div class="line">        q_init();</div><div class="line">        q_dfs(ver, left, right);</div><div class="line">        <span class="keyword">return</span> q_min;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">findSum</span><span class="params">(Node *ver, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</div><div class="line">        q_init();</div><div class="line">        q_dfs(ver, left, right);</div><div class="line">        <span class="keyword">return</span> q_sum;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(Node *ver)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (ver == null)	<span class="keyword">return</span>;</div><div class="line">        ver-&gt;pushDown(*<span class="keyword">this</span>);</div><div class="line">        print(ver-&gt;lson);</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"[%3lld]"</span>, ver-&gt;val);</div><div class="line">        print(ver-&gt;rson);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</div><div class="line">        bufIdx = verIdx = <span class="number">0</span>;</div><div class="line">        root[verIdx] = null;</div><div class="line">    &#125;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="function">Node* <span class="title">cloneNode</span><span class="params">(Node* u)</span> </span>&#123;</div><div class="line">        Node *ret;</div><div class="line">        <span class="keyword">if</span> (u == null) &#123;</div><div class="line">            <span class="keyword">return</span> u;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">        	<span class="keyword">if</span> (bufIdx &gt;= MAXN)</div><div class="line">        		<span class="built_in">exit</span>(<span class="number">0</span>);</div><div class="line">            assert(bufIdx &lt; MAXN);</div><div class="line">            ret = &amp;nodes[bufIdx++];</div><div class="line">            *ret = *u;</div><div class="line">            <span class="keyword">return</span> ret;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(Node* &amp;a, <span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">long</span> <span class="keyword">long</span> s[])</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (l &gt; r)	<span class="keyword">return</span> ;</div><div class="line">        <span class="keyword">int</span> m = (l + r) /<span class="number">2</span>;</div><div class="line">        Node u = Node(s[m]), *p = &amp;u, *q;</div><div class="line">        a = cloneNode(p), p = null, q = null;</div><div class="line">        build(p, l, m<span class="number">-1</span>, s);</div><div class="line">        build(q, m+<span class="number">1</span>, r, s);</div><div class="line">        p = merge(p, a);</div><div class="line">        a = merge(p, q);</div><div class="line">        a-&gt;update();</div><div class="line">        a-&gt;pushUp();</div><div class="line">    &#125;</div><div class="line">&#125; tree;</div><div class="line">PersistentTreap::<span class="function">Node <span class="title">t</span><span class="params">(<span class="number">0</span>, <span class="number">0</span>)</span></span>;</div><div class="line">PersistentTreap::Node *PersistentTreap::null = &amp;t;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> N, Q;</div><div class="line">    <span class="keyword">long</span> <span class="keyword">long</span> A[<span class="number">65536</span>];</div><div class="line">    <span class="keyword">long</span> <span class="keyword">long</span> cmd, x, y, v;</div><div class="line">    <span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;N) == <span class="number">1</span>) &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%lld"</span>, &amp;A[i]);</div><div class="line">        tree.init();</div><div class="line">        tree.insert(tree.root[<span class="number">0</span>], tree.null, <span class="number">0</span>, A+<span class="number">1</span>, N);</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;Q);</div><div class="line">        <span class="keyword">int</span> verIdx = <span class="number">0</span>;</div><div class="line">        <span class="keyword">long</span> <span class="keyword">long</span> encrypt = <span class="number">0</span>, ret = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= Q; i++) &#123;</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%lld"</span>, &amp;cmd);</div><div class="line">            cmd ^= encrypt;</div><div class="line">            <span class="keyword">if</span> (cmd == <span class="number">1</span>) &#123; 		<span class="comment">// insert</span></div><div class="line">                <span class="built_in">scanf</span>(<span class="string">"%lld %lld"</span>, &amp;x, &amp;v);</div><div class="line">                x ^= encrypt, v ^= encrypt;</div><div class="line">                <span class="keyword">long</span> <span class="keyword">long</span> B[] = &#123;v&#125;;</div><div class="line">                tree.insert(tree.root[i], tree.root[verIdx], (<span class="keyword">int</span>) x, B, <span class="number">1</span>);</div><div class="line">                verIdx = i;</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cmd == <span class="number">2</span>) &#123; 	<span class="comment">// erase</span></div><div class="line">                <span class="built_in">scanf</span>(<span class="string">"%lld"</span>, &amp;x);</div><div class="line">                x ^= encrypt;</div><div class="line">                tree.erase(tree.root[i], tree.root[verIdx], (<span class="keyword">int</span>) x, <span class="number">1</span>);</div><div class="line">                verIdx = i;</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cmd == <span class="number">3</span>) &#123; 	<span class="comment">// reverse</span></div><div class="line">                <span class="built_in">scanf</span>(<span class="string">"%lld %lld"</span>, &amp;x, &amp;y);</div><div class="line">                x ^= encrypt, y ^= encrypt;</div><div class="line">                tree.reverse(tree.root[i], tree.root[verIdx], (<span class="keyword">int</span>) x, (<span class="keyword">int</span>) y);</div><div class="line">                verIdx = i;</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cmd == <span class="number">4</span>) &#123; 	<span class="comment">// [x, y] += v</span></div><div class="line">                <span class="built_in">scanf</span>(<span class="string">"%lld %lld %lld"</span>, &amp;x, &amp;y, &amp;v);</div><div class="line">                x ^= encrypt, y ^= encrypt, v ^= encrypt;</div><div class="line">                tree.add(tree.root[i], tree.root[verIdx], (<span class="keyword">int</span>) x, (<span class="keyword">int</span>) y, v);</div><div class="line">                verIdx = i;</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cmd == <span class="number">5</span>) &#123;  <span class="comment">// max(A[x:y])</span></div><div class="line">                <span class="built_in">scanf</span>(<span class="string">"%lld %lld"</span>, &amp;x, &amp;y);</div><div class="line">                x ^= encrypt, y ^= encrypt;</div><div class="line">                ret = tree.findMax(tree.root[verIdx], (<span class="keyword">int</span>) x, (<span class="keyword">int</span>) y);</div><div class="line">                <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, ret);</div><div class="line">                encrypt = ret;</div><div class="line">                tree.root[i] = tree.root[verIdx];</div><div class="line">                verIdx = i;</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cmd == <span class="number">6</span>) &#123;  <span class="comment">// min(A[x:y])</span></div><div class="line">                <span class="built_in">scanf</span>(<span class="string">"%lld %lld"</span>, &amp;x, &amp;y);</div><div class="line">                x ^= encrypt, y ^= encrypt;</div><div class="line">                ret = tree.findMin(tree.root[verIdx], (<span class="keyword">int</span>) x, (<span class="keyword">int</span>) y);</div><div class="line">                <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, ret);</div><div class="line">                encrypt = ret;</div><div class="line">                tree.root[i] = tree.root[verIdx];</div><div class="line">                verIdx = i;</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cmd == <span class="number">7</span>) &#123;  <span class="comment">// sum(A[x:y])</span></div><div class="line">                <span class="built_in">scanf</span>(<span class="string">"%lld %lld"</span>, &amp;x, &amp;y);</div><div class="line">                x ^= encrypt, y ^= encrypt; </div><div class="line">                ret = tree.findSum(tree.root[verIdx], (<span class="keyword">int</span>) x, (<span class="keyword">int</span>) y);</div><div class="line">                <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, ret);</div><div class="line">                encrypt = ret;</div><div class="line">                tree.root[i] = tree.root[verIdx];</div><div class="line">                verIdx = i;</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cmd == <span class="number">0</span>) &#123;  <span class="comment">// back Day x-th</span></div><div class="line">                <span class="built_in">scanf</span>(<span class="string">"%lld"</span>, &amp;x);</div><div class="line">                x ^= encrypt;</div><div class="line">                tree.root[i] = tree.root[x];</div><div class="line">                verIdx = i;</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                <span class="built_in">puts</span>(<span class="string">"WTF"</span>);</div><div class="line">                <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div></pre></td></tr></table></figure>
<h3 id="Test-Code"><a href="#Test-Code" class="headerlink" title="Test Code"></a>Test Code</h3><p>暴力法驗證用，不支持加密的輸入運行，用一個 <code>vector</code> 完成。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN (1&lt;&lt;19)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXQ 65536</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> N, Q;</div><div class="line">    <span class="keyword">long</span> <span class="keyword">long</span> A[<span class="number">65536</span>];</div><div class="line">    <span class="keyword">long</span> <span class="keyword">long</span> cmd, x, y, v;</div><div class="line">    <span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;N) == <span class="number">1</span>) &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%lld"</span>, &amp;A[i]);</div><div class="line">        <span class="built_in">vector</span>&lt; <span class="built_in">vector</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>&gt; &gt; L;</div><div class="line">        L.push_back(<span class="built_in">vector</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>&gt;(A+<span class="number">1</span>, A+<span class="number">1</span>+N));</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;Q);</div><div class="line">        <span class="keyword">int</span> verIdx = <span class="number">0</span>;</div><div class="line">        <span class="keyword">long</span> <span class="keyword">long</span> encrypt = <span class="number">0</span>, ret = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= Q; i++) &#123;</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%lld"</span>, &amp;cmd);</div><div class="line">            <span class="built_in">vector</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>&gt; TA = L[verIdx];</div><div class="line">            <span class="keyword">if</span> (cmd == <span class="number">1</span>) &#123;         <span class="comment">// insert</span></div><div class="line">                <span class="built_in">scanf</span>(<span class="string">"%lld %lld"</span>, &amp;x, &amp;v);</div><div class="line">                TA.insert(TA.begin()+x, v);</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cmd == <span class="number">2</span>) &#123;  <span class="comment">// erase</span></div><div class="line">                <span class="built_in">scanf</span>(<span class="string">"%lld"</span>, &amp;x);</div><div class="line">                TA.erase(TA.begin()+x<span class="number">-1</span>);</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cmd == <span class="number">3</span>) &#123;  <span class="comment">// reverse</span></div><div class="line">                <span class="built_in">scanf</span>(<span class="string">"%lld %lld"</span>, &amp;x, &amp;y);</div><div class="line">                reverse(TA.begin()+x<span class="number">-1</span>, TA.begin()+y);</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cmd == <span class="number">4</span>) &#123;  <span class="comment">// [x, y] += v</span></div><div class="line">                <span class="built_in">scanf</span>(<span class="string">"%lld %lld %lld"</span>, &amp;x, &amp;y, &amp;v);</div><div class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = (<span class="keyword">int</span>) x<span class="number">-1</span>; i &lt; y; i++)</div><div class="line">                    TA[i] += v;</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cmd == <span class="number">5</span>) &#123;  <span class="comment">// max(A[x:y])</span></div><div class="line">                <span class="built_in">scanf</span>(<span class="string">"%lld %lld"</span>, &amp;x, &amp;y);</div><div class="line">                <span class="keyword">long</span> <span class="keyword">long</span> ret = LONG_LONG_MIN;</div><div class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = (<span class="keyword">int</span>) x<span class="number">-1</span>; i &lt; y; i++)</div><div class="line">                    ret = max(ret, TA[i]);</div><div class="line">                <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, ret);</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cmd == <span class="number">6</span>) &#123;  <span class="comment">// min(A[x:y])</span></div><div class="line">                <span class="built_in">scanf</span>(<span class="string">"%lld %lld"</span>, &amp;x, &amp;y);</div><div class="line">                <span class="keyword">long</span> <span class="keyword">long</span> ret = LONG_LONG_MAX;</div><div class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = (<span class="keyword">int</span>) x<span class="number">-1</span>; i &lt; y; i++)</div><div class="line">                    ret = min(ret, TA[i]);</div><div class="line">                <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, ret);</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cmd == <span class="number">7</span>) &#123;  <span class="comment">// sum(A[x:y])</span></div><div class="line">                <span class="built_in">scanf</span>(<span class="string">"%lld %lld"</span>, &amp;x, &amp;y);</div><div class="line">                <span class="keyword">long</span> <span class="keyword">long</span> ret = <span class="number">0</span>;</div><div class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = (<span class="keyword">int</span>) x<span class="number">-1</span>; i &lt; y; i++)</div><div class="line">                    ret += TA[i];</div><div class="line">                <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, ret);</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cmd == <span class="number">0</span>) &#123;  <span class="comment">// back Day x-th</span></div><div class="line">                <span class="built_in">scanf</span>(<span class="string">"%lld"</span>, &amp;x);</div><div class="line">                TA = L[x];</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                <span class="built_in">puts</span>(<span class="string">"WTF"</span>);</div><div class="line">                <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">            &#125;</div><div class="line">            L.push_back(TA), verIdx = i;</div><div class="line">            <span class="built_in">printf</span>(<span class="string">"version %d\n"</span>, i);</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">auto</span> &amp;x: TA)</div><div class="line">                <span class="built_in">printf</span>(<span class="string">"[%3lld]"</span>, x);</div><div class="line">            <span class="built_in">puts</span>(<span class="string">""</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Test-Generator"><a href="#Test-Generator" class="headerlink" title="Test Generator"></a>Test Generator</h3><p>小測資檢驗用</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">     srand (time(<span class="literal">NULL</span>));</div><div class="line">    <span class="keyword">int</span> testcase, n, m, x, y;</div><div class="line">    <span class="keyword">int</span> A[<span class="number">100</span>];</div><div class="line">    testcase = <span class="number">1</span>;</div><div class="line">    freopen(<span class="string">"in.txt"</span>, <span class="string">"w+t"</span>, <span class="built_in">stdout</span>);</div><div class="line"><span class="comment">//    printf("%d\n", testcase);</span></div><div class="line">    <span class="keyword">while</span> (testcase--) &#123;</div><div class="line">        n = <span class="number">32</span>;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, n);</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</div><div class="line">            <span class="built_in">printf</span>(<span class="string">"%d%c"</span>, rand(), i == n<span class="number">-1</span> ? <span class="string">'\n'</span> : <span class="string">' '</span>);</div><div class="line">        &#125;</div><div class="line">        m = <span class="number">1000</span>;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, m);</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; L;</div><div class="line">        L.push_back(n);</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; i++) &#123;</div><div class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</div><div class="line">                <span class="keyword">int</span> cmd = rand()%<span class="number">8</span>;</div><div class="line">                <span class="keyword">if</span> (n == <span class="number">1</span> &amp;&amp; cmd == <span class="number">2</span>)</div><div class="line">                    <span class="keyword">continue</span>;</div><div class="line">                <span class="keyword">if</span> (cmd == <span class="number">0</span>) &#123;</div><div class="line">                	<span class="keyword">int</span> x = rand()%i;</div><div class="line">                	<span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>, cmd, x);</div><div class="line">                	n = L[x];</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">if</span> (cmd == <span class="number">1</span>)</div><div class="line">                    <span class="built_in">printf</span>(<span class="string">"%d %d %d\n"</span>, cmd, rand()%(n+<span class="number">1</span>), rand()), n++;</div><div class="line">                <span class="keyword">if</span> (cmd == <span class="number">2</span>)</div><div class="line">                    <span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>, cmd, rand()%n+<span class="number">1</span>), n--;</div><div class="line">                <span class="keyword">if</span> (cmd == <span class="number">3</span>) &#123;</div><div class="line">                    x = rand()%n+<span class="number">1</span>, y = rand()%n+<span class="number">1</span>;</div><div class="line">                    <span class="keyword">if</span> (x &gt; y)  swap(x, y);</div><div class="line">                    <span class="built_in">printf</span>(<span class="string">"%d %d %d\n"</span>, cmd, x, y);</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">if</span> (cmd == <span class="number">4</span>) &#123;</div><div class="line">                    x = rand()%n+<span class="number">1</span>, y = rand()%n+<span class="number">1</span>;</div><div class="line">                    <span class="keyword">if</span> (x &gt; y)  swap(x, y);</div><div class="line">                    <span class="built_in">printf</span>(<span class="string">"%d %d %d %d\n"</span>, cmd, x, y, rand());</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">if</span> (cmd == <span class="number">5</span> || cmd == <span class="number">6</span> || cmd == <span class="number">7</span>) &#123;</div><div class="line">                    x = rand()%n+<span class="number">1</span>, y = rand()%n+<span class="number">1</span>;</div><div class="line">                    <span class="keyword">if</span> (x &gt; y)  swap(x, y);</div><div class="line">                    <span class="built_in">printf</span>(<span class="string">"%d %d %d\n"</span>, cmd, x, y);</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            &#125;</div><div class="line">            L.push_back(n);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-vr-note4" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/06/13/vr-note4/" class="article-date">
  <time datetime="2015-06-12T23:31:58.000Z" itemprop="datePublished">2015-06-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/學校課程/">學校課程</a>/<a class="article-category-link" href="/categories/學校課程/虛擬實境/">虛擬實境</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/13/vr-note4/">虛擬實境 建模 SVD 筆記</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2015/06/13/vr-note4/" data-id="ckpaqpygg010e00vncea05321" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2015/06/13/vr-note4/#disqus_thread" class="article-comment-link">Comments</a>
      
      
    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <p>由於在選讀論文時，和上課都遇到相關問題，但一直對這 SVD 的實際感觸沒很深，了解數學計算，卻不知道特性一直很困惑我。在這裡收集一下曾經學過的內容，當初在線性代數時沒有學到這一塊，至於 <span>$LU$</span><!-- Has MathJax --> 分解有沒有上到過，我自己也深感困惑，不過看一下網路資源勉強還能理解。</p>
<p>至於 SVD 則在線性代數非常重要，在許多領域時常會遇到，如巨量資料 (massive data)？機器學習？影像處理？就我所知理解看看吧！</p>
<h2 id="SVD"><a href="#SVD" class="headerlink" title="SVD"></a>SVD</h2><p>定義從一般式</p>
<span>$$A_{m, n} = U_{m, m} \Sigma_{m, r} V_{n, r}^T$$</span><!-- Has MathJax -->
<p>得到縮減過後的相似矩陣</p>
<span>$$A_{m, n} \cong U_{m, r} \Sigma_{r, r} V_{n, r}^T$$</span><!-- Has MathJax -->
<p>給定 <span>$A$</span><!-- Has MathJax --> 矩陣，要變成三個矩陣相乘，可以壓縮儲存空間，一般來說都是拿來得到近似的 <span>$A$</span><!-- Has MathJax --> 矩陣，藉由刪除過小的 eigenvalue 來完成，eigenvalue 就是所謂的矩陣特徵值。</p>
<p>在學線性代數時，沒有仔細想過 eigenvalue 的意義所在，每一個 eigenvalue 也會對應一個 eigenvector，這些 eigenvalue 大小對應的分佈的相關性大小，而 eigenvector 則表示新的轉換軸的方向。類似最小平方法得到的結果。</p>
<p>但在巨量資料課程中我們可以知道一件事情，若是稀疏矩陣 <span>$A$</span><!-- Has MathJax -->，經過 SVD 運作後，得到 <span>$U, V$</span><!-- Has MathJax --> 矩陣都是稠密的，因此空間儲存反而划不來，因此會有另外一種解法 CUR，可以上網搜尋 massive data mining coursera 在 <a href="http://www.mmds.org/" target="_blank" rel="external">這裏</a> 可以知道關於 CUR 的資訊。</p>
<p>從課程中的例子來看，假設在電影評論系統中，則 A 矩陣表示電影對人的喜好度，則 SVD 相當於如下描述 (假想，單純的矩陣概念)</p>
<ul>
<li><span>$A(i, j)$</span><!-- Has MathJax --> 電影編號 i 對用戶 j 的好感度</li>
<li><span>$U(i, j)$</span><!-- Has MathJax --> 電影編號 i 對電影屬性 j 的成分程度</li>
<li><span>$\Sigma(i, j)$</span><!-- Has MathJax --> 電影屬性 i 跟電影屬性 j 的之間重要性。</li>
<li><span>$V(i, j)$</span><!-- Has MathJax --> 表示用戶 i 對電影屬性 j 的偏愛程度。</li>
</ul>
<p>也就是說有一些電影屬性不是很重要，可以移除掉，這樣的表示法得到一個近似的矩陣 <span>$A$</span><!-- Has MathJax -->。</p>
<p>在巨量資料中一個有趣的運用，可以用在購物推薦系統中，來達到預測相關性，跟某人對其他產品的喜好程度或者是需求性，但是在處理之前會遇到矩陣過大，但又非常稀疏，為了解決紀錄問題，就有奇奇怪怪的 Dimensionality Reduction 來完成，SVD 就是其中一種方法。</p>
<p>其他應用部分，將不重要的特徵值消除，來求得哪些元素是需要的，看到有一篇 <a href="http://www.cnblogs.com/leftnoteasy/archive/2011/01/19/svd-and-applications.html" target="_blank" rel="external">文章</a> 在做 PCA 主成份分析。</p>
<span>$$\begin{align}
&amp; A_{m, n} V_{n, r} = U_{m, r} \Sigma_{r, r} V_{n, r}^T V_{n, r} \\
&amp; \because V_{n, r}^T V_{n, r} = I \\
&amp; \therefore A_{m, n} V_{n, r} = U_{m, r} \Sigma_{r, r} \\
\end{align}$$</span><!-- Has MathJax --> 
<p>如此一來就可以知道要保留哪幾個主要資訊。</p>
<p>在虛擬實境論文中也是有這樣的處理，做的是 CT 建模，將模型的每個頂點，要計算 QEM (最小二次誤差) 的重要性，可以將其表示成一個矩陣，利用 SVD 方式得到，來決策要保留前 k 個重要性的節點，再將其他節點移除，來讓新得到節點盡可能地可以貼近真實模型。</p>
<p>之所以會這麼做，是要利用內插法來強迫得到邊緣偵測，但這樣會造成很多新頂點，為了要把過多頂點消除，使用 QEM 作為評價方法，利用 SVD 來完成大規模刪除的操作。</p>
<h2 id="Map-Reduce"><a href="#Map-Reduce" class="headerlink" title="Map-Reduce"></a>Map-Reduce</h2><p>都明白 SVD 是一個很繁複的做法，有一個 <span>$O(N^3)$</span><!-- Has MathJax --> 的算法來求得所有 eigenvalue，若要用一般電腦跑，光是得到一個大矩陣所有 eigenvalue 複雜度相當高，其複雜程度沒有細讀過。有一種迭代的方法，類似馬可夫過程，每一次迭代可以逼近一個 eigenvalue，為了得到 n 個 eigenvalue，想必要迭代非常多次。運用 Map-Reduce 分散到很多台群落電腦加快矩陣乘法，這種方法的複雜度是可以期待的。</p>
<p>詳細操作 <a href="http://infolab.stanford.edu/~ullman/mmds/ch11.pdf" target="_blank" rel="external">請參考</a></p>
<p>eigenvalue <span>$\lambda$</span><!-- Has MathJax --> 滿足</p>
<span>$Av = \lambda v$</span><!-- Has MathJax -->
<p>現在開始迭代 <span>$v$</span><!-- Has MathJax --> 讓其等式趨近於穩定</p>
<span>$A x_{i} = \lambda x_{i+1}$</span><!-- Has MathJax -->
<p>初始化<span>$x_{i} = (1, 1, ..., 1, 1)$</span><!-- Has MathJax --> ，其中<span>$|x_{i}| = 1$</span><!-- Has MathJax --> 藉由長度為 1 的向量，來求得<span>$\lambda$</span><!-- Has MathJax -->，之所以要對 <span>$x$</span><!-- Has MathJax --> 進行正規化，其一就是要求出<span>$\lambda$</span><!-- Has MathJax -->，另一個原因是要看何時穩定，當<span>$|x_{i} - x_{i+1}|$</span><!-- Has MathJax --> 差距夠小時，則表示進入穩定狀態。</p>
<p>那就可以得到矩陣 <span>$A$</span><!-- Has MathJax --> 的其中一個 eigenvalue，為了求得另外一組解，得到新的<span>$A^* = A - \lambda x x^T$</span><!-- Has MathJax -->，再對<span>$A^*$</span><!-- Has MathJax --> 找到 eigenvalue，不斷地迭代下去。</p>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-speech-read-life" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/06/12/speech-read-life/" class="article-date">
  <time datetime="2015-06-11T23:41:51.000Z" itemprop="datePublished">2015-06-12</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/手札日記/">手札日記</a>
  </div>

  </div>
  <div class="article-inner ">
    
<div class="article-gallery">
  <div class="article-gallery-photos">
    
      <a class="article-gallery-img fancybox" href="http://i.imgur.com/6Bysz81.jpg" rel="gallery_ckpaqpy7p00fg00vnqzivy4bs">
        <img src="http://i.imgur.com/6Bysz81.jpg" itemprop="image">
      </a>
    
  </div>
</div>

    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/12/speech-read-life/">閱讀人生 『閱讀』社群 外出紀錄</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2015/06/12/speech-read-life/" data-id="ckpaqpy7p00fg00vnqzivy4bs" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2015/06/12/speech-read-life/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/中央大學/">中央大學</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/服務學習/">服務學習</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="前處理"><a href="#前處理" class="headerlink" title="前處理"></a>前處理</h2><p>在這個畢業季節，考量著那做不到服務小時的畢業門檻，近乎危急之下，學校邀請 <strong> 閱讀 </strong> 社群創辦人來講這個社群的心路歷程與目標，被家裡人催著參加活動，剛好參加了這個講座。</p>
<p>在進入這場講座之前，用很久的 Facebook 都不曉得有『閱讀』社群的存在，活動標榜 「百萬人都愛上的華人最大臉書閱讀社群」的確有朋友也喜歡這個粉絲頁，從未見過演算法會讓我知道這個訊息，稍微看了一下內容，也許就跟長輩們常常分享的心靈雞湯差不多吧？既然參加活動，事前準備按個讚也不為過，但一個星期中也從來都沒見過相關訊息跳出來。</p>
<p>好吧！參加活動就能開始理解到底是賣什麼。</p>
<p><img src="http://i.imgur.com/L17y03t.png" alt="《吹響吧！低音號》 誰知道呢 那個人比較特別"></p>
<h2 id="運行"><a href="#運行" class="headerlink" title="運行"></a>運行</h2><h3 id="入場"><a href="#入場" class="headerlink" title="入場"></a>入場</h3><p>在這炙熱的畢業季，走到學校後門的白色貨櫃屋，比起以往只從租屋處到學校的田中小徑，這一天走了一條不尋常的道路，不習慣的環境，停個車也擔憂打擾到其他住在附近的人。曾經聽同學說這是個茶鋪，對我來說是高檔了點，只要有網路電腦的地方，在哪都無所謂，這種高檔店一年去的次數一隻手就能數出來。</p>
<p>吱吱悟悟走向協辦單位拿取資料填寫、簽名報到，很久沒聽到認識人以外的聲音，聽不懂活動人員給予我的下一個指令是什麼，傻里傻氣地按照當初在網路上看的活動訊息行事，心想找知道就找個朋友跟我一起來，但又想到朋友常回應的那一句話「我時數滿了，為什麼要去？」看來是沒望了。</p>
<p>也許在別人眼中舉止是多麼笨拙，選擇一杯飲料作為低銷入場、再找個位子坐下，久違的一步，對我來說可是比寫代碼還辛苦。為了防止看起來突兀，盡可能地選擇一個可以躲藏的位子，所思又想「到底哪個位子才適合我，這一切好困難」在這小茶鋪，擺著如電視劇一樣的一堆小椅子、小投影幕及少數的桌子，既不是可以躲藏自我的專業講廳，也不是階梯式的椅子擺放，彼此跟彼此之間的距離少了點隔閡，心中的畏懼又增添一層。</p>
<p><img src="http://i.imgur.com/tD7Xhtf.png" alt="《約會、戀愛究竟是什麼》可能無法接受自己連普通人都做不了的現實吧！"></p>
<h3 id="記憶讀取"><a href="#記憶讀取" class="headerlink" title="記憶讀取"></a>記憶讀取</h3><p>活動一開始，從主持人 <strong> 鄭俊德 </strong> 口中開始道出自己的經驗、家庭背景，與其款款地道出自己有多成功、怎麼成功的，那些不具有說服別人跟著一起做的舉動，介紹自己的一些小事開始，來龍去脈講的是自己怎麼從家庭圈圈中跳出來，又說著自己如何從學歷下走出自己。</p>
<h4 id="插曲"><a href="#插曲" class="headerlink" title="插曲"></a>插曲</h4><p>中間有個小插曲活動「<strong> 如何說出自己的故事？ </strong>」先別急著講長篇大論，能不能用一分鐘介紹給旁邊的人認識，現在的我們越來越少用文字對談，資訊相當多導致大部分的時間都在聽別人怎麼做，如何說給別人聽變得相當困難。</p>
<p>要我們介紹自己給自己旁邊的人，「等等，我身旁坐得是 … ？」此時心中不斷地迴盪，既然都走出門總得再跨一步『我是 …』我想已經在別人眼中死了吧，自覺說出來會被當作活在平行世界似的。跟妹子聊天什麼的，不是奇蹟可以形容的，但想到自身的負面情緒會影響他人，說話又更加的怯步。</p>
<p>「我叫翔雲，資工系，來這邊的機緣只是單純畢業門檻，平常是個碼農。中興轉學來到這裡，在別人眼中只是離家鄉花蓮更近一點 …」</p>
<p>話語就此打斷，對方是個法文系女生，跟我仇視的 <strong> 英文 </strong> 有點血緣關係，大一生不刷 Facebook，覺得在上面會消耗時間太多，大一生活多采多姿又忙碌，這一點我是很清楚的，曾經也過著自以為忙碌的代碼生活。原來她來這裡的原因是因為主持人是位 <strong> 專欄作家 </strong>，看來是一位社會中現實真正的生活者，看著雜誌、與朋友交談、或者在圖書館中靜靜讀書度過一日的生活的吧，在我心中假想的形象不斷地浮現。不知道能不能說個一分鐘，更多情況無法進行即時的對談，想說的話很多，很想讓別人記住我，但又怕這一段成為 <strong> 黑歷史 </strong>，躊躇之際又選擇放棄說話。</p>
<p><img src="http://i.imgur.com/AbQNf1u.png" alt="《果然我的青春戀愛搞錯了》這世界上有著只要在場就會讓氣氛變差的人"></p>
<h4 id="圈圈"><a href="#圈圈" class="headerlink" title="圈圈"></a>圈圈</h4><p>主持人講到，對於父母給予的環境到底要怎麼跨出圈圈，圈圈中的 <strong> 熱情、專業、經濟 </strong> 如何永恆運作？在圈圈中發現世界，還是在圈圈中活在自我 (用他的弟弟來講例子，弟弟好像被出賣了！)，如何將圈圈放大？理解的越多，圈圈越大就會越複雜。用熱情推向專業再來獲得金錢，空有熱情造就不出專業，將自己的熱情變成專業，但更多的是沒有熱情，先用專業帶來的經濟，將獲得的金錢培養出熱情，再利用熱情跳到另一個新的圈圈。</p>
<p>從某些人身上的確發現這一點，不少人在大學習得專業卻沒有熱情，偶爾會罵著他們「到底是不是來學習，還是來玩的？」在知道自己讀的專業也不過是生活的一小塊時，那種想法也隨之消去，在大學累積人脈才是重要的，學業只要維持在最低限度之上就好。</p>
<p>一個問題被創造出來通常是有解法的，即便那解法不夠快速，講者一講到這個部分，身為計算機專業可說是反對再三，有些問題連解法都沒有，這裡的沒有可以說是人一生的時間也算不出答案的問題。這裡笑笑就好，畢竟現實生活中這種問題鮮少。</p>
<p>既然自己無法解決，肯定要問問朋友，朋友也可以問問朋友，相互幫忙是不錯的選擇。「<strong> 世界那麼大，理解得卻很少。 </strong>」腦袋記憶的時間有限，學習專研也是有所限制，什麼都要理解是不可能的。既然現在流行分散式系統架構，單機運作什麼的，隨著學習曲線不斷地陡增，越來越明白這困境。「<strong> 教練，我想會一個交朋友的技能啊！ </strong>」</p>
<p><img src="http://i.imgur.com/oJtToKj.png" alt="《果然我的青春戀愛搞錯了》 想要完全理解是一個非常自以為是、獨裁又傲慢的願望"></p>
<h4 id="習得性無助"><a href="#習得性無助" class="headerlink" title="習得性無助"></a>習得性無助</h4><p>關於 <a href="https://zh.wikipedia.org/wiki/%E7%BF%92%E5%BE%97%E6%80%A7%E5%A4%B1%E5%8A%A9" target="_blank" rel="external">習得性無助</a> 可以參考維基百科。</p>
<p>講者用實際實驗的例子告訴我們，實驗中把一條狗 <strong> 彼得 </strong> 關進一個地板接有電擊房間中，當狗尋找躲避電擊的方法，若發生找不到解決方案，彼得會進入放棄狀態，直接接受地板上的電擊，毫無抵抗地趴下。</p>
<p>接著把彼得帶到另一個房間與其他兩隻狗放在一起，這個房間與剛才只差了一點，跨過某一個衡桿後，另一邊是沒有電擊的，另外兩隻狗開始掙扎逃脫，其中一隻狗恰好跨過衡桿躲避電擊，另一隻狗也就跟著那隻狗一起在衡桿的另一側，特別的是彼得 <strong> 選擇放棄 </strong>，仍然在電擊區承受電擊，這就是所謂的 <strong> 習得性無助 </strong>。</p>
<p>講者描述到很多人接觸數學是多麼地恐懼，也許我面對的是對 <strong> 英文的恐懼 </strong>，因為聽不懂發音，好像也沒有努力的必要，於是我選擇放棄，一般人認為理所當然的事情，做不到那不是更容易放棄嗎？其實一開始英文成績都還算不錯，國中基測還是英文滿分，隨著聽力成績的壓迫，近乎猜測期望值的分數，讓我越來越不行。</p>
<p><img src="http://i.imgur.com/KkMIe6L.png" alt="《吹響吧！低音號》不想和其他傢伙一樣"></p>
<p>於是我走向另一邊，每天窩著打程序爬到現在，解題數上千、文章篇數上千、累積點閱次數一百多萬。現在的我相當無助，畢不了業，英文不好甚至沒有工作、未來，即便從他人口中道出「Morris 很強」，對我來說不具有一絲的鼓勵，更明白前面有更多無法理解的內容，<strong> 世界都用英文封藏起來 </strong>。</p>
<h4 id="自殺"><a href="#自殺" class="headerlink" title="自殺"></a>自殺</h4><p>這社群有一點很有趣，關於文章分享的部分，提供不只有大眾愛看的內容，原以為只是喜愛讚數的社群，對於負面情緒的文章從來不在意，講者口中道出「<strong> 用正向文章鼓勵負面情緒的人們是辦不到的 </strong>」因此他們仍然會放一些讚數不高的文章，不總是討好大眾愛看的內容，比起以往粉絲頁的經營方式這一點令我相當訝異。</p>
<p>這一點我很喜歡，也許正是處於負面那一群的人們。</p>
<p>甚至會因為有人看了那些正面文章，向他們哭訴要 <strong> 自殺 </strong> 了呢，要是我頂多到憎恨的地步罷了，「你們口口說聲簡單、正向的事物，這些我都沒有，是不是該結束人生呢？」被這樣的話語絆住雙腳。</p>
<p>講者描述「他們想要自殺，目標不是結束生命，而是解決問題」聽到 <strong> 解決問題 </strong> 四個字耳目一亮，在平常用程序解決算法問題正是解決問題，對於解決問題的熱情，自殺真是不錯的方法，時間複雜度低、速度快速、實作方法簡單，不外乎是這世界快好的 <span>$O(1)$</span><!-- Has MathJax --> 作法。</p>
<h2 id="彩蛋"><a href="#彩蛋" class="headerlink" title="彩蛋"></a>彩蛋</h2><p><img src="http://i.imgur.com/qYSiT0t.jpg" alt="《吹響吧！低音號》我會努力的，所以你也要好好努力"></p>
<p><img src="http://i.imgur.com/hFJEkLz.png" alt="《吹響吧！低音號》那時突然想到必須和前輩們競爭的現實，令我感到害怕"></p>
<p><img src="http://i.imgur.com/PHbnGMp.png" alt="《吹響吧！低音號》不過，還想做得更好"></p>
<p><img src="http://i.imgur.com/pr2LpNr.jpg" alt="《獻給阿爾吉儂的花束》大概重複一百萬次吧， 因為我有大把的時間， 反正我沒有女朋友、朋友"></p>
<p><img src="http://i.imgur.com/Y2wghrM.png" alt="《果然我的青春戀愛搞錯了》我也想「真實」"></p>
<p><img src="http://i.imgur.com/keIZmED.png" alt="《吹響吧！低音號》快住口"></p>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-security-notes5" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/06/12/security-notes5/" class="article-date">
  <time datetime="2015-06-11T23:20:54.000Z" itemprop="datePublished">2015-06-12</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/學校課程/">學校課程</a>/<a class="article-category-link" href="/categories/學校課程/資訊安全/">資訊安全</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/12/security-notes5/">近代加密 數位簽章 DSA 筆記</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2015/06/12/security-notes5/" data-id="ckpaqpy7i00ey00vnkn974jab" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2015/06/12/security-notes5/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/密碼學/">密碼學</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="DSA"><a href="#DSA" class="headerlink" title="DSA"></a>DSA</h2><p>Digital Signature Standard (DSS) 數位憑證標準，而有一個 DSA 演算法來完成憑證。</p>
<p>每一次憑證傳送三個參數 <span>$(r, s, M)$</span><!-- Has MathJax -->，利用私用金鑰進行加密。讓對方使用公鑰進行驗證。</p>
<ul>
<li><span>$r = (g^k \mod p) \mod q$</span><!-- Has MathJax --></li>
<li><span>$s = k^{-1}(SHA(M) + x \times r) \mod q$</span><!-- Has MathJax -->
</li>
</ul>
<p>give receiver <span>$(r, s, M)$</span><!-- Has MathJax -->, we have random (one-time) <span>$k$</span><!-- Has MathJax --> &amp; private key <span>$x$</span><!-- Has MathJax --></p>
<p>每一次簽名時，最好使用隨機亂數 <span>$k$</span><!-- Has MathJax --> 作為簽章用途，隨用即棄，若發生重複使用，將會發生被攻擊，被攻擊者拿到私鑰後，攻擊者就能進行偽裝。</p>
<h3 id="Attack"><a href="#Attack" class="headerlink" title="Attack"></a>Attack</h3><p>if reused <span>$k$</span><!-- Has MathJax --></p>
<p>如果重複使用隨機變數 <span>$k$</span><!-- Has MathJax -->，可以藉由夾擊的方式得到，雖然不知道加密的隨機亂數 <span>$k$</span><!-- Has MathJax --> 究竟是什麼，藉由夾擊可以把 <span>$k$</span><!-- Has MathJax --> 消除，利用乘法反元素反求 <span>$x$</span><!-- Has MathJax --> 是多少，公式如下所述。</p>
<ul>
<li><span>$k = s1^{-1} (SHA(M1) + x \times r) \mod q$</span><!-- Has MathJax --> - (1)</li>
<li><span>$k = s2^{-1} (SHA(M2) + x \times r) \mod q$</span><!-- Has MathJax --> - (2)</li>
</ul>
<p>subtract (1) - (2)</p>
<ul>
<li><span>$0 = s1^{-1} SHA(M1) - s2^{-1} SHA(M2) + (s1^{-1} - s2^{-1}) x \times r \mod q$</span><!-- Has MathJax --></li>
<li><span>$s1^{-1} SHA(M1) - s2^{-1} SHA(M2) = (s2^{-1} - s1^{-1}) x \times r \mod q$</span><!-- Has MathJax --></li>
<li><span>$x = (s1^{-1} SHA(M1) - s2^{-1} SHA(M2)) \times (s2^{-1} - s1^{-1})^{-1} \times r^{-1} \mod q$</span><!-- Has MathJax -->
</li>
</ul>
<p>get private key. Dangerous !</p>
<h3 id="Verify"><a href="#Verify" class="headerlink" title="Verify"></a>Verify</h3><p>驗證的正確性與否，接收者需要計算以下四個步驟來完成驗證。</p>
<ul>
<li><span>$w = s^{-1} \mod q$</span><!-- Has MathJax --></li>
<li><span>$u1 = (SHA(M) \times w) \mod q$</span><!-- Has MathJax --></li>
<li><span>$u2 = r \times w \mod q$</span><!-- Has MathJax --></li>
<li><span>$v = g^{u1} y^{u2} \mod q$</span><!-- Has MathJax -->
</li>
</ul>
<p>test <span>$v = r$</span><!-- Has MathJax -->, why correct ?</p>
<p>理論的正確性可以參考以下證明，把公開的 <span>$y = g^x \mod p$</span><!-- Has MathJax --> 拿出來，這個安全性取決於離散對數的算法難度。</p>
<ul>
<li>known <span>$y = g^x \mod p$</span><!-- Has MathJax -->, <span>$x$</span><!-- Has MathJax --> is a private key</li>
<li>because <span>$s = k^{-1}(SHA(M) + x \times r) \mod q$</span><!-- Has MathJax --></li>
<li>then <span>$k = s^{-1}(SHA(M) + x \times r) \mod q$</span><!-- Has MathJax --></li>
</ul>
<p>want <span>$r = (g^k \mod p) \mod q$</span><!-- Has MathJax --></p>
<ul>
<li><span>$r = (g^k \mod p) \mod q = g^{s^{-1}(SHA(M) + x \times r)} \mod q$</span><!-- Has MathJax --></li>
<li><span>$r = g^{s^{-1} SHA(M)} \times g^{x (s^{-1} \times r)} \mod q$</span><!-- Has MathJax --></li>
<li><span>$r = g^{s^{-1} SHA(M)} \times g^{x^{(s^{-1} \times r)}} \mod q$</span><!-- Has MathJax --></li>
<li><span>$r = g^{s^{-1} SHA(M)} \times y^{(s^{-1} \times r)} \mod q$</span><!-- Has MathJax -->
</li>
</ul>
<p>而我們事實上就是在處理指數部分，</p>
<h2 id="離散對數"><a href="#離散對數" class="headerlink" title="離散對數"></a>離散對數</h2><p>解決問題 <span>$y = g^x \mod p$</span><!-- Has MathJax -->，當已知 <span>$y, g, p$</span><!-- Has MathJax -->，要解出 <span>$x$</span><!-- Has MathJax --> 的難度大為提升，不像國高中學的指數計算，可以藉由 <code>log()</code> 運算來完成，離散對數可以的複雜度相當高，當 <span>$p$</span><!-- Has MathJax --> 是一個相當大的整數時，通常會取用到 256 bits 以上，複雜度則會在 <span>$O(2^{100})$</span><!-- Has MathJax --> 以上。</p>
<p>實際上有一個有趣的算法 body-step, giant-step algorithm，中文翻譯為 <strong> 小步大步算法 </strong>，在 ACM-ICPC 競賽中也可以找到一些題目來玩玩，算法的時間複雜度為 <span>$O(\sqrt{p})$</span><!-- Has MathJax -->，空間複雜度也是 <span>$O(\sqrt{p})$</span><!-- Has MathJax -->。相信除了這個外，還有更好的算法可以完成。</p>
<p>小步大步算法其實很類似塊狀表的算法，分塊處理，每一塊的大小為 <span>$\sqrt{p}$</span><!-- Has MathJax -->，為了找尋答案計算其中一塊的所有資訊，每一塊就是一小步，接著就是利用數學運算，拉動數線，把這一塊往前推動 (或者反過來把目標搜尋結果相對往塊的地方推動)。因此需要走 <span>$\sqrt{p}$</span><!-- Has MathJax --> 大步完成。</p>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-vr-note3" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/06/06/vr-note3/" class="article-date">
  <time datetime="2015-06-06T00:53:53.000Z" itemprop="datePublished">2015-06-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/學校課程/">學校課程</a>/<a class="article-category-link" href="/categories/學校課程/虛擬實境/">虛擬實境</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/06/vr-note3/">虛擬實境 考古筆記</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2015/06/06/vr-note3/" data-id="ckpaqpyge010a00vno15fzz0y" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2015/06/06/vr-note3/#disqus_thread" class="article-comment-link">Comments</a>
      
      
    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <p>虛擬實境這一門課可以讓你體驗有如在上另一門課的虛擬實境，前半段講生物結構，來了解軟硬體需要那些特性、效能，後半段在講視覺建模算法，牽涉到計算幾何、線性代數 … 等課程。</p>
<p>在幾何課程中介紹的 Delaunay triangulation 對於建模算法是相當重要，接著在多重解析度部分牽涉到傳輸跟處理速度，在資料結構的儲存上很有趣。為了加速運算效能、漸進式需求，各種轉換壓縮都會跑出來。</p>
<h2 id="複習"><a href="#複習" class="headerlink" title="複習"></a>複習</h2><ol>
<li><p>(15%)[Definition]<br>詳細說明一個虛擬實境 (virtual reality) 系統需要具備那些特性，並說明一個虛擬實境系統要用到哪些軟體技術。</p>
<p> 提供人們能感知的動態環境，視覺、嗅覺、觸覺，並且能與環境互動中得到反饋，得到逼真感覺。需要以下幾個軟體</p>
<ol>
<li>影像處理與繪製</li>
<li>物理引擎</li>
<li>擷取資料的整合</li>
</ol>
</li>
<li><p>(15%)[Human perception]<br>說明人類 1. 單眼立體視覺的原理，2. 雙眼立體視覺的原理；並3. 比較其優缺點。</p>
<ol>
<li>單眼立體視覺靠單一眼球調整焦距，將數張影像交給大腦來整合，這必須藉由對物體認知來補足。</li>
<li>雙眼立體視覺的原理主要靠左右兩個眼球不同的相位差，來計算立體影像的距離差距。</li>
<li>視野範圍以及反應時間，單眼必須藉由調整焦距來補足，雙眼可以同時獲取不同相位差的影像。</li>
</ol>
</li>
<li><p>(15%)[Hardware]<br>說明感應手套 (sensing glove) 與力回饋手套 (force-feedback glove) 的原理，並比較他們在應用上的差別(可舉例說明)。</p>
<p> 感應手套是由操作者的反應傳輸給感測器，藉由手套上感應器之間的變化數據得到操作者給予的狀態。力回饋手套則是將物理特性反饋給使用者，藉由手套上的機械，施予使用者力反饋。</p>
<p> 感應手套為使用者操作，力反饋手套則相反由環境操作。</p>
</li>
<li><p>(15%)[Modeling]<br> 說明五種 3D 模型的表面表示式 (surface representation)，並比較這些表示式的優缺點。</p>
<p> 目前共計主要分成五種表示法：</p>
<ul>
<li><p>regular square grid meshes (RSG)</p>
</li>
<li><p>triangulated regular meshes (TRM)</p>
</li>
<li><p>triangulated irregular networks (TINs)</p>
</li>
<li><p>polygon meshes</p>
</li>
<li><p>parametric patches</p>
<p>RSG 建造簡單，但會有四點不共平面，影響到貼圖繪製上的問題。TRM 解決四點不共平面問題，但與 RSG 問題無法凸顯邊緣。TINs 解決無法凸顯邊緣問題，但需要經過最佳化算法來得到不規則三角網格，儲存方式必須記錄所有的點座標，由於要經過最佳化算法，處理速度會慢上很多。動態更動座標的效果較差。polygon meshes 建造相對困難，多邊形的最小單位是三角形，頂點儲存量比 TINs 少很多，parametric patches 藉由取樣點套入參數，讓表面接近平滑，針對部分訊息的改造，平滑效果造成的反饋比較逼真。</p>
</li>
</ul>
</li>
<li><p>(15%)[Multiresolution modeling]<br>說明並比較以小波轉換為基礎的多重解析度模塑 (wavelet-based multiresolution modeling) 技術與 Lindstrom 等人的對稱三角網格 (symmetric triangulated networks) 多重解析度模塑技術的原理及優缺點。</p>
<ul>
<li>wavelet-based multiresolution modeling<br>解析度資料量與面積成正比，考慮到與觀察者之間的距離，用另外三張影響轉換到更高解析度，每一次解析度增加兩倍。</li>
<li><p>symmetric triangulated networks<br>考慮到地形高地、平坦性對於觀察者的影響，投影到使用者的平面，判斷是否差異過大需要提供更高解析，解析度資料量所需節點數成正比</p>
<p>相較之下，小波轉換給予的傳輸資料反應會比較慢，同時也會在使用者感受不到差異的地方提供更高解析度，很容易浪費資源，對稱三角網格在資料鏈結會複雜許多，沒有小波轉換的儲存架構來得容易理解，但對稱三角網格反應速度快，支持快速的解析度變換。</p>
</li>
</ul>
</li>
<li><p>(15%)[Multiresolution modeling]<br> 說明漸進網格 (progressive mesh) 多重解析度模塑與二次誤差 (quadric-error-metric) 多重解析度模塑的相同與差異處，並比較兩者的優缺點。  </p>
<p> 漸進網格藉由拔點、縮邊，提供不同解析度，依序拔點，考慮四個因素來決策拔點順序，這四個因素分別為影響到其他點之間的距離、縮邊的長度總和、頂點材質的差異、對邊界影響程度。  </p>
<p> 考慮的是從精細模型轉換到粗糙模型的差異變化，挑選變成粗糙的影響最小的先拔除，這樣的計算量會比較大，拔除一點後，鄰近的點的誤差值計算也要跟著重新計算。  </p>
<p> 二次誤差類似漸進網格的方式進行拔點縮點，但縮邊完的的結果不會只有三種可能，縮到兩端點的其中一個、或者是中點，提供一個數學計算來找到縮到哪一個地方更好。  </p>
<p> 二次誤差考慮的是從端點誤差值得相加，並且產生一個新的頂點，有點霍夫曼編碼的意味在。計算從粗糙模型上的點到精細模型平面的距離平方，與之前的模型 (Progressive mesh - Hoppe) 恰恰相反，並不是考慮精細模型上的點到粗糙模型平面的距離平方。因此對於 QEM 的誤差可以累加。問題是粗糙模型上的頂點是無法得知，屬於未知數，用內插法。QEM 誤差精確度只是約略，速度快但品質沒有 Progressive mesh 來得好。</p>
</li>
</ol>
<ol>
<li><p>(15%)[Multiresolution modeling]<br> 說明 (a) 動態載入 (dynamic loading) 的意義。(b) 動態載入與多重解析度模塑技術整合會產生什麼問題。(c)解決上述問題的三種方法。</p>
<p> 動態載入為在記憶體不足時，將部分資料存放在磁碟中，當程式運行到需要那些資料進行運算時再從磁碟中讀取，這樣的過程稱為動態載入。</p>
<p> 動態載入對於多重解析度塑模來說，主要是記憶體問題以及所需要的解析度跟數據大小關係，解析度度越高，所需要的資料量越多。但是畫面呈現的解析度不一下，要怎麼進行資料讀取，動態載入的數據結構定義則需要特別設計，例如是要 response time 最小、計算複雜度最低，讀取數量最小 … 等。</p>
<p> 假設需要不同解析度可以靠 Discrete layered multiresolution models，每一種解析度彼此獨立儲存，這樣的方法可以提供基礎的不同解析度，但讀取時間相對長，儲存在磁碟的空間需求大，效果呈現是最快的，但是離散結果會有不連續的解析度變化。</p>
<p> 為了解決解析度連續變化問題，可以使用 progressive mesh 來達到，提供以點、線與解析度呈現線性變化。</p>
<p> 若需要不同解析度，可以利用 hierarchical models 來完成畫面中每一處的解析度不同，這是一種資料結構，當需要更高解析度時，則走訪更深的樹節點來印出所需要的畫面。</p>
<p> 評價效果好壞利用 Delaunay triangulation 計算平滑程度。</p>
</li>
<li><p>(15%)[Rendering]<br> 說明shading的意義，敘述 Gouraud shading 與 Phong shading 的作法，最後比較他們的優缺點。</p>
</li>
</ol>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-poj-1151" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/06/05/poj-1151/" class="article-date">
  <time datetime="2015-06-05T01:03:50.000Z" itemprop="datePublished">2015-06-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-POJ/">解題區 - POJ</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/05/poj-1151/">POJ 1151 - Atlantis</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2015/06/05/poj-1151/" data-id="ckpaqpy6x00dd00vn3j1eqj6z" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2015/06/05/poj-1151/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/掃描線/">掃描線</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/矩形面積并/">矩形面積并</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/線段樹/">線段樹</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>給一堆平行兩軸的矩形，請問面積的聯集為何。</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">2</div><div class="line">10 10 20 20</div><div class="line">15 15 25 25.5</div><div class="line">0</div></pre></td></tr></table></figure>
<h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Test case #1</div><div class="line">Total explored area: 180.00</div></pre></td></tr></table></figure>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>利用掃描線算法，從 x 軸小掃描到大，維度 y 軸上的覆蓋情況。</p>
<p>若單純用離散方法在 2D 網格上填充，算法複雜度是 <span>$O(n^2)$</span><!-- Has MathJax -->，最慘情況還會再增加到 <span>$O(n^4)$</span><!-- Has MathJax -->，平均上來說離散方法是可行，但是記憶體是 <span>$O(n^2)$</span><!-- Has MathJax -->。</p>
<p>由於 ITSA 的那題 n 會高達 30000，於是拿這一題來練手，掃描線算法複雜度 <span>$O(n \log n)$</span><!-- Has MathJax -->，利用線段樹操作時，維護某個區間的完全覆蓋數，當完全覆蓋數等於 0 時，則計算子樹的覆蓋長度總和，雖然沒辦法完全覆蓋，則部分覆蓋可以從子樹計算得到。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt; </span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">262144</span>;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">SegmentTree</span> &#123;</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> &#123;</span></div><div class="line">        <span class="keyword">int</span> cover;				<span class="comment">// #cover</span></div><div class="line">        <span class="keyword">double</span> L, R;			<span class="comment">// value in real line, cover [L, R]</span></div><div class="line">        <span class="keyword">double</span> clen;			<span class="comment">// cover length</span></div><div class="line">        <span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">(<span class="keyword">int</span> a = <span class="number">0</span>, <span class="keyword">double</span> b = <span class="number">0</span>, <span class="keyword">double</span> c = <span class="number">0</span>, <span class="keyword">double</span> d = <span class="number">0</span>)</span> </span>&#123;</div><div class="line">            cover = a, L = b, R = c, clen = d;</div><div class="line">        &#125;</div><div class="line">    &#125; nodes[MAXN];</div><div class="line">    <span class="keyword">double</span> Y[MAXN];</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">pushDown</span><span class="params">(<span class="keyword">int</span> k, <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">pushUp</span><span class="params">(<span class="keyword">int</span> k, <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (nodes[k].cover &gt; <span class="number">0</span>) &#123;</div><div class="line">            nodes[k].clen = nodes[k].R - nodes[k].L;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">if</span> (l == r)</div><div class="line">                nodes[k].clen = <span class="number">0</span>;</div><div class="line">            <span class="keyword">else</span></div><div class="line">                nodes[k].clen = nodes[k&lt;&lt;<span class="number">1</span>].clen + nodes[k&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].clen;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> k, <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123; </div><div class="line">        nodes[k].init(<span class="number">0</span>, Y[l], Y[r+<span class="number">1</span>], <span class="number">0</span>);</div><div class="line">        <span class="keyword">if</span> (l == r)</div><div class="line">            <span class="keyword">return</span> ;</div><div class="line">        <span class="keyword">int</span> mid = (l + r)/<span class="number">2</span>;</div><div class="line">        build(k&lt;&lt;<span class="number">1</span>, l, mid);</div><div class="line">        build(k&lt;&lt;<span class="number">1</span>|<span class="number">1</span>, mid+<span class="number">1</span>, r);</div><div class="line">        pushUp(k, l, r);</div><div class="line">    &#125; </div><div class="line">    <span class="comment">// operator, add</span></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addUpdate</span><span class="params">(<span class="keyword">int</span> k, <span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> val)</span> </span>&#123;</div><div class="line">        nodes[k].cover += val;</div><div class="line">        <span class="keyword">if</span> (nodes[k].cover &gt; <span class="number">0</span>) &#123;</div><div class="line">            nodes[k].clen = nodes[k].R - nodes[k].L;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">if</span> (l == r)</div><div class="line">                nodes[k].clen = <span class="number">0</span>;</div><div class="line">            <span class="keyword">else</span></div><div class="line">                nodes[k].clen = nodes[k&lt;&lt;<span class="number">1</span>].clen + nodes[k&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].clen;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> k, <span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> val)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (x &lt;= l &amp;&amp; r &lt;= y) &#123;</div><div class="line">            addUpdate(k, l, r, val);</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line">        pushDown(k, l, r);</div><div class="line">        <span class="keyword">int</span> mid = (l + r)/<span class="number">2</span>;</div><div class="line">        <span class="keyword">if</span> (x &lt;= mid)</div><div class="line">            add(k&lt;&lt;<span class="number">1</span>, l, mid, x, y, val);</div><div class="line">        <span class="keyword">if</span> (y &gt; mid)</div><div class="line">            add(k&lt;&lt;<span class="number">1</span>|<span class="number">1</span>, mid+<span class="number">1</span>, r, x, y, val);</div><div class="line">        pushUp(k, l, r);</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// query </span></div><div class="line">    <span class="keyword">double</span> r_sum;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">qinit</span><span class="params">()</span> </span>&#123;</div><div class="line">        r_sum = <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> k, <span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (x &lt;= l &amp;&amp; r &lt;= y) &#123;</div><div class="line">            r_sum += nodes[k].clen;</div><div class="line">            <span class="keyword">return</span> ;</div><div class="line">        &#125;</div><div class="line">        pushDown(k, l, r);</div><div class="line">        <span class="keyword">int</span> mid = (l + r)/<span class="number">2</span>;</div><div class="line">        <span class="keyword">if</span> (x &lt;= mid)</div><div class="line">            query(k&lt;&lt;<span class="number">1</span>, l, mid, x, y);</div><div class="line">        <span class="keyword">if</span> (y &gt; mid)</div><div class="line">            query(k&lt;&lt;<span class="number">1</span>|<span class="number">1</span>, mid+<span class="number">1</span>, r, x, y);</div><div class="line">        pushUp(k, l, r);</div><div class="line">    &#125;</div><div class="line">&#125; tree;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Event</span> &#123;</span></div><div class="line">    <span class="keyword">double</span> x, yl, yr;</div><div class="line">    <span class="keyword">int</span> val;</div><div class="line">    Event(<span class="keyword">double</span> a = <span class="number">0</span>, <span class="keyword">double</span> b = <span class="number">0</span>, <span class="keyword">double</span> c = <span class="number">0</span>, <span class="keyword">int</span> d = <span class="number">0</span>):</div><div class="line">    x(a), yl(b), yr(c), val(d) &#123;&#125;</div><div class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> Event &amp;a) <span class="keyword">const</span> &#123;</div><div class="line">        <span class="keyword">return</span> x &lt; a.x;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">double</span> Lx[<span class="number">32767</span>], Ly[<span class="number">32767</span>], Rx[<span class="number">32767</span>], Ry[<span class="number">32767</span>], K[<span class="number">32767</span>];</div><div class="line"><span class="keyword">int</span> N;</div><div class="line"><span class="function"><span class="keyword">double</span> <span class="title">areaCoverAll</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="built_in">vector</span>&lt;Event&gt; events;</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">double</span>&gt; VY;</div><div class="line">    <span class="built_in">map</span>&lt;<span class="keyword">double</span>, <span class="keyword">int</span>&gt; RY;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++) &#123;</div><div class="line">        <span class="keyword">double</span> x1, x2, y1, y2;</div><div class="line">        x1 = Lx[i], x2 = Rx[i];</div><div class="line">        y1 = Ly[i], y2 = Ry[i];</div><div class="line">        events.push_back(Event(x1, y1, y2,  <span class="number">1</span>));</div><div class="line">        events.push_back(Event(x2, y1, y2, <span class="number">-1</span>));</div><div class="line">        VY.push_back(y1), VY.push_back(y2);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    sort(events.begin(), events.end());</div><div class="line">    sort(VY.begin(), VY.end());	</div><div class="line">    VY.resize(unique(VY.begin(), VY.end()) - VY.begin());</div><div class="line">    </div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; VY.size(); i++) &#123;</div><div class="line">        tree.Y[i] = VY[i];</div><div class="line">        RY[VY[i]] = i;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    tree.build(<span class="number">1</span>, <span class="number">0</span>, VY.size()<span class="number">-2</span>);</div><div class="line">    </div><div class="line">    <span class="keyword">double</span> area = <span class="number">0</span>, prevX = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>, j; i &lt; events.size(); ) &#123;		</div><div class="line">        <span class="keyword">if</span> (i &gt; <span class="number">0</span>) &#123;</div><div class="line">            tree.qinit();</div><div class="line">            tree.query(<span class="number">1</span>, <span class="number">0</span>, VY.size()<span class="number">-2</span>, <span class="number">0</span>, VY.size()<span class="number">-2</span>);</div><div class="line">            area += (events[i].x - prevX) * tree.r_sum;</div><div class="line">        &#125;</div><div class="line">        j = i;</div><div class="line">        <span class="keyword">while</span> (j &lt; events.size() &amp;&amp; events[j].x &lt;= events[i].x) &#123;</div><div class="line">            tree.add(<span class="number">1</span>, <span class="number">0</span>, VY.size()<span class="number">-2</span>, RY[events[j].yl], RY[events[j].yr] - <span class="number">1</span>, events[j].val);</div><div class="line">            j++;</div><div class="line">        &#125;</div><div class="line">        prevX = events[i].x;</div><div class="line">        i = j;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> area;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> testcase, cases = <span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;N) == <span class="number">1</span> &amp;&amp; N) &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%lf %lf %lf %lf"</span>, &amp;Lx[i], &amp;Ly[i], &amp;Rx[i], &amp;Ry[i]);</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"Test case #%d\n"</span>, ++cases);</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"Total explored area: %.2f\n"</span>, areaCoverAll());</div><div class="line">        <span class="built_in">puts</span>(<span class="string">""</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">2</span></div><div class="line"><span class="comment">10 10 20 20</span></div><div class="line"><span class="comment">15 15 25 25.5</span></div><div class="line"><span class="comment">*/</span></div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/23/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/22/">22</a><a class="page-number" href="/page/23/">23</a><span class="page-number current">24</span><a class="page-number" href="/page/25/">25</a><a class="page-number" href="/page/26/">26</a><span class="space">&hellip;</span><a class="page-number" href="/page/85/">85</a><a class="extend next" rel="next" href="/page/25/">Next &raquo;</a>
    </nav>
  
</section>
          
          
            <aside id="sidebar">
  <!-- <div id="ukagaka_panel"></div> -->
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/">學校課程</a><span class="category-list-count">115</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/介面設計/">介面設計</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/作業系統/">作業系統</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/即時系統/">即時系統</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/大學專題/">大學專題</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/巨量資料/">巨量資料</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/平行程式/">平行程式</a><span class="category-list-count">43</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/敏捷方法/">敏捷方法</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/數位影像生成/">數位影像生成</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/編譯器/">編譯器</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/自然語言/">自然語言</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/虛擬實境/">虛擬實境</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/計算型智慧/">計算型智慧</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/計算幾何/">計算幾何</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/計算機圖學/">計算機圖學</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/資料庫系統/">資料庫系統</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/資訊安全/">資訊安全</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/通識課程/">通識課程</a><span class="category-list-count">14</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/">工作應用</a><span class="category-list-count">31</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/Java/">Java</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/Meme/">Meme</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/可持久化/">可持久化</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/鬼故事/">鬼故事</a><span class="category-list-count">9</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/手札日記/">手札日記</a><span class="category-list-count">45</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/">網頁設計</a><span class="category-list-count">15</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/About-This-Blog/">About This Blog</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/HTML5/">HTML5</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/JQuery/">JQuery</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/Markdown/">Markdown</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/NodeJs/">NodeJs</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/">解題區</a><span class="category-list-count">633</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/Latex/">Latex</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/出題解題/">出題解題</a><span class="category-list-count">23</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-POJ/">解題區 - POJ</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a><span class="category-list-count">483</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-Zerojudge/">解題區 - Zerojudge</a><span class="category-list-count">77</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-其他題目/">解題區 - 其他題目</a><span class="category-list-count">45</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-未解題目/">解題區 - 未解題目</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/雜言筆記/">雜言筆記</a><span class="category-list-count">4</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a class="text" href="/2021/05/30/diary-202105/">
              
                <i class="icon-file-o"></i> 
              
            前思後想 新居落成</a>
          </li>
        
          <li>
            <a class="text" href="/2021/05/30/java/java-memory-optimization-2/">
              
                <i class="icon-file-o"></i> 
              
            Java 優化內存使用 組合篇</a>
          </li>
        
          <li>
            <a class="text" href="/2021/05/30/java/java-memory-optimization-1/">
              
                <i class="icon-file-o"></i> 
              
            Java 優化內存使用 結構篇</a>
          </li>
        
          <li>
            <a class="text" href="/2021/01/31/diary-202101/">
              
                <i class="icon-file-o"></i> 
              
            二八進展</a>
          </li>
        
          <li>
            <a class="text" href="/2021/01/31/work/meme-file-extension/">
              
                <i class="icon-file-o"></i> 
              
            File Extension</a>
          </li>
        
          <li>
            <a class="text" href="/2021/01/31/work/meme-globl-var/">
              
                <i class="icon-file-o"></i> 
              
            Global Variable</a>
          </li>
        
          <li>
            <a class="text" href="/2021/01/31/work/meme-handover/">
              
                <i class="icon-file-o"></i> 
              
            Handover</a>
          </li>
        
          <li>
            <a class="text" href="/2021/01/31/work/meme-interview-recursion/">
              
                <i class="icon-file-o"></i> 
              
            Interview &amp; Recursion</a>
          </li>
        
          <li>
            <a class="text" href="/2021/01/31/work/meme-job-build/">
              
                <i class="icon-file-o"></i> 
              
            Job Build</a>
          </li>
        
          <li>
            <a class="text" href="/2021/01/31/work/meme-lang/">
              
                <i class="icon-file-o"></i> 
              
            Programming Language Impostors</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    <div class="widget-wrap">
    <h3 class="widget-title">Links</h3>
    <div class="widget">   
      	<ul>
	      <li><a href="http://mypaper.pchome.com.tw/zerojudge" target="_blank" title="Old Blog"><i class="icon-star"></i> Morris' Blog (pchome)</a></li>
	      <li><a href="http://flere114.blogspot.tw/" target="_blank" title="蘿莉勿觸"><i class="icon-googles"></i> flere's Blog</a></li>
	      <li><a href="http://dreamoon4.blogspot.tw/" target="_blank" title="夢月"><i class="icon-googles"></i> dreamoon's Blog</a></li>
	      <li><a href="http://m80126colin.github.io" target="_blank" title="許胖們"><i class="icon-github-alt"></i> m80126colin's Blog</a></li>
	      <li><a href="http://sd12582000.blogspot.tw/" target="_blank" title="妮可妮可"><i class="icon-github-alt"></i> Nico's Blog</a></li>
	      <li><a href="http://kuoe0.logdown.com/" target="_blank" title="郭至軒大神"><i class="icon-github-alt"></i> KuoE0's Dots</a></li>
	      <li><a href="http://tyan.io/" title=""><i class="icon-github-alt"></i> Tyan Blog</a></li>
    	</ul>
    </div>
</div>

  
    
<script src="/js/jquery-ui.js"></script>
<script src="/js/ukagaka/jquery.morris.ukagaka.resource.js"></script>
<script src="/js/ukagaka/typed.js"></script>
  
  
</aside>
          
        
      </div>
      <footer id="footer">
  
  <div class="outer">    
    <div class="social-group">
      
      <a href="https://github.com/morris821028" target="_blank" title="github"><i class="icon-github"></i></a>
      
      
      <a href="https://www.facebook.com/Morris1028" target="_blank" title="facebook"><i class="icon-facebook-sign"></i></a>
      
      
      <a href="http://uhunt.felix-halim.net/id/46705" target="_blank" title="uhunt" ><span class="icon-uhunt">UVa<span></a>
      
    </div>
    <div id="footer-info" class="inner">
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and Theme by <a href="https://github.com/morris821028/hexo-theme-landscape" target="_blank" title="landscape">landscape</a> &copy; 2021 Shiang-Yun Yang 
    </div>
  </div>
</footer>


    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link"><i class=icon-home ></i>&nbsp&nbspHome</a>
  
    <a href="/about" class="mobile-nav-link"><i class=icon-user ></i>&nbsp&nbspAbout</a>
  
    <a href="/archives" class="mobile-nav-link"><i class=icon-archive ></i>&nbsp&nbspArchives</a>
  
    <a href="/tags" class="mobile-nav-link"><i class=icon-tags ></i>&nbsp&nbspTags</a>
  
    <a href="/picture" class="mobile-nav-link"><i class=icon-camera ></i>&nbsp&nbspPictures</a>
  
    <a href="/works" class="mobile-nav-link"><i class=icon-trophy ></i>&nbsp&nbspWorks</a>
  
</nav>
    
<script>
  var disqus_shortname = 'morris1028';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//go.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/jquery.lazyload.js"></script>
<script src="/js/jquery.als-1.6.js"></script>

<script src="/js/script.js"></script>

  </div><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
</body>
</html>