<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <title>Morris&#39; Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Morris&#39; Blog">
<meta property="og:url" content="http://morris821028.github.io/page/46/index.html">
<meta property="og:site_name" content="Morris&#39; Blog">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Morris&#39; Blog">
<link rel="publisher" href="108158678174364350000">
  
    <link rel="alternative" href="/atom.xml" title="Morris&#39; Blog" type="application/atom+xml">
  
  
    <meta name="google-site-verification" content="5mRgj8NanEMpGZuNfHNJNmH90RgNlrnJXsFlTaKD6Gs" />
  
  
    <link rel="shortcut icon" href="/img/f.ico">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <script src="/js/jquery-2.1.0.min.js"></script>
  <link rel="stylesheet" href="/css/style.css">
  
  <link rel="stylesheet" href="http://cdn.oesmith.co.uk/morris-0.5.1.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
<script src="http://cdn.oesmith.co.uk/morris-0.5.1.min.js"></script>
  <!-- <link rel="import" href="/bower_components/app-layout/app-layout.html"> --><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>
<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"><div id="banner-right"></div></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Morris&#39; Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          
            <a class="main-nav-link" href="/"><i class=icon-home title='Home'></i></a>
          
        
          
            <a class="main-nav-link" href="/about"><i class=icon-user title='About'></i></a>
          
        
          
            <a class="main-nav-link" href="/archives"><i class=icon-archive title='Archives'></i></a>
          
        
          
            <a class="main-nav-link" href="/tags"><i class=icon-tags title='Tags'></i></a>
          
        
          
            <a class="main-nav-link" href="/picture"><i class=icon-camera title='Pictures'></i></a>
          
        
          
            <a class="main-nav-link" href="/works"><i class=icon-trophy title='Works'></i></a>
          
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://morris821028.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        
          
          <section id="main">
  
    <article id="post-uva-1614" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/12/02/uva-1614/" class="article-date">
  <time datetime="2014-12-01T23:58:38.000Z" itemprop="datePublished">2014-12-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/12/02/uva-1614/">UVa 1614 - Hell on the Markets</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/12/02/uva-1614/" data-id="ckxv1wmp8015pa8vnvpmrcdfk" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/12/02/uva-1614/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/貪心/">貪心</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>金融交易，它們希望賣出、買進交易結束後的差為零。</p>
<p>意即將數字分兩堆的結果相同。</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">4</div><div class="line">1 2 3 3</div><div class="line">4</div><div class="line">1 2 3 4</div></pre></td></tr></table></figure>
<h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">No</div><div class="line">Yes</div><div class="line">1 -1 -1 1</div></pre></td></tr></table></figure>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>由於保證 <code>0 &lt; a[i] &lt;= i</code>，基於這一點，可以發現到只考慮一個數字 <code>a[1]</code> 時，必然可以湊出 <code>1 - a[1]</code>，當考慮第 i 大數字時，保證前 i - 1 個數字可以湊出 <code>1 ~ (i-1)</code>，加上第 i 個數字必然可以湊出 <code>1 ~ (i-1)+a[i]</code> (<code>1, 2, 3, ..., i-1, a[i], 1+a[i], ..., i-1+a[i]</code>)。</p>
<p>而事實上，可以湊出所有的 <code>1 ~ sum[i]</code>，根據遞歸是可以證明的。只要總和是偶數，必然可以劃分成總和相同的兩堆。排序一下，從大的數字開始挑，貪心去完成目標的總和。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line">    </div><div class="line">pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; A[<span class="number">100000</span>];</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> n;</div><div class="line">    <span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n) == <span class="number">1</span>) &#123;</div><div class="line">        <span class="keyword">long</span> <span class="keyword">long</span> sum = <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> ret[<span class="number">100000</span>] = &#123;&#125;;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;A[i].first);</div><div class="line">            A[i].second = i;</div><div class="line">            sum += A[i].first;</div><div class="line">        &#125; </div><div class="line">        <span class="keyword">if</span> (sum%<span class="number">2</span>) &#123;</div><div class="line">            <span class="built_in">puts</span>(<span class="string">"No"</span>);</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="built_in">puts</span>(<span class="string">"Yes"</span>);</div><div class="line">            sum /= <span class="number">2</span>;</div><div class="line">            sort(A, A+n);</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = n<span class="number">-1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</div><div class="line">                <span class="keyword">if</span> (sum &gt;= A[i].first)</div><div class="line">                    sum -= A[i].first, ret[A[i].second] = <span class="number">1</span>;</div><div class="line">                <span class="keyword">else</span></div><div class="line">                    ret[A[i].second] = <span class="number">-1</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</div><div class="line">                <span class="built_in">printf</span>(<span class="string">"%d%c"</span>, ret[i], i == n<span class="number">-1</span> ? <span class="string">'\n'</span> : <span class="string">' '</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-uva-1169" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/12/02/uva-1169/" class="article-date">
  <time datetime="2014-12-01T23:48:12.000Z" itemprop="datePublished">2014-12-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/12/02/uva-1169/">UVa 1169 - Robotruck</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/12/02/uva-1169/" data-id="ckxv1wmkn00vwa8vnvddj7y6i" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/12/02/uva-1169/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/dp/">dp</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/單調隊列/">單調隊列</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>在一個二維平面中，灑落 N 個垃圾，機器人從原點 (0, 0) 依序要蒐集垃圾，機器人一次承載 W 重量的垃圾，隨時可以返回原點將垃圾放下。</p>
<p>請問依序收集垃圾的最少花費為何？</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">1</div><div class="line"></div><div class="line">10</div><div class="line">4</div><div class="line">1 2 3</div><div class="line">1 0 3</div><div class="line">3 1 4</div><div class="line">3 1 4</div></pre></td></tr></table></figure>
<h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">14</div></pre></td></tr></table></figure>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>一開始得到方程式 <code>dp[i] = min(dp[j-1] + cost[j, i] + dist[j] + dist[i])</code> 必須滿足 <code>w[j, i] &lt;= C</code>，其中 j &lt;= i。</p>
<p>其中 <code>dp[i]</code> 表示依序收集前 i 個垃圾的最小花費，<code>cost[j, i]</code> 表示走訪編號 j 到 i 垃圾位置的花費，補上原點到編號 j，並且收集完從 i 回到原點。</p>
<p>這樣的方程式轉換需要 <code>N^2</code> 時間，化簡一下式子</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">dp[i] = dp[j-1] + cost[j, i] + dist[j] + dist[i]</div><div class="line">dp[i] = dp[j-1] + cost[i] - cost[j] + dist[j] + dist[i]</div><div class="line">dp[i] = (dp[j-1] - cost[j] + dist[j]) + cost[i] + dist[i]</div></pre></td></tr></table></figure>
<p>會發現 i, j 獨立，也滿足垃圾重量累計遞增，因此盡可能保留 <code>dp[j-1] - cost[j] + dist[j]</code> 小的結果，並且重量不超過限制，當重量超過限制時，該組答案在隨後保證再也不會用到，直接捨棄之。</p>
<p>核心就是單調隊列的思路。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 131072</span></div><div class="line"><span class="keyword">int</span> x[MAXN], y[MAXN], w[MAXN];</div><div class="line"><span class="keyword">int</span> cost[MAXN], dist[MAXN];</div><div class="line"><span class="keyword">int</span> dp[MAXN];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span> j)</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> dp[j<span class="number">-1</span>] - cost[j] + dist[j];</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> testcase, C, N;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;testcase);</div><div class="line">    <span class="keyword">while</span> (testcase--) &#123;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;C, &amp;N);</div><div class="line">        w[<span class="number">0</span>] = <span class="number">0</span>, cost[<span class="number">0</span>] = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++) &#123;</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>, &amp;x[i], &amp;y[i], &amp;w[i]);</div><div class="line">            cost[i] = cost[i<span class="number">-1</span>] + <span class="built_in">abs</span>(x[i] - x[i<span class="number">-1</span>]) + <span class="built_in">abs</span>(y[i] - y[i<span class="number">-1</span>]);</div><div class="line">            dist[i] = <span class="built_in">abs</span>(x[i]) + <span class="built_in">abs</span>(y[i]);</div><div class="line">            w[i] += w[i<span class="number">-1</span>];</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// dp[i] = dp[j-1] + cost[j, i] + dist[j] + dist[i]</span></div><div class="line">        <span class="comment">// dp[i] = dp[j-1] + cost[i] - cost[j] + dist[j] + dist[i]</span></div><div class="line">        <span class="comment">// dp[i] = (dp[j-1] - cost[j] + dist[j]) + cost[i] + dist[i]</span></div><div class="line">        <span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt; Q;</div><div class="line">        Q.push_back(<span class="number">0</span>);</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++) &#123;</div><div class="line">            <span class="keyword">while</span> (!Q.empty() &amp;&amp; w[i] - w[Q.front()] &gt; C)</div><div class="line">                Q.pop_front();</div><div class="line">            dp[i] = f(Q.front() + <span class="number">1</span>) + cost[i] + dist[i];</div><div class="line">            <span class="keyword">while</span> (!Q.empty() &amp;&amp; f(Q.back() + <span class="number">1</span>) &gt;= f(i + <span class="number">1</span>))</div><div class="line">                Q.pop_back();</div><div class="line">            Q.push_back(i);</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, dp[N]);</div><div class="line">        <span class="keyword">if</span> (testcase)	<span class="built_in">puts</span>(<span class="string">""</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-lesson/geometry-hw4" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/11/28/lesson/geometry-hw4/" class="article-date">
  <time datetime="2014-11-28T00:39:44.000Z" itemprop="datePublished">2014-11-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/學校課程/">學校課程</a>/<a class="article-category-link" href="/categories/學校課程/計算幾何/">計算幾何</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/11/28/lesson/geometry-hw4/">計算幾何 - HW04</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/11/28/lesson/geometry-hw4/" data-id="ckxv1wn4t0277a8vnucqpcsux" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/11/28/lesson/geometry-hw4/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/計算幾何/">計算幾何</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Chapter-7"><a href="#Chapter-7" class="headerlink" title="Chapter 7"></a>Chapter 7</h2><h3 id="7-1"><a href="#7-1" class="headerlink" title="7.1"></a>7.1</h3><p>Prove that for any n &gt; 3 there is a set of n point sites in the plane such that one of the cells of Vor(P) has n−1 vertices</p>
<p>證明一個點個數 n &gt; 3 的 Voronoi diagram，存在一個 cell 具有 n - 1 個頂點。</p>
<p><img src="http://i.imgur.com/86AoEWl.png" alt="7.1"></p>
<p>如圖所示，一個點放置在圓心，剩餘的 n - 1 個放置在圓周上。則中間的 cell 必然有 n - 1 個頂點。</p>
<h3 id="7-3"><a href="#7-3" class="headerlink" title="7.3"></a>7.3</h3><p>Show that<span>$\Omega (nlogn)$</span><!-- Has MathJax --> is a lower bound for computing Voronoi diagrams by reducing the sorting problem to the problem of computing Voronoi diagrams. You can assume that the Voronoi diagram algorithm should be able to compute for every vertex of the Voronoi diagram its incident edges in cyclic order around the vertex.</p>
<p><img src="http://i.imgur.com/Algk5Xi.png" alt="7.3"></p>
<p>證明 Voronoi diagram 的 lower bound<span>$\Omega (nlogn)$</span><!-- Has MathJax -->，藉由 reduce 到 sorting problem。</p>
<blockquote>
<p>關於 reduce 證明，將一個簡單、約束較少的問題 A，藉由一個合適的轉換，變成一個困難問題 B 的 subset，已知 A 的 lower bound，則 B 的 lower bound 至少與 A 相同。</p>
</blockquote>
<ol>
<li>假設排序 n 個整數<span>$x_{1}, x_{2}, ..., x_{n}$</span><!-- Has MathJax --> </li>
<li>轉換成<span>$(x_{1}, 0), (x_{2}, 0), ..., (x_{n}, 0)$</span><!-- Has MathJax --> 將所有點放置在 x 軸上，並且額外增加一點<span>$(\infty, 0)$</span><!-- Has MathJax -->。將 n + 1 個點找到 Voronoi diagram，對於<span>$(\infty, 0)$</span><!-- Has MathJax --> 的 cell 而言，恰好邊都是由另外 n 個點對應的 cell 構成 cell edge (相鄰)。假設儲存邊的順序為順或逆時針，則邊的順序等價排序結果。</li>
</ol>
<p>最後如上圖所示，又已知轉換需要<span>$O(n)$</span><!-- Has MathJax -->，sorting<span>$\Omega (nlogn)$</span><!-- Has MathJax -->，則 Voronoi diagram 的 lower bound<span>$\Omega (nlogn)$</span><!-- Has MathJax -->。</p>
<h3 id="7-5"><a href="#7-5" class="headerlink" title="7.5"></a>7.5</h3><p>Give an example where the parabola defined by some site<span>$p_{i}$</span><!-- Has MathJax --> contributes more than one arc to the beach line. Can you give an example where it contributes a linear number of arcs?</p>
<p><img src="http://i.imgur.com/VEwhdjt.png" alt="7.5"></p>
<p>如上圖所示<span>$p_{i}$</span><!-- Has MathJax --> 拉出的拋物線 (parabola) 有可能提供多個弧 (arc)。(最左側的點提供 2 個弧)</p>
<p>一個點<span>$p_{i}$</span><!-- Has MathJax --> 存有的 arc 數量與 cell<span>$p_{i}$</span><!-- Has MathJax -->) 的頂點數量線性相關。由 exercose 7.1 得到最多<span>$O(n)$</span><!-- Has MathJax --> 的頂點。同理 arc 數量最多<span>$O(n)$</span><!-- Has MathJax -->。</p>
<p>beach line 上的 arc 數最多為 Voronoi diagram 的 edge 數，又 Voronoi diagram 的 edge 最大數為<span>$3n - 6$</span><!-- Has MathJax -->，也因此最多為<span>$O(n)$</span><!-- Has MathJax --></p>
<h3 id="7-10"><a href="#7-10" class="headerlink" title="7.10"></a>7.10</h3><p>Let P be a set of n points in the plane. Give an<span>$O(nlogn)$</span><!-- Has MathJax --> time algorithm to find two points in P that are closest together. Show that your algorithm is correct.</p>
<p>Algorithm:</p>
<ol>
<li>建造 Voronoi Diagram by fortune’s algorithm<span>$O(nlogn)$</span><!-- Has MathJax --></li>
<li>對於每一個 cell<span>$p_{i}$</span><!-- Has MathJax -->) 檢查鄰居 cell<span>$p_{neighbor}$</span><!-- Has MathJax -->)，計算<span>$distance(p_{i}, p_{neighbor})$</span><!-- Has MathJax --> 的結果。Voronoi diagram 的 edge 數<span>$3n - 6$</span><!-- Has MathJax -->，每一條 edge 檢查只需要<span>$O(1)$</span><!-- Has MathJax -->。<span>$O(n)$</span><!-- Has MathJax --></li>
</ol>
<p>證明：每一個點所張開的 cell 只會與相鄰的 cell 最近，否則不符合 Voronoi diagram 的定義。</p>
<h3 id="7-14"><a href="#7-14" class="headerlink" title="7.14"></a>7.14</h3><p>Show that the farthest point Voronoi diagram on n points in the plane has at most 2n−3 (bounded or unbounded) edges. Also give an exact bound on the maximum number of vertices in the farthest point Voronoi diagram.</p>
<ul>
<li>歐拉公式<span>$v - e + f = 2$</span><!-- Has MathJax --></li>
<li>一個頂點至少三條邊。</li>
<li>farthest point Voronoi diagram 的最多有 n - 2 個頂點。<ul>
<li>對於每一個頂點而言，通過其相鄰 cell 對應的點的外接圓，其圓包含所有平面點。</li>
<li>這種圓最多 n - 2 個。</li>
</ul>
</li>
<li>從隨機增量算法中得知，插入一個點時，最多增加一個 vertex (繞行時，會刪除對於 cell 相交兩個線段之間的所有 vertex，這種 vertex 至少一個，並且增加與線段的交點 1 個)。<span>$v(3) = 1, v(n) = v(n-1) + 1 \text{ for } n &gt; 3$</span><!-- Has MathJax --></li>
<li>考慮增加一個虛點，連接所有 unbounded edge  <span>$v - e + f = 2 \Rightarrow (n-2+1) - e + n = 2 \Rightarrow e = 2n - 3$</span><!-- Has MathJax -->。</li>
</ul>
<hr>
<h2 id="Chpater-9"><a href="#Chpater-9" class="headerlink" title="Chpater 9"></a>Chpater 9</h2><h3 id="9-2"><a href="#9-2" class="headerlink" title="9.2"></a>9.2</h3><p>The degree of a point in a triangulation is the number of edges incident to it. Give an example of a set of n points in the plane such that, no matter how the set is triangulated, there is always a point whose degree is n−1.</p>
<p>對於任意三角化的結果，總會有一個點的 degree = n - 1。</p>
<p><img src="http://i.imgur.com/JEnOhDo.png" alt="9.2"></p>
<ul>
<li>此點一定能用一條線區隔所有剩餘點。</li>
<li>剩餘 n - 1 個點，一定能滿足任兩點的連線不遮蔽其他的點。</li>
</ul>
<p>example：n - 1 個點落在<span>$y = e^{x}$</span><!-- Has MathJax --> 上，且<span>$x &lt; p$</span><!-- Has MathJax -->，另外一點在<span>$(p, q)$</span><!-- Has MathJax --></p>
<h3 id="9-4"><a href="#9-4" class="headerlink" title="9.4"></a>9.4</h3><p>Prove that the smallest angle of any triangulation of a convex polygon whose vertices lie on a circle is the same. This implies that any completion of the Delaunay triangulation of a set of points maximizes the minimum angle.</p>
<p>對於所有頂點共圓的凸多邊形，任何的三角化的最小角度都會相同。</p>
<ol>
<li>任何三角形必然是圓上三點。</li>
<li>任何凸邊形的邊都會是一個三角形上的邊</li>
<li>三角形的邊都是圓的弦，並且對應角度正比弦長大小。</li>
<li>凸多邊形的最小弦長是多邊上的邊，又因一定會在三角形上，任何三角化一定包含這個最小角。</li>
</ol>
<h3 id="9-7"><a href="#9-7" class="headerlink" title="9.7"></a>9.7</h3><p>Prove that all edges of DG(Pr) that are not in DG(Pr−1) are incident to pr. In other words, the new edges of DG(Pr) form a star as in Figure 9.8. Give a direct proof, without referring to algorithm DELAUNAYTRIANGULATION.</p>
<p>對於新增加的邊<span>$e$</span><!-- Has MathJax -->，只會與新加入的點<span>$p_{r}$</span><!-- Has MathJax --> 相連。</p>
<ul>
<li><p>從 Voronoi diagram 等價 Delaunay triangulation，加入點的 cell，不會使其他兩個 cell 從沒相鄰變成相鄰。</p>
</li>
<li><p>對於<span>$\Delta(p_{i}, p_{j}, p_{k})$</span><!-- Has MathJax --> 之間加入<span>$p_{r}$</span><!-- Has MathJax -->，由於<span>$C(p_{i}, p_{j}, p_{k})$</span><!-- Has MathJax --> 內部不存在任何點<span>$C&apos;(p_{i}, p_{r})$</span><!-- Has MathJax --> (兩點當直徑)，得到<span>$C&apos; \subseteq C$</span><!-- Has MathJax -->，且<span>$C&apos;$</span><!-- Has MathJax --> 內部不存在任何點，確定<span>$\bar{p_{i} p_{r}}$</span><!-- Has MathJax --> 屬於 Delaunay 上。同理<span>$\bar{p_{j} p_{r}}$</span><!-- Has MathJax --><span>$\bar{p_{k} p_{r}}$</span><!-- Has MathJax -->。  </p>
</li>
<li><p>由於<span>$\Delta(p_{l}, p_{i}, p_{j})$</span><!-- Has MathJax --> 原本是 Delaunay 上，如果 flip<span>$\bar{p_{i} p_{j}}$</span><!-- Has MathJax -->，得到<span>$C(p_{i}, p_{r}, p_{l}) \subseteq C(p_{l}, p_{i}, p_{j})$</span><!-- Has MathJax --><span>$C(p_{j}, p_{r}, p_{l}) \subseteq C(p_{l}, p_{i}, p_{j})$</span><!-- Has MathJax -->，確定<span>$\bar{p_{r} p_{l}}$</span><!-- Has MathJax --> 屬於 Delaunay 上。  </p>
</li>
<li><p>也因此，對於增加的三角形進行檢查時，每次已經保證該三角形其中兩邊一定屬於 Delaunay 上，同時必然有<span>$p_{r}$</span><!-- Has MathJax -->，flip 的邊一定會接到<span>$p_{r}$</span><!-- Has MathJax --> 上。遞迴得證。</p>
</li>
</ul>
<h3 id="9-11"><a href="#9-11" class="headerlink" title="9.11"></a>9.11</h3><p>A Euclidean minimum spanning tree (EMST) of a set P of points in the plane is a tree of minimum total edge length connecting all the points. EMST’s are interesting in applications where we want to connect sites in a planar environment by communication lines (local area networks), roads, railroads, or the like.</p>
<ol>
<li>Prove that the set of edges of a Delaunay triangulation of P contains an EMST for P.</li>
<li>Use this result to give an O(nlogn) algorithm to compute an EMST for P.</li>
</ol>
<p>對於歐幾里得距離的平面最小生成樹。</p>
<ol>
<li><p>證明 EMST 的 edge set 被 Delaunay triangulation 的 edge set 包含。(參考 <a href="http://en.wikipedia.org/wiki/Euclidean_minimum_spanning_tree" target="_blank" rel="external">wiki</a>)<br> 目標： <strong> every edge not in a Delaunay triangulation is also not in any EMST </strong></p>
<ul>
<li>最小生成樹的性質：任何一個 cycle 上的最重邊將不會在最小生成樹中。</li>
<li><p>Delaunay triangulation： If there is a circle with two of the input points on its boundary which contains no other input points, the line between those two points is an edge of every Delaunay triangulation.</p>
<blockquote>
<p>對於鈍角三角形，最大邊必然不在 EMST 中，然而對於 Delaunay triangulation 性質，必須考慮他們兩點的 boundary (shared Voronoi edge) 是否存在。</p>
</blockquote>
<p>假設 p, q 之間沒有邊於 Delaunay，則對於任意通過 p, q 的圓都存在點 r 在圓內，從性質中發現 r 到 p, q 的距離一定小於 p q 之間的距離。同時在 EMST 中，p q r 三點會構成鈍角三角形，其中 p q 是最大邊，p q 之間必然沒有邊。</p>
</li>
</ul>
</li>
<li><p>找到 EMST 的<span>$O(nlogn)$</span><!-- Has MathJax --> 算法<br> Algorithm:</p>
<ol>
<li>利用 Delaunay triangulation 找到所有邊<span>$O(nlogn)$</span><!-- Has MathJax --></li>
<li>最多有 3n - 6 條邊，利用 MST 中的 kruskal’s algorithm<span>$O(ElogE)$</span><!-- Has MathJax --><br>3.<span>$E = O(3n-6) = O(n)$</span><!-- Has MathJax -->，得到<span>$O(nlogn)$</span><!-- Has MathJax --> 的做法。</li>
</ol>
</li>
</ol>
<h3 id="9-13"><a href="#9-13" class="headerlink" title="9.13"></a>9.13</h3><p>The Gabriel graph of a set P of points in the plane is defined as follows:<br>p q Two points p and q are connected by an edge of the Gabriel graph if and only if the disc with diameter pq does not contain any other point of P.</p>
<ol>
<li>Prove that DG(P) contains the Gabriel graph of P.</li>
<li>Prove that p and q are adjacent in the Gabriel graph of P if and only if the Delaunay edge between p and q intersects its dual Voronoi edge.</li>
<li>Give an O(nlogn) time algorithm to compute the Gabriel graph of a set of n points</li>
</ol>
<p>Gabriel graph：任兩點之間為直徑的圓內若沒有其他點，則兩點之間有邊。</p>
<ol>
<li>證明 subgraph 關係。 </li>
</ol>
<ul>
<li>根據 Theorem 9.6 (1) 任三點圓內<span>$C(p_{i}, p_{j}, p_{k})$</span><!-- Has MathJax -->沒有其他點，但是<span>$C(p_{i}, p_{j})$</span><!-- Has MathJax --> 內部可能存有其他點 (如單純的 n = 3 的鈍角三角形)。找到<span>$e_{p_{i}, p_{j}} \notin Gabriel \text{ but } e_{p_{i}, p_{j}} \in Delaunay$</span><!-- Has MathJax --><br>*<span>$C(p_{i}, p_{j})$</span><!-- Has MathJax --> 內部沒有其他點，則兩點之間必然有 shared Voronoi edge，符合 Theorem 9.6 (2)。得到  <span>$\text{ if }e_{p_{i}, p_{j}} \in Gabriel \text{ , then } e_{p_{i}, p_{j}} \in Delaunay$</span><!-- Has MathJax -->，得證<span>$g(P) \subseteq DG(P)$</span><!-- Has MathJax -->。</li>
</ul>
<ol>
<li>如果<span>$\bar{pq}$</span><!-- Has MathJax --> 經過多個 Voronoi edge，則<span>$\bar{pq}$</span><!-- Has MathJax --> 上一點 x 滿足 <span>$$\bar{xr} &lt; \bar{xp}, \bar{xr} &lt; \bar{xq} \\
\Rightarrow \angle rpx &lt; \angle prx, \angle rqx &lt; \angle xrq \text{(triangle)} \\
\text{let } \angle rpx = a, \angle prx = c, \angle rqx = b, \angle xrq = d \\
\Rightarrow a + b + c + d = 180^{\circ} \\ 
\Rightarrow c + d &gt; 90^{\circ}$$</span><!-- Has MathJax -->
</li>
</ol>
<p>符合圓內角性質，點 r 一定在圓內，得證<span>$e_{p_{i}, p_{j}} \notin Gabriel$</span><!-- Has MathJax -->。</p>
<ol>
<li><p>在 O(n logn) 時間內完成。<br> Algorithm： </p>
<ol>
<li>利用 Delaunay triangulation 找到所有邊<span>$O(nlogn)$</span><!-- Has MathJax --></li>
<li><p>將<span>$e_{p{i}, p{j}} \in DG(P)$</span><!-- Has MathJax --> 進行測試是否有點落在<span>$C(p{i}, p{j})$</span><!-- Has MathJax --><span>$O(n)$</span><!-- Has MathJax --></p>
<p>只需要拿鄰居進行檢測，鄰居最多 2 個 (共邊的三角形)。</p>
</li>
</ol>
</li>
</ol>
<h3 id="9-14"><a href="#9-14" class="headerlink" title="9.14"></a>9.14</h3><p>The relative neighborhood graph of a set P of points in the plane is defined as follows: Two points p and q are connected by an edge of the relative neighborhood graph if and only if</p>
<span>$d(p, q) \leq \underset{r \in P, r \neq p, q }{min} max(d(p, r), d(q, r)).$</span><!-- Has MathJax -->
<ol>
<li>Given two points p and q, let lune(p,q) be the moon-shaped region p q lune(p,q) formed as the intersection of the two circles around p and q whose radius is d(p,q). Prove that p and q are connected in the relative neighborhood graph if and only if lune(p,q) does not contain any point of P in its interior.</li>
<li>Prove that DG(P) contains the relative neighborhood graph of P.</li>
<li>Design an algorithm to compute the relative neighborhood graph of a given point set.</li>
</ol>
<p>整體而言類似 9.13。</p>
<ol>
<li>若 p, q 之間沒有邊，則  <span>$$\exists r : d(p, q) &gt; \underset{r \in P, r \neq p, q }{min} max(d(p, r), d(q, r)) \\
\exists r : d(p, q) &gt; d(p, r) \text{ and } d(p, q) &gt; d(q, r)$$</span><!-- Has MathJax -->
AND 就是做交集操作，不知道該怎麼寫才好。</li>
<li>與 9.14 依樣畫葫蘆，只是<span>$lune(p, q) \subseteq C(p, q)$</span><!-- Has MathJax -->，則更暗示<span>$\text{ if }e_{p_{i}, p_{j}} \in G \text{ , then } e_{p_{i}, p_{j}} \in Gabriel$</span><!-- Has MathJax --> </li>
<li>速度是<span>$O(n^{2})$</span><!-- Has MathJax -->，沒辦法單純看鄰居進行檢查。拿每一條邊進行 O(n) 窮舉。不過在分散式計算，整體是 O(n)。</li>
</ol>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-lesson/civilization-w10" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/11/26/lesson/civilization-w10/" class="article-date">
  <time datetime="2014-11-26T11:10:04.000Z" itemprop="datePublished">2014-11-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/學校課程/">學校課程</a>/<a class="article-category-link" href="/categories/學校課程/通識課程/">通識課程</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/11/26/lesson/civilization-w10/">[通識] 文明的進程 Week 10</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/11/26/lesson/civilization-w10/" data-id="ckxv1wn39025ia8vnfeou1c43" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/11/26/lesson/civilization-w10/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/通識/">通識</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="重大體悟"><a href="#重大體悟" class="headerlink" title="重大體悟"></a>重大體悟</h2><blockquote>
<p>羞恥重要的性質是在行為舉止後對於 <strong> 自我優越感下降 </strong> 的 <strong> 恐懼 </strong>，個人害怕喪失他人的尊重，思考這些帶來的可能性，也就是羞恥情感！其實活得身分低下、與那些自認不同的人處於相同地位。</p>
</blockquote>
<p>學了半學期羞恥，這時才發現那吞噬信心的巨獸－<strong> 羞恥 </strong>，不知道何時開始，它就像常駐技能似的，不管睡著還醒著都沒有關閉的跡象，這樣活著像遊戲 BUG 似的存在，那麼地與眾不同。</p>
<p>也許，早在那年發現自我弱點時，就烙上那 <strong> 奴隸的印記 </strong>，不斷地想要遮掩身分的不同，隨時隨地都要小心祕密被發現，想到個人價值有可能在一夕崩落，羞恥感壟罩整個心頭。其實我就是那身分低下的奴，不斷地遮掩印記，卻試圖想要往那更高層爬去。</p>
<p>既然都爬到這，還不想崩落、還不想被發現，至少還要在某些人中存有價值，帶著罪惡感不斷輪迴，也因此走了自己最不想走的路，但是不這麼做，自我價值就在瞬眼之間消散。</p>
<p>如今，崩落假想也隨之成長，直到那再也無法遮掩自己的脆弱前，假想帶來的恐懼不斷地侵蝕我。</p>
<h2 id="回過頭來"><a href="#回過頭來" class="headerlink" title="回過頭來"></a>回過頭來</h2><h3 id="段考檢討"><a href="#段考檢討" class="headerlink" title="段考檢討"></a>段考檢討</h3><p>寫點與印象答案比較不同的，總之能想到自己很多是零分面向的作答，無知就是我的本體。</p>
<ul>
<li>為何 <strong> 淡定 </strong> 、 <strong> hold 住 </strong> 的情感為何在中世紀比較沒有呢？<br>中世紀的人必須野蠻，對人的關係不是 <strong> 朋友就是敵人 </strong>，任何一點猶豫將把自己處於不利地位，為了生存，這些克制自我的情感將成為阻礙。</li>
<li>解釋 <strong> 內心世界 </strong> 為何而生？<br>隨著文明化，人與人之間的關係相當重要，在 <strong> 人際互動 </strong> 的親密下，考慮遠程利益，不斷地盤算要做出甚麼樣的決策，才能最適應未來、現在的人際網路，也因此要表現出那衝突、矛盾的思緒都會在內心世界中。</li>
<li>對於中古世紀以及現代教育對於 <strong> 兒童教育 </strong> 的方針有何基礎的不同？<br>中世紀的兒童教育，兒童就是小大人，什麼都必須知道、什麼都能做，因為它們要趕快成為大人。相對於近代，防止被帶壞、很多不能學、不能知道，不斷地隔離成人的內容。</li>
<li>為什麼機場配置的「紅外線水龍頭」高科技廁所是一個文明化的象徵？<br>隔離人與人之間的接觸，同時也是在衛生觀念的防病、防疫措施。隔絕彼此已經作為一個文明化的指標。</li>
</ul>
<h3 id="本周課程"><a href="#本周課程" class="headerlink" title="本周課程"></a>本周課程</h3><p>本周圍繞的主題為社會結構與人際關係，不過說是禮儀與社會結構之間交互關係也可，作為階級區隔，人與人之間所需的禮儀也會有所不同。</p>
<p>曾經說到階級流動與禮儀之間的關係，在不同階級下，人的生活型態不同，面對不同的環境就需要不同的禮儀，即使是在相同時空下，對人制宜也是相當重要的！</p>
<h4 id="階級競逐"><a href="#階級競逐" class="headerlink" title="階級競逐"></a>階級競逐</h4><p>作為看待一個社會階級流動，正因為流動的存在，也會形成激烈的競逐，而作為競逐的項目也會隨著年代、國情不同而有所變化，從文憑、車款、養生、 … 都能見得。在傳統社會的世襲中，階級也許不太變化，權貴般的生活到了現代，如果把自己家境多有錢拿出來凸顯階級，也許還比不上一個有品味、氣質、風度的平民百姓。</p>
<blockquote>
<p>你的強大若無法帶給別人恩惠，充其量就是個異類。</p>
</blockquote>
<p>不過從印度婆羅門教、種姓制度看來，用了一個宗教藉口使得人們相信此生所為將決定下個人生的階級，某些手段利益看來，相當高明呢！社會看起來肯定相當安定，各盡其職。如果沒有太離譜的表現，制度當初為了血統純正的說法，就能達到目標。</p>
<h4 id="結構改變"><a href="#結構改變" class="headerlink" title="結構改變"></a>結構改變</h4><p>當社會結構改變時，帶動的是許多職業的消失。當然在科技的發展下，也不少職業消失，而這些人去了哪裡？又有甚麼樣的心理狀態改變？</p>
<p>曾想過自己一身技能，在一個事件動盪下一文不值嗎？接著又要何去何從，找到自我價值？</p>
<p>細看武士階級的年代，其實那段日子在早些時間都消失，他們練就一身武藝，卻沒有在年代中獲得需要、找到工作，不管是在西方騎士、東方武士都有相同的處境，即使後來在重要人士旁進行護衛工作，但身分地位上也有所轉變，至少在禮儀上也必須相對於在戰場上那樣的狂野，轉為平靜的心態。</p>
<p>在中國歷史角度看來，從諸侯分權到王權獨大，武力霸權帶來的壟斷、和平，卻也造成武士們再也沒有表現的機會，何處才有戰場讓咱們逞逞威風？每天面對帝王鞠躬盡瘁，哪適合咱們？也因此不少人從國民崇拜的英勇武士落魄到連下一餐都找不到，即便現在沒了戰場，也要秉持著武士精神度日！絕不能讓別人看到自己軟弱的地方！</p>
<blockquote>
<p>講到這，講到動物也有此特性，再凶猛的動物即使自己受傷處於弱勢，若展現脆弱的一面，也會受到反撲。</p>
</blockquote>
<p>在西方歷史中，最有印象的是具有領土的貴族們，當商人興起，開始擁有大把大把鈔票時，農地生產不及鈔票來得有價值，金錢觀念勝過於階級，貴族們也無法守住自己的農民，最後要倚靠皇宮的保護，最後遺失自己的自由。「<strong> 雖然窮，但我們自由。 </strong>」這一詞也在某些勵志的文章中見到，金錢的重要性還是看個人操守吧。</p>
<blockquote>
<p>投票是什麼？「有錢有勢的人動員沒錢沒勢的人進行大規模支持活動」－老師一語，全堂竊笑。</p>
</blockquote>
<p>到了現代，仍然有許多國家存有兩極化，例如 <a href="https://www.google.com.tw/search?um=1&amp;safe=off&amp;client=firefox-a&amp;hs=RHK&amp;rls=org.mozilla%3Azh-TW%3Aofficial&amp;channel=sb&amp;biw=1228&amp;bih=635&amp;hl=zh-TW&amp;tbm=isch&amp;sa=1&amp;q=%E8%B2%A7%E6%B0%91%E7%AA%9F+%E5%A2%A8%E8%A5%BF%E5%93%A5&amp;oq=%E8%B2%A7%E6%B0%91%E7%AA%9F+%E5%A2%A8%E8%A5%BF%E5%93%A5&amp;gs_l=img.3...15680.15680.0.15950.1.1.0.0.0.0.65.65.1.1.0.msedrc...0...1c.1.58.img..1.0.0.5U2L4Mfb-f0" target="_blank" rel="external">墨西哥 貧民窟</a>，上網搜尋的結果，還真是一線之隔，可謂「<strong> 住得近、習相遠 </strong>」老師的意思可能不是這樣，在分工體系下，人們從自給自足轉變到相互依賴，開始有了密切交易，同時也帶來緊張氣氛。</p>
<blockquote><p>達爾文獎：「讓自己愚蠢的基因不再自由地傳播出去」，對人類的演化做出了貢獻。亦有人認為，達爾文獎是用來記錄「那些在演化過程中走得最慢的人們」。</p>
<footer><strong>達爾文獎（Darwin Awards）</strong><cite><a href="http://zh.wikipedia.org/wiki/%E9%81%94%E7%88%BE%E6%96%87%E7%8D%8E" target="_blank" rel="external">zh.wikipedia.org/wiki/%E9%81%94%E7%88%BE%E6%96%87%E7%8D%8E</a></cite></footer></blockquote>
<h2 id="內心世界"><a href="#內心世界" class="headerlink" title="內心世界"></a>內心世界</h2><p>在現在的人情交易所中，深思熟慮、自我克制、精確調整情緒成為交易所的基礎籌碼，只要拿著這些籌碼去，多少能搏得人情網路，同時了解人情網路的拓樸關係，有助於思考站於哪個地位進行支持，可謂拓樸學的二分圖、三分圖之類的關係呢！一個人改變關係，可能標染都要更動！</p>
<p>我們將會變成一個縝密分析的生物，就為了站在有利的位置上，不斷地將訊息解析，否則無法立於社會中。必須知道情感用事也無法撼動這個世界，世界道理不依個人意志運作。</p>
<blockquote>
<p>作為這一點，如果一個人思考的太多，針對、多角式、深入剖分的思考會不會造成反應速度的延遲？意即聰明到跟笨蛋似的。</p>
</blockquote>
<p>國人特有現象，在一般常理下，自己做出脫格行為將會為自己帶來羞恥，對於別人做的，則會身感難堪，但是我們似乎更進化了？會感到憎恨。</p>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-blog-update" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/11/24/blog-update/" class="article-date">
  <time datetime="2014-11-24T10:53:01.000Z" itemprop="datePublished">2014-11-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/網頁設計/">網頁設計</a>/<a class="article-category-link" href="/categories/網頁設計/About-This-Blog/">About This Blog</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/11/24/blog-update/">部落格架構更新與狀態</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/11/24/blog-update/" data-id="ckxv1wm7p001ia8vnr7tx902k" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/11/24/blog-update/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HTML5/">HTML5</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jquery/">jquery</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ukagaka/">ukagaka</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <p>當前使用主題為 <a href="https://github.com/morris821028/hexo-theme-landscape" target="_blank" rel="external">hexo-theme-landscape</a>，早期使用 pacman，自己修改成 <a href="https://github.com/morris821028/moman" target="_blank" rel="external">moman</a> 一個黑色系主題，但是隨著文章數量的增加，pacman 樣板的生成速度越來越慢，更新 hexo 後，發現 landscape 的速度異常地快，於是將整個樣板配色轉移到 landscape。</p>
<p>想打包我嗎？直接至 <a href="https://github.com/morris821028/morris821028.github.io" target="_blank" rel="external">morris821028/morris821028.github.io
</a> 下載即可。還是即時的版本呢，可惜地是無法再用 hexo 繼續產生文章，也就是要新增一篇文章是困難的。這裡有純草稿 <a href="https://github.com/morris821028/HexoBlog" target="_blank" rel="external">morris821028/HexoBlog
</a> 提供，偶爾會更新，這偶爾想必是挺久的日子。往後要在其他主題下部屬也不是問題！</p>
<h2 id="反應速度"><a href="#反應速度" class="headerlink" title="反應速度"></a>反應速度</h2><p>由於 hexo 本身就是 <strong> 靜態網頁 </strong> 的框架，所以不會有資料庫調用問題，反應速度理所當然會快很多。為了增加網頁的反應速度，要把不少重複的框捨去，siderbar 訊息最小化！</p>
<blockquote>
<p>原理就當作編寫 markdown，利用 hexo 編譯成 html 後上傳。跟一般寫 cpp 程式很像呢！</p>
</blockquote>
<ul>
<li>將 <code>Tags</code> 搬移到額外的分頁，由於每一個頁面下都會出現在 sidebar，無用訊息量太多導致載入速度拉慢，不要忽視使用者經驗 (UX)！</li>
</ul>
<h2 id="額外分頁的建立"><a href="#額外分頁的建立" class="headerlink" title="額外分頁的建立"></a>額外分頁的建立</h2><figure class="highlight plain"><figcaption><span>/blog/source/tags/index.md</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">title: Tags</div><div class="line">layout: tags</div><div class="line">---</div></pre></td></tr></table></figure>
<p>hexo 配置是採用每一個 markdown 上的參數 <code>layout</code>。接著只需要在主題下寫一個 <code>/themes/landscape/layout/tags.ejs</code>，到時候會直接經過 <code>layout.ejs</code> 呼叫 <code>tags.ejs</code>。</p>
<p>接著就可以在 <code>http://localhost:4000/tags/</code> 下看到自己想要頁面，一般而言不會有這一頁，會呈現 <code>NOT FOUND 404</code> 狀態。</p>
<h2 id="主題設定檔"><a href="#主題設定檔" class="headerlink" title="主題設定檔"></a>主題設定檔</h2><p>既然有用 <strong> font awesome </strong>，覺得在默認主題下 <code>Home</code> 顯得不太夠力且明瞭，直接點擊 logo 也是能返回主頁。於是把設定檔案改成以下內容，搭配圖示和文字描述，希望這種方式會更脫離死板的配置。</p>
<figure class="highlight plain"><figcaption><span>/themes/landscape/_config.yml</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">menu:</div><div class="line">  - &#123;name: Home, path: /, class: icon-home, layout: 1&#125;</div><div class="line">  - &#123;name: About, path: /about, class: icon-user, layout: 2&#125;</div><div class="line">  - &#123;name: Archives, path: /archives, class: icon-archive, layout: 2&#125;</div><div class="line">  - &#123;name: Tags, path: /tags, class: icon-tags, layout: 2&#125;</div><div class="line">  - &#123;name: Pictures, path: /picture, class: icon-camera, layout: 2&#125;</div><div class="line">  - &#123;name: Works, path: /works, class: icon-trophy, layout: 2&#125;</div></pre></td></tr></table></figure>
<p>接著在 <code>header.ejs</code> 下修改一下內容，畢竟參數上有點調整。</p>
<figure class="highlight plain"><figcaption><span>/themes/landscape/layout/_partial/header.ejs</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;a id=&quot;main-nav-toggle&quot; class=&quot;nav-icon&quot;&gt;&lt;/a&gt;</div><div class="line">&lt;% for (var i in theme.menu)&#123; %&gt;</div><div class="line">  &lt;% if (theme.menu[i].layout &amp;&amp; theme.menu[i].layout == 1) &#123; %&gt;</div><div class="line">    &lt;a class=&quot;main-nav-link&quot; href=&quot;&lt;%- url_for(theme.menu[i].path) %&gt;&quot;&gt;&lt;i class=&lt;%= theme.menu[i].class %&gt; title=&apos;&lt;%= theme.menu[i].name %&gt;&apos;&gt;&lt;/i&gt;&lt;/a&gt;</div><div class="line">  &lt;% &#125; else if (theme.menu[i].layout &amp;&amp; theme.menu[i].layout == 2) &#123; %&gt;</div><div class="line">    &lt;a class=&quot;main-nav-link&quot; href=&quot;&lt;%- url_for(theme.menu[i].path) %&gt;&quot;&gt;&lt;i class=&lt;%= theme.menu[i].class %&gt; title=&apos;&lt;%= theme.menu[i].name %&gt;&apos;&gt;&lt;/i&gt; &lt;%= theme.menu[i].name %&gt;&lt;/a&gt;</div><div class="line">  &lt;% &#125; else &#123; %&gt;</div><div class="line">    &lt;a class=&quot;main-nav-link&quot; href=&quot;&lt;%- url_for(theme.menu[i].path) %&gt;&quot;&gt;&lt;%= theme.menu[i].name %&gt;&lt;/a&gt;</div><div class="line">  &lt;% &#125; %&gt;</div><div class="line">&lt;% &#125; %&gt;</div></pre></td></tr></table></figure>
<h2 id="Ukagaka"><a href="#Ukagaka" class="headerlink" title="Ukagaka"></a>Ukagaka</h2><p>由於 <strong> 史蒂芙 </strong> 任務結束，現在由 <strong> 派拉斯 </strong> 接管，她們的個人照片都可以在 <a href="http://morris821028.github.io/picture/">Pictures</a> 中見到哦！</p>
<p>關於 Ukagaka 的製作，目前把音樂坑解決，將可以在功能列表中看到音樂撥放功能！實作採用 HTML5 + js 的方式，並且把圖片部分全部用 font awesome 解決，功能還不夠齊全，希望已經能符合最低需求。</p>
<blockquote>
<p>其實很早就用 HTML5 + js 弄過音樂撥放，但遲遲沒有嫁入到 Ukagaka 中。</p>
</blockquote>
<p>音樂部份的免空是個問題，目前用容量較小的音樂檔案放置 hexo 中一起部屬。</p>
<p>至於 <strong> AIML </strong> 的 AI 智能對話部分，之前停留在 JAVA 那邊，暫且還不會去完成她，其一原因是必須轉成比較好跑在 server 上面的版本，並且能應付多人單一的狀態保留。如果不寫 web socket，必然要透過 ip 進行辨識，至少能記住當前使用者的名稱 (如果有教導 Ukagaka 的話)。</p>
<p>根據之前用 nodejs 寫 web socket 完成 chat room 的感想，有一部分是相當難理解的 js，同時存在瀏覽器要解析的 js 中，模組部分很好奇實際運作原理，詳細還沒有理解。</p>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-lesson/NLP-paper1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/11/22/lesson/NLP-paper1/" class="article-date">
  <time datetime="2014-11-22T03:18:19.000Z" itemprop="datePublished">2014-11-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/學校課程/">學校課程</a>/<a class="article-category-link" href="/categories/學校課程/自然語言/">自然語言</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/11/22/lesson/NLP-paper1/">自然語言處理 論文研讀 1</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/11/22/lesson/NLP-paper1/" data-id="ckxv1wn2f024ja8vnosp6kl50" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/11/22/lesson/NLP-paper1/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/自然語言/">自然語言</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>語意分析涉及正反意見在文字語句中判定，因此必須使用多方視角看待問題與答案，這一點在之前，有人做過意見導向的資訊萃取、資訊摘要 (於文件、語句、片語)。語意分析通常分為三個階段，<strong> 校準 </strong>、 <strong> 辨識 </strong>、 <strong> 分類 </strong> 所有已經讀取的文句。這篇論文探討文件分級 (document-level) 的分析，將會著重分析 <strong> 特定類型的評論文件 </strong>。</p>
<p>第一個問題－極性分類 (polarity classification)，對於目標決策正極性 (贊同) 或者是 負極性 (反對)，最近也在擴大到中性文件的分類上，雖然研究成果相當多且廣，極性分類仍然是自然語言處理系統中重大的挑戰。</p>
<p>接著將會著重於語言學上的極性分類。在語言學中，建立一個高校的極性分類透過：</p>
<ul>
<li>high order n-grams</li>
<li>複合形容詞，例如 happy 被視為正，而 terrible 視為負面。</li>
<li>詞彙的相依關係</li>
<li>來自於中立文件中所描述的詞組</li>
</ul>
<p>… 本文略</p>
<p>主要是極性分類，反映正反兩方兩種評論，為了增加精準度，其一種方法把單純闡述事實的評論去除、以及在中性評論用的用詞特別處理，接著對於形容詞與關聯名詞做統計，確保面向的評論對象是所需。</p>
<p>至於 n-gram 部分，有說明到 n 越大，將會造成模糊範圍增加，這樣一來其極性價值就會被削減，對於精準度是會掉的，只用 n = 2 好不好？他說他複合使用 n = 2 和 n = 3 將精準度提升，看到所謂顯著 2% 上升，似乎跟誤差無仿。</p>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-uva-10907" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/11/22/uva-10907/" class="article-date">
  <time datetime="2014-11-22T01:32:43.000Z" itemprop="datePublished">2014-11-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/11/22/uva-10907/">UVa 10907 - Art Gallery</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/11/22/uva-10907/" data-id="ckxv1wmjt00u4a8vnf02nm51r" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/11/22/uva-10907/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/射線法/">射線法</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/幾何/">幾何</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/極角掃描/">極角掃描</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/計算幾何/">計算幾何</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>給一個簡單多邊形，內部放置一點求可視範圍的區域面積。</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">5</div><div class="line">0 0</div><div class="line">50 50</div><div class="line">100 0</div><div class="line">100 100</div><div class="line">0 100</div><div class="line">2</div><div class="line">49 50</div><div class="line">50 51</div></pre></td></tr></table></figure>
<h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Gallery #1</div><div class="line">6250.00</div><div class="line">7500.00</div></pre></td></tr></table></figure>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>一開始以為可視範圍可能保證是凸多邊形，後來發現其實不一定，有可能是簡單多邊形。</p>
<p>錯誤的思路－一開始想用半平面交計算，所以一直掛在特殊 case 下。</p>
<p>首先，對詢問點將每一個點拿來作極角排序，然後掃描相鄰的極角，對於每一個相鄰極角會與詢問點拉出一個小角度，兩邊的射線無限延伸，接著保證簡單多邊形的每一條邊要不橫跨這個張角、要不完全沒有，不會存在一小段於張角中。</p>
<p>因此會發現會有很多三角形，取交集拿到最靠近詢問點的三角形，兩條射線上取最靠近詢問點的座標，但是這樣的三角形不保證一定在三角形內部，把最後得到的三角形每條邊上的中點拿來做測試，使用射線法檢查是否在簡單多邊形內部。</p>
<p>抓思路 BUG 就花一個早上 Orz。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt; </span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> eps 1e-6</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 131072</span></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Pt</span> &#123;</span></div><div class="line">    <span class="keyword">double</span> x, y;</div><div class="line">    Pt(<span class="keyword">double</span> a = <span class="number">0</span>, <span class="keyword">double</span> b = <span class="number">0</span>):</div><div class="line">    	x(a), y(b) &#123;&#125;	</div><div class="line">    Pt <span class="keyword">operator</span>-(<span class="keyword">const</span> Pt &amp;a) <span class="keyword">const</span> &#123;</div><div class="line">        <span class="keyword">return</span> Pt(x - a.x, y - a.y);</div><div class="line">    &#125;</div><div class="line">    Pt <span class="keyword">operator</span>+(<span class="keyword">const</span> Pt &amp;a) <span class="keyword">const</span> &#123;</div><div class="line">        <span class="keyword">return</span> Pt(x + a.x, y + a.y);</div><div class="line">    &#125;</div><div class="line">    Pt <span class="keyword">operator</span>*(<span class="keyword">const</span> <span class="keyword">double</span> a) <span class="keyword">const</span> &#123;</div><div class="line">        <span class="keyword">return</span> Pt(x * a, y * a);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> Pt &amp;a) <span class="keyword">const</span> &#123;</div><div class="line">        <span class="keyword">if</span> (<span class="built_in">fabs</span>(x - a.x) &gt; eps)</div><div class="line">            <span class="keyword">return</span> x &lt; a.x;</div><div class="line">        <span class="keyword">if</span> (<span class="built_in">fabs</span>(y - a.y) &gt; eps)</div><div class="line">            <span class="keyword">return</span> y &lt; a.y;</div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>==(<span class="keyword">const</span> Pt &amp;a) <span class="keyword">const</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="built_in">fabs</span>(x - a.x) &lt; eps &amp;&amp; <span class="built_in">fabs</span>(y - a.y) &lt; eps;</div><div class="line">    &#125; </div><div class="line">&#125;;</div><div class="line"><span class="function"><span class="keyword">double</span> <span class="title">dist</span><span class="params">(Pt a, Pt b)</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> hypot(a.x - b.x, a.y - b.y);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">double</span> <span class="title">dot</span><span class="params">(Pt a, Pt b)</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> a.x * b.x + a.y * b.y;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">double</span> <span class="title">cross</span><span class="params">(Pt o, Pt a, Pt b)</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> (a.x-o.x)*(b.y-o.y)-(a.y-o.y)*(b.x-o.x);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">double</span> <span class="title">cross2</span><span class="params">(Pt a, Pt b)</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> a.x * b.y - a.y * b.x;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">between</span><span class="params">(Pt a, Pt b, Pt c)</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> dot(c - a, b - a) &gt;= -eps &amp;&amp; dot(c - b, a - b) &gt;= -eps;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">onSeg</span><span class="params">(Pt a, Pt b, Pt c)</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> between(a, b, c) &amp;&amp; <span class="built_in">fabs</span>(cross(a, b, c)) &lt; eps;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Seg</span> &#123;</span></div><div class="line">    Pt s, e;</div><div class="line">    <span class="keyword">double</span> angle;</div><div class="line">    <span class="keyword">int</span> label;</div><div class="line">    Seg(Pt a = Pt(), Pt b = Pt(), <span class="keyword">int</span> l=<span class="number">0</span>):s(a), e(b), label(l) &#123;</div><div class="line">        angle = <span class="built_in">atan2</span>(e.y - s.y, e.x - s.x);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> Seg &amp;other) <span class="keyword">const</span> &#123;</div><div class="line">        <span class="keyword">if</span> (<span class="built_in">fabs</span>(angle - other.angle) &gt; eps)</div><div class="line">            <span class="keyword">return</span> angle &gt; other.angle;</div><div class="line">        <span class="keyword">if</span> (cross(other.s, other.e, s) &gt; -eps)</div><div class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"><span class="function">Pt <span class="title">getIntersect</span><span class="params">(Seg a, Seg b)</span> </span>&#123;</div><div class="line">    Pt u = a.s - b.s;</div><div class="line">    <span class="keyword">double</span> t = cross2(b.e - b.s, u)/cross2(a.e - a.s, b.e - b.s);</div><div class="line">    <span class="keyword">return</span> a.s + (a.e - a.s) * t;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">intersection</span><span class="params">(Pt as, Pt at, Pt bs, Pt bt)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (onSeg(as, at, bs) || onSeg(as, at, bt) ||</div><div class="line">        onSeg(bs, bt, as) || onSeg(bs, bt, at))</div><div class="line">        <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">    <span class="keyword">if</span>(cross(as, at, bs) * cross(as, at, bt) &lt; <span class="number">0</span> &amp;&amp;</div><div class="line">        cross(at, as, bs) * cross(at, as, bt) &lt; <span class="number">0</span> &amp;&amp;</div><div class="line">        cross(bs, bt, as) * cross(bs, bt, at) &lt; <span class="number">0</span> &amp;&amp;</div><div class="line">        cross(bt, bs, as) * cross(bt, bs, at) &lt; <span class="number">0</span>)</div><div class="line">    <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">inPolygon</span><span class="params">(Pt p[], <span class="keyword">int</span> n, Pt q)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> i, j, cnt = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>, j = n<span class="number">-1</span>; i &lt; n; j = i++) &#123;</div><div class="line">        <span class="keyword">if</span>(onSeg(p[i], p[j], q))</div><div class="line">            <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">        <span class="keyword">if</span>(p[i].y &gt; q.y != p[j].y &gt; q.y &amp;&amp;</div><div class="line">            q.x &lt; (p[j].x-p[i].x)*(q.y-p[i].y)/(p[j].y-p[i].y) + p[i].x)</div><div class="line">            cnt++;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> cnt&amp;<span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">const</span> <span class="keyword">double</span> pi = <span class="built_in">acos</span>(<span class="number">-1</span>);</div><div class="line"><span class="function"><span class="keyword">double</span> <span class="title">artGallery</span><span class="params">(Pt p[], <span class="keyword">int</span> n, Pt q)</span> </span>&#123; <span class="comment">// polygon: anti-clockwise order</span></div><div class="line">    <span class="built_in">vector</span>&lt; pair&lt;<span class="keyword">double</span>, Pt&gt; &gt; A;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</div><div class="line">        <span class="keyword">if</span> (!(p[i] == q))</div><div class="line">            A.push_back(make_pair(<span class="built_in">atan2</span>(p[i].y - q.y, p[i].x - q.x), p[i]));</div><div class="line">    &#125;</div><div class="line">    sort(A.begin(), A.end());</div><div class="line">    <span class="keyword">double</span> ret = <span class="number">0</span>;</div><div class="line">    <span class="keyword">int</span> m = A.size();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>, j = m<span class="number">-1</span>; i &lt; m; j = i++) &#123;</div><div class="line">        <span class="keyword">if</span> (<span class="built_in">fabs</span>(A[i].first - A[j].first) &gt; eps) &#123;</div><div class="line">            <span class="built_in">vector</span>&lt;Seg&gt; segs;</div><div class="line">            Pt a, b, ta, tb;</div><div class="line">            a = q + (A[j].second - q) * <span class="number">10000</span>;</div><div class="line">            b = q + (A[i].second - q) * <span class="number">10000</span>;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>, l = n<span class="number">-1</span>; k &lt; n; l = k++) &#123;</div><div class="line">                <span class="keyword">if</span> ((cross(q, A[j].second, p[k]) * cross(q, A[j].second, p[l]) &lt; eps </div><div class="line">                    &amp;&amp; cross(q, A[i].second, p[k]) * cross(q, A[i].second, p[l]) &lt; eps)) &#123;</div><div class="line">                    <span class="keyword">if</span> (p[l] == q || p[k] == q)	<span class="keyword">continue</span>;</div><div class="line">                    <span class="keyword">if</span> (intersection(a, q, p[l], p[k]) &amp;&amp; intersection(b, q, p[l], p[k]) &amp;&amp; !onSeg(p[l], p[k], q))</div><div class="line">                        segs.push_back(Seg(p[l], p[k]));</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line"><span class="comment">//			printf("base %lf %lf %lf %lf\n", A[i].second.x, A[i].second.y, A[j].second.x, A[j].second.y);</span></div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; segs.size(); i++) &#123;</div><div class="line"><span class="comment">//				printf("%lf %lf %lf %lf\n", segs[i].s.x, segs[i].s.y, segs[i].e.x, segs[i].e.y);</span></div><div class="line">                <span class="keyword">if</span> (intersection(a, q, segs[i].s, segs[i].e)) &#123;</div><div class="line">                    ta = getIntersect(Seg(a, q), segs[i]);</div><div class="line">                    tb = getIntersect(Seg(b, q), segs[i]);</div><div class="line">                    <span class="keyword">if</span> (dist(ta, q) &lt; dist(a, q) &amp;&amp; !(a == q))</div><div class="line">                        a = ta;</div><div class="line">                    <span class="keyword">if</span> (dist(tb, q) &lt; dist(b, q) &amp;&amp; !(b == q))</div><div class="line">                        b = tb;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (inPolygon(p, n, Pt((a.x + b.x)/<span class="number">2</span>, (a.y + b.y)/<span class="number">2</span>)) &amp;&amp;</div><div class="line">                inPolygon(p, n, Pt((a.x + q.x)/<span class="number">2</span>, (a.y + q.y)/<span class="number">2</span>)) &amp;&amp;</div><div class="line">                inPolygon(p, n, Pt((q.x + b.x)/<span class="number">2</span>, (q.y + b.y)/<span class="number">2</span>))) &#123;</div><div class="line">                ret += <span class="built_in">fabs</span>(cross(q, a, b))/<span class="number">2</span>;</div><div class="line"><span class="comment">//				puts("Y");</span></div><div class="line">            &#125;</div><div class="line"><span class="comment">//			printf("---- %lf %lf %lf %lf\n", a.x, a.y, b.x, b.y);</span></div><div class="line"><span class="comment">//			puts("--");</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ret;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> testcase, cases = <span class="number">0</span>;</div><div class="line">    <span class="keyword">int</span> n, m;</div><div class="line">    <span class="keyword">double</span> x, y;</div><div class="line">    Pt D[<span class="number">105</span>];</div><div class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n) == <span class="number">1</span>) &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%lf %lf"</span>, &amp;D[i].x, &amp;D[i].y);</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;m);</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"Gallery #%d\n"</span>, ++cases);</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%lf %lf"</span>, &amp;x, &amp;y);</div><div class="line">            <span class="keyword">double</span> area = artGallery(D, n, Pt(x, y));</div><div class="line">            <span class="built_in">printf</span>(<span class="string">"%.2lf\n"</span>, area);</div><div class="line">        &#125;</div><div class="line">    &#125; </div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">5</span></div><div class="line"><span class="comment">0 0</span></div><div class="line"><span class="comment">50 50</span></div><div class="line"><span class="comment">100 0</span></div><div class="line"><span class="comment">100 100</span></div><div class="line"><span class="comment">0 100</span></div><div class="line"><span class="comment">2</span></div><div class="line"><span class="comment">49 50</span></div><div class="line"><span class="comment">50 51</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">7</span></div><div class="line"><span class="comment">0 5</span></div><div class="line"><span class="comment">5 0</span></div><div class="line"><span class="comment">10 7</span></div><div class="line"><span class="comment">15 0</span></div><div class="line"><span class="comment">20 5</span></div><div class="line"><span class="comment">15 10</span></div><div class="line"><span class="comment">5 10</span></div><div class="line"><span class="comment">7</span></div><div class="line"><span class="comment">0 5</span></div><div class="line"><span class="comment">5 0</span></div><div class="line"><span class="comment">10 7</span></div><div class="line"><span class="comment">15 0</span></div><div class="line"><span class="comment">20 5</span></div><div class="line"><span class="comment">15 10</span></div><div class="line"><span class="comment">5 10</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">*/</span></div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-uva-12865" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/11/22/uva-12865/" class="article-date">
  <time datetime="2014-11-22T01:17:57.000Z" itemprop="datePublished">2014-11-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/11/22/uva-12865/">UVa 12865 - Volume Control</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/11/22/uva-12865/" data-id="ckxv1wmma00zda8vnscphdx2y" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/11/22/uva-12865/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/數學/">數學</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/窮舉/">窮舉</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/觀察/">觀察</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><blockquote>
<p>1, 2, 4, 7, 10, 15, 19, 26, 31, 37, 43, 54, 60, 73</p>
</blockquote>
<p><a href="https://oeis.org/search?q=+%091%2C+2%2C+4%2C+7%2C+10%2C+15%2C+19%2C+26%2C+31%2C+37%2C+43%2C+54%2C+60%2C+73&amp;language=english&amp;go=Search" target="_blank" rel="external">A027384 Number of distinct products ij with 0 &lt;= i, j &lt;= n.</a></p>
<p>詢問 0 到 N 的連續整數，任兩個挑出來相乘，有多少不同的整數。</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td></tr></table></figure>
<h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">7</div><div class="line">10</div></pre></td></tr></table></figure>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>聽說當下比賽很多人直接本地建表，不過這一題還真的不知道該怎麼解比較好。</p>
<p>用了窮舉的方式，加入第 i 個整數，將與 0 ~ i 相乘，這時候增加多少不同整數？</p>
<ol>
<li>找到 <code>i * j == p * q</code> 其中滿足 <code>p, q &lt; i</code>，要忽略所有可能的 j，剩餘的結果就是增加的數量。</li>
<li>假設 <code>i = a * b, p = a * ?1, q = b * ?2</code>。</li>
<li>得到 <code>j = ?1 * ?2</code>、<code>?2 &lt; a, ?1 &lt; b</code>。</li>
</ol>
<p>用嚴格增加的趨勢，依序窮舉 i 的因數 a (小到大)，<code>?2</code> 可以帶入的數字會遞增，而 <code>?1</code> 會遞減，而中間會有一段重複的窮舉，只考慮 <code>?2</code> 進行遞增即可。將不好的 j 給篩掉。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt; </span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> ret[<span class="number">65536</span>] = &#123;<span class="number">1</span>&#125;, sum = <span class="number">1</span>;</div><div class="line">    <span class="keyword">int</span> nop[<span class="number">32767</span>] = &#123;&#125;, cases = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">30000</span>; i++) &#123;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; f;</div><div class="line">        <span class="keyword">int</span> first_prime;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">2</span>; j * j &lt;= i; j++) &#123;</div><div class="line">            <span class="keyword">if</span> (i%j == <span class="number">0</span>) &#123;</div><div class="line">                f.push_back(j);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// i * j == p * q (p, q &lt; i)</span></div><div class="line">        <span class="comment">// i = a * b, p = a * ?1, q = b * ?2</span></div><div class="line">        <span class="comment">// j = ?1 * ?2</span></div><div class="line">        cases++;</div><div class="line">        first_prime = f.size() ? f[<span class="number">0</span>] : i;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>, q1, q2 = <span class="number">2</span>; j &lt; f.size(); j++) &#123; <span class="comment">// f[j] x (i / f[j])</span></div><div class="line">            <span class="keyword">for</span> (; q2 &lt; f[j]; q2++) &#123; <span class="comment">// ?2 &lt; a, ?1 &lt; b</span></div><div class="line">                <span class="keyword">for</span> (q1 = i/ f[j] - <span class="number">1</span>; q1 &gt;= <span class="number">1</span>; q1--)</div><div class="line">                    nop[q1 * q2] = cases;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i / first_prime; j &lt;= i; j++)</div><div class="line">            sum += nop[j] != cases;</div><div class="line">        ret[i] = sum;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> testcase, n;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;testcase);</div><div class="line">    <span class="keyword">while</span> (testcase--) &#123;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ret[n]);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-uva-12863" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/11/22/uva-12863/" class="article-date">
  <time datetime="2014-11-22T01:00:36.000Z" itemprop="datePublished">2014-11-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/11/22/uva-12863/">UVa 12863 - Journey through the kingdom</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/11/22/uva-12863/" data-id="ckxv1wmm700z6a8vnpxbvhl7y" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/11/22/uva-12863/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/BIT/">BIT</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/dijkstra/">dijkstra</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/range-tree/">range tree</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/sssp/">sssp</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>對於每一個點 (i, j) 可以護送人的範圍為中間張開矩形 [i-r: i+r] x [j - c: j+c]，可以傳送到矩形任何一點花費為 V(i, j)。每個點的花費和矩形大小都可以不同。</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">3 4 5</div><div class="line">1 2 1 1</div><div class="line">1 5 3 4</div><div class="line">1 1 6 3</div><div class="line">1 2 3 3</div><div class="line">3 3 1 2</div><div class="line">0 0 0 1</div><div class="line">1 4 0 1</div><div class="line">2 3 0 1</div><div class="line">4 1 3 1</div><div class="line">1 1</div><div class="line">3 4</div><div class="line">1 1</div><div class="line">2 2</div><div class="line">2 2</div></pre></td></tr></table></figure>
<h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">3 -1 1 0</div></pre></td></tr></table></figure>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><blockquote>
<p>什麼，居然有 range tree 配上 dijkstra？</p>
</blockquote>
<p>很明顯是一題最短路徑。所有點都分配在 N x M 上，最慘為 25 萬個點，同時邊最慘邊數量也就是 25 萬 x 25 萬，因此在 <code>O(E log V)</code> 肯定是過不去的。</p>
<p>但是後來發現到，花費是在點上，因此可以換個角度想，每次更新離開該點花費最小的，也就是說每 pop 一個點，就能知道有一個矩形內保證是最短路，不會再進行任何更新。因此只要不斷地找到區域內尚未走訪的點，將其移除即可。</p>
<p>為了能夠快速找到矩形內尚未走訪的點，最好的方式是使用 range tree，但是找到區域內所有點的成本是 <code>O(log^2 n + k)</code>，用一堆 <code>set&lt;int&gt;</code> 串 list 起來也要 <code>O(r log n + k)</code>，這種作法會 TLE。而標程中使用 BIT 完成 range tree 的概念，BIT 查找速度是挺快的，但是看起來比較接近 <code>O(k log^2 n)</code>，只能說點移除的速度很快，所以 k 小很多。</p>
<p>用 2D BIT 作為 range tree 的基底，也要確保每一個點很緊密地在 R x C 的每一格，range tree 找到區域內所有尚未走訪的點，進行 dijkstra 更新。</p>
<p>自己寫一個樹套樹的作法嘗試輾輾看，但是在建表上就已經快崩，記憶體飛漲得相當快，導致速度被拉下。之後改用一個 list 串出一堆一條一條的 set，這樣的速度，隨後用二分處理，比用 2D BIT 建造的 range tree 還要快，至少在隨機測資中速度是兩三倍以上，上傳 TLE。</p>
<p>看來只能乖乖地標程給的 … WTF，居然就這樣屈服了，都寫了好幾個版本。就不能讓我混過嗎。QAQ</p>
<blockquote><p>當前使用優化策略： 建立於 dijkstra</p>
<ul>
<li>方案 1：<br>  (1) 啟發式搜索，相同花費下鄰近目標地的優先擴充，沒有好的估價。<br>  (2) 對於矩形，每個 row 當作一條，建立 list，把不可能需要更新的點移除，實作由 set<int> row[MAXN] 完成。</int></li>
<li>方案 2：<br>  (1) 啟發式搜索，相同花費下鄰近目標地的優先擴充，沒有好的估價。<br>  (2) 對於矩形，random 矩形內部 K 個點。</li>
</ul>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt; </span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 512</span></div><div class="line"><span class="keyword">int</span> V[MAXN][MAXN], R[MAXN][MAXN], C[MAXN][MAXN];</div><div class="line"><span class="keyword">int</span> TX, TY;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span> &#123;</span></div><div class="line">    <span class="keyword">int</span> r, c, v, h;</div><div class="line">    Node(<span class="keyword">int</span> a=<span class="number">0</span>, <span class="keyword">int</span> b=<span class="number">0</span>, <span class="keyword">int</span> d=<span class="number">0</span>, <span class="keyword">int</span> e=<span class="number">0</span>):</div><div class="line">    r(a), c(b), v(d), h(e) &#123;&#125;</div><div class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> Node &amp;x) <span class="keyword">const</span> &#123;</div><div class="line">        <span class="keyword">if</span> (v != x.v)</div><div class="line">            <span class="keyword">return</span> v &gt; x.v;</div><div class="line">        <span class="keyword">return</span> h &gt; x.h;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">priority_queue&lt;Node&gt; pQ; <span class="comment">// dijkstra</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">RangeTree</span> &#123;</span> <span class="comment">// 2D binary indexed tree</span></div><div class="line">    <span class="keyword">int</span> A[MAXN][MAXN];</div><div class="line">    <span class="keyword">int</span> R, C;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">(<span class="keyword">int</span> R, <span class="keyword">int</span> C)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>-&gt;R = R, <span class="keyword">this</span>-&gt;C = C;</div><div class="line">        <span class="built_in">memset</span>(A, <span class="number">0</span>, <span class="keyword">sizeof</span>(A));</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= R; i++)</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= C; j++)</div><div class="line">                modify(i, j, <span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">modify</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> val)</span> </span>&#123;</div><div class="line">        <span class="keyword">for</span> (; x &lt;= R; x += x&amp;(-x)) &#123;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = y; i &lt;= C; i += i&amp;(-i)) </div><div class="line">                A[x][i] += val;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> ret = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span> (; x &gt; <span class="number">0</span>; x -= x&amp;-x)</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = y; i &gt; <span class="number">0</span>; i -= i&amp;(-i))</div><div class="line">                ret += A[x][i];</div><div class="line">        <span class="keyword">return</span> ret;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">rectSum</span><span class="params">(<span class="keyword">int</span> lx, <span class="keyword">int</span> rx, <span class="keyword">int</span> ly, <span class="keyword">int</span> ry)</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> query(rx, ry) - query(lx<span class="number">-1</span>, ry) - query(rx, ly<span class="number">-1</span>) + query(lx<span class="number">-1</span>, ly<span class="number">-1</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> lx, <span class="keyword">int</span> rx, <span class="keyword">int</span> ly, <span class="keyword">int</span> ry, <span class="keyword">int</span> val, <span class="keyword">int</span> tot)</span> </span>&#123; <span class="comment">// &#123;val: update cost, tot: #unvisited point in area.&#125;</span></div><div class="line">        <span class="keyword">if</span> (tot == <span class="number">-1</span>) 	</div><div class="line">            tot = rectSum(lx, rx, ly, ry);</div><div class="line">        <span class="keyword">if</span> (tot == <span class="number">0</span>) 	<span class="keyword">return</span>;</div><div class="line">        <span class="keyword">if</span> (lx == rx) &#123;</div><div class="line">            <span class="keyword">if</span> (ly == ry) &#123;</div><div class="line">                pQ.push(Node(lx, ly, val + V[lx][ly], <span class="built_in">abs</span>(lx-TX) + <span class="built_in">abs</span>(ly-TY)));</div><div class="line">                modify(lx, ly, <span class="number">-1</span>);</div><div class="line">                <span class="keyword">return</span>;</div><div class="line">            &#125;</div><div class="line"></div><div class="line">            <span class="keyword">int</span> cnt = rectSum(lx, rx, ly, (ly + ry)/<span class="number">2</span>);</div><div class="line">            <span class="keyword">if</span> (cnt) </div><div class="line">                update(lx, rx, ly, (ly + ry)/<span class="number">2</span>, val, cnt);</div><div class="line">            <span class="keyword">if</span> (cnt &lt; tot) </div><div class="line">                update(lx, rx, (ly + ry)/<span class="number">2</span> + <span class="number">1</span>, ry, val, tot - cnt);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">int</span> cnt = rectSum(lx, (lx + rx)/<span class="number">2</span>, ly, ry);</div><div class="line">            <span class="keyword">if</span> (cnt) </div><div class="line">                update(lx, (lx + rx)/<span class="number">2</span>, ly, ry, val, cnt);</div><div class="line">            <span class="keyword">if</span> (cnt &lt; tot)</div><div class="line">                update((lx + rx)/<span class="number">2</span> + <span class="number">1</span>, rx, ly, ry, val, tot - cnt);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125; rangeTree;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">findPath</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> m, <span class="keyword">int</span> sx, <span class="keyword">int</span> sy, <span class="keyword">int</span> ex, <span class="keyword">int</span> ey)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (sx == ex &amp;&amp; sy == ey)	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    TX = ex, TY = ey;</div><div class="line">    rangeTree.init(n, m);</div><div class="line">    rangeTree.modify(sx, sy, <span class="number">-1</span>);</div><div class="line">        </div><div class="line">    <span class="keyword">while</span> (!pQ.empty())	pQ.pop();</div><div class="line">    pQ.push(Node(sx, sy, V[sx][sy], <span class="built_in">abs</span>(sx-ex) + <span class="built_in">abs</span>(sy-ey)));</div><div class="line">    </div><div class="line">    Node u;</div><div class="line">    <span class="keyword">int</span> lr, rr, lc, rc;</div><div class="line">    <span class="keyword">while</span> (!pQ.empty()) &#123;</div><div class="line">        u = pQ.top(), pQ.pop();</div><div class="line">        </div><div class="line">        <span class="keyword">if</span> (<span class="built_in">abs</span>(u.r - ex) &lt;= R[u.r][u.c] &amp;&amp; <span class="built_in">abs</span>(u.c - ey) &lt;= C[u.r][u.c])</div><div class="line">            <span class="keyword">return</span> u.v;</div><div class="line">            </div><div class="line">        lr = max(<span class="number">1</span>, u.r - R[u.r][u.c]), rr = min(n, u.r + R[u.r][u.c]);</div><div class="line">        lc = max(<span class="number">1</span>, u.c - C[u.r][u.c]), rc = min(m, u.c + C[u.r][u.c]);</div><div class="line">        rangeTree.update(lr, rr, lc, rc, u.v, <span class="number">-1</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line"><span class="comment">//	freopen("in.txt", "r+t", stdin);</span></div><div class="line"><span class="comment">//	freopen("out.txt", "w+t", stdout);</span></div><div class="line">    <span class="keyword">int</span> n, m, q, X[<span class="number">16</span>], Y[<span class="number">16</span>];</div><div class="line">    <span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>, &amp;n, &amp;m, &amp;q) == <span class="number">3</span>) &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; j++)</div><div class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;V[i][j]);</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; j++)</div><div class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;R[i][j]);</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; j++)</div><div class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;C[i][j]);</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; q; i++)</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;X[i], &amp;Y[i]);</div><div class="line">            </div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; q; i++) &#123;</div><div class="line">            <span class="keyword">int</span> r = findPath(n, m, X[i<span class="number">-1</span>], Y[i<span class="number">-1</span>], X[i], Y[i]);</div><div class="line">            <span class="built_in">printf</span>(<span class="string">"%d%c"</span>, r, i == q - <span class="number">1</span> ? <span class="string">'\n'</span> : <span class="string">' '</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment"> 3 4 5</span></div><div class="line"><span class="comment"> 1 2 1 1</span></div><div class="line"><span class="comment"> 1 5 3 4</span></div><div class="line"><span class="comment"> 1 1 6 3</span></div><div class="line"><span class="comment"> 1 2 3 3</span></div><div class="line"><span class="comment"> 3 3 1 2</span></div><div class="line"><span class="comment"> 0 0 0 1</span></div><div class="line"><span class="comment"> 1 4 0 1</span></div><div class="line"><span class="comment"> 2 3 0 1</span></div><div class="line"><span class="comment"> 4 1 3 1</span></div><div class="line"><span class="comment"> 1 1</span></div><div class="line"><span class="comment"> 3 4</span></div><div class="line"><span class="comment"> 1 1</span></div><div class="line"><span class="comment"> 2 2</span></div><div class="line"><span class="comment"> 2 2</span></div><div class="line"><span class="comment"> */</span></div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-uva-10154" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/11/21/uva-10154/" class="article-date">
  <time datetime="2014-11-21T05:26:37.000Z" itemprop="datePublished">2014-11-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/11/21/uva-10154/">UVa 10154 - Weights and Measures</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/11/21/uva-10154/" data-id="ckxv1wmil00raa8vnzvuh3iz8" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/11/21/uva-10154/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/人生白活/">人生白活</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/貪心/">貪心</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <p>曾經紅及一時的的烏龜塔問題，討論相當多。最近學弟因為 2014 年資訊奧林匹亞研習營初選中的一題，跑來問我怎麼解比較好。但是想一想之前都是用 dp 過去的。速度 <code>O(n^2)</code>，優化也只會是 <code>O(k n)</code>，k 是答案，還是還用了貪心去解決，但是後來才挖到這個化石，想法是挺簡單的，人生白活了。</p>
<blockquote><p>l大所寫的演算法是有來源的。<br>寄信詢問l大之後，得到的回覆，整理於下。 </p>
<p>最早出現的文獻 </p>
<p>Moore, J.M.(1968) An n job, one machine sequencing algorithm for minimizing the number of late jobs. Management Science. 15(1):102-109. </p>
<p>現在的演算法名稱 Moore-Hodgson Algorithm 時間複雜度 O(N * log(N)) 演算法證明 </p>
<ol>
<li><p>先證至少有一最佳解工作順序是依完工期限由小到大排 </p>
</li>
<li><p>證明拿掉最大執行時間的工作不會比最佳解差 問題轉換方式 </p>
</li>
</ol>
<p>Instance:</p>
<ul>
<li>有n個工作要完成 &lt;—&gt; 有n個箱子要疊</li>
<li>每個工作有不同的處理時間 &lt;—&gt; 不同的重量</li>
<li>每個工作有不同的完工期限 &lt;—&gt; 不同的載重量(要包含自己重量)</li>
</ul>
<p>Question: 讓無法如期完工的工作越少越好 &lt;—&gt; 箱子疊越多越好 C++實作 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">struct Job &#123;int time, due;&#125; job[10]; </div><div class="line">bool cmp(const Job&amp; j1, const Job&amp; j2) &#123; </div><div class="line">    return j1.due &lt; j2.due;</div><div class="line">&#125; </div><div class="line">void Moore_Hodgson() &#123;</div><div class="line">    sort(job, job+10, cmp); </div><div class="line">    int t = 0;</div><div class="line">    priority_queue&lt;int&gt; pq; </div><div class="line">    for (int i=0; i&lt;10; ++i) &#123;</div><div class="line">        pq.push(job[i].time); </div><div class="line">        t += job[i].time; </div><div class="line">        if (t &gt; job[i].due) t -= pq.top(), pq.pop();</div><div class="line">    &#125; </div><div class="line">    cout &lt;&lt; &quot;如期完成的工作(箱子)數目，最多為&quot; &lt;&lt; pq.size();</div><div class="line">&#125;</div></pre></td></tr></table></figure><footer><strong>DJWS</strong><cite><a href="https://www.ptt.cc/bbs/Prob_Solve/M.1271995568.A.15C.html" target="_blank" rel="external">www.ptt.cc/bbs/Prob_Solve/M.1271995568.A.15C.html</a></cite></footer></blockquote>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/45/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/44/">44</a><a class="page-number" href="/page/45/">45</a><span class="page-number current">46</span><a class="page-number" href="/page/47/">47</a><a class="page-number" href="/page/48/">48</a><span class="space">&hellip;</span><a class="page-number" href="/page/87/">87</a><a class="extend next" rel="next" href="/page/47/">Next &raquo;</a>
    </nav>
  
</section>
          
          
            <aside id="sidebar">
  <!-- <div id="ukagaka_panel"></div> -->
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/">學校課程</a><span class="category-list-count">115</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/介面設計/">介面設計</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/作業系統/">作業系統</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/即時系統/">即時系統</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/大學專題/">大學專題</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/巨量資料/">巨量資料</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/平行程式/">平行程式</a><span class="category-list-count">43</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/敏捷方法/">敏捷方法</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/數位影像生成/">數位影像生成</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/編譯器/">編譯器</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/自然語言/">自然語言</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/虛擬實境/">虛擬實境</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/計算型智慧/">計算型智慧</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/計算幾何/">計算幾何</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/計算機圖學/">計算機圖學</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/資料庫系統/">資料庫系統</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/資訊安全/">資訊安全</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/通識課程/">通識課程</a><span class="category-list-count">14</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/">工作應用</a><span class="category-list-count">38</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/Java/">Java</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/Meme/">Meme</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/其他/">其他</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/可持久化/">可持久化</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/鬼故事/">鬼故事</a><span class="category-list-count">14</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/手札日記/">手札日記</a><span class="category-list-count">55</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/">網頁設計</a><span class="category-list-count">15</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/About-This-Blog/">About This Blog</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/HTML5/">HTML5</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/JQuery/">JQuery</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/Markdown/">Markdown</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/NodeJs/">NodeJs</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/">解題區</a><span class="category-list-count">633</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/Latex/">Latex</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/出題解題/">出題解題</a><span class="category-list-count">23</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-POJ/">解題區 - POJ</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a><span class="category-list-count">483</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-Zerojudge/">解題區 - Zerojudge</a><span class="category-list-count">77</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-其他題目/">解題區 - 其他題目</a><span class="category-list-count">45</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-未解題目/">解題區 - 未解題目</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/雜言筆記/">雜言筆記</a><span class="category-list-count">4</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a class="text" href="/2022/01/01/note/clove-letter/">
              
                <i class="icon-file-o"></i> 
              
            《獻上給某工程師的情書》</a>
          </li>
        
          <li>
            <a class="text" href="/2021/12/31/note/diary-20211231-encrypt/">
              
                <i class="icon-file-o"></i> 
              
            《批改娘串起得那段經歷·陸》</a>
          </li>
        
          <li>
            <a class="text" href="/2021/12/26/note/diary-20211226-encrypt/">
              
                <i class="icon-file-o"></i> 
              
            《批改娘串起得那段經歷·伍》</a>
          </li>
        
          <li>
            <a class="text" href="/2021/11/21/note/diary-20211121-encrypt/">
              
                <i class="icon-file-o"></i> 
              
            《批改娘串起得那段經歷·肆》</a>
          </li>
        
          <li>
            <a class="text" href="/2021/11/12/note/diary-20211112-encrypt/">
              
                <i class="icon-file-o"></i> 
              
            《批改娘串起得那段經歷·參》</a>
          </li>
        
          <li>
            <a class="text" href="/2021/10/31/note/diary-20211031-encrypt/">
              
                <i class="icon-file-o"></i> 
              
            《批改娘串起得那段經歷·貳》</a>
          </li>
        
          <li>
            <a class="text" href="/2021/10/28/note/diary-202110-encrypt/">
              
                <i class="icon-file-o"></i> 
              
            《批改娘串起得那段經歷·序》</a>
          </li>
        
          <li>
            <a class="text" href="/2021/10/28/note/diary-202110/">
              
                <i class="icon-file-o"></i> 
              
            好多個 28 在這個時刻</a>
          </li>
        
          <li>
            <a class="text" href="/2021/10/28/work/company-ghost-story-14/">
              
                <i class="icon-file-o"></i> 
              
            Company Ghost Story 公司鬼故事 14</a>
          </li>
        
          <li>
            <a class="text" href="/2021/09/12/work/appreciation-letter/">
              
                <i class="icon-file-o"></i> 
              
            Shiny People 感謝</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    <div class="widget-wrap">
    <h3 class="widget-title">Links</h3>
    <div class="widget">   
        <ul>
          <li><a href="http://mypaper.pchome.com.tw/zerojudge" target="_blank" title="Old Blog"><i class="icon-star"></i> Morris' Blog (pchome)</a></li>
        </ul>
    </div>
</div>

  
    
<script src="/js/jquery-ui.js"></script>
<script src="/js/ukagaka/jquery.morris.ukagaka.resource.js"></script>
<script src="/js/ukagaka/typed.js"></script>
  
  
</aside>
          
        
      </div>
      <footer id="footer">
  
  <div class="outer">    
    <div class="social-group">
      
      <a href="https://github.com/morris821028" target="_blank" title="github"><i class="icon-github"></i></a>
      
      
      <a href="https://www.facebook.com/Morris1028" target="_blank" title="facebook"><i class="icon-facebook-sign"></i></a>
      
      
      <a href="http://uhunt.felix-halim.net/id/46705" target="_blank" title="uhunt" ><span class="icon-uhunt">UVa<span></a>
      
    </div>
    <div id="footer-info" class="inner">
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and Theme by <a href="https://github.com/morris821028/hexo-theme-landscape" target="_blank" title="landscape">landscape</a> &copy; 2022 Shiang-Yun Yang 
    </div>
  </div>
</footer>


    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link"><i class=icon-home ></i>&nbsp&nbspHome</a>
  
    <a href="/about" class="mobile-nav-link"><i class=icon-user ></i>&nbsp&nbspAbout</a>
  
    <a href="/archives" class="mobile-nav-link"><i class=icon-archive ></i>&nbsp&nbspArchives</a>
  
    <a href="/tags" class="mobile-nav-link"><i class=icon-tags ></i>&nbsp&nbspTags</a>
  
    <a href="/picture" class="mobile-nav-link"><i class=icon-camera ></i>&nbsp&nbspPictures</a>
  
    <a href="/works" class="mobile-nav-link"><i class=icon-trophy ></i>&nbsp&nbspWorks</a>
  
</nav>
    
<script>
  var disqus_shortname = 'morris1028';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//go.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/jquery.lazyload.js"></script>
<script src="/js/jquery.als-1.6.js"></script>

<script src="/js/script.js"></script>

  </div><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
</body>
</html>