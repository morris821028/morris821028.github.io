<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <title>Morris&#39; Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Morris&#39; Blog">
<meta property="og:url" content="http://morris821028.github.io/page/75/index.html">
<meta property="og:site_name" content="Morris&#39; Blog">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Morris&#39; Blog">
<link rel="publisher" href="108158678174364350000">
  
    <link rel="alternative" href="/atom.xml" title="Morris&#39; Blog" type="application/atom+xml">
  
  
    <meta name="google-site-verification" content="5mRgj8NanEMpGZuNfHNJNmH90RgNlrnJXsFlTaKD6Gs" />
  
  
    <link rel="shortcut icon" href="/img/f.ico">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <script src="/js/jquery-2.1.0.min.js"></script>
  <link rel="stylesheet" href="/css/style.css">
  
  <link rel="stylesheet" href="http://cdn.oesmith.co.uk/morris-0.5.1.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
<script src="http://cdn.oesmith.co.uk/morris-0.5.1.min.js"></script>
  <link rel="import" href="/bower_components/app-layout/app-layout.html"><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>
<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"><div id="banner-right"></div></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Morris&#39; Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          
            <a class="main-nav-link" href="/"><i class=icon-home title='Home'></i></a>
          
        
          
            <a class="main-nav-link" href="/about"><i class=icon-user title='About'></i></a>
          
        
          
            <a class="main-nav-link" href="/archives"><i class=icon-archive title='Archives'></i></a>
          
        
          
            <a class="main-nav-link" href="/tags"><i class=icon-tags title='Tags'></i></a>
          
        
          
            <a class="main-nav-link" href="/picture"><i class=icon-camera title='Pictures'></i></a>
          
        
          
            <a class="main-nav-link" href="/works"><i class=icon-trophy title='Works'></i></a>
          
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://morris821028.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        
          
          <section id="main">
  
    <article id="post-oj/uva/uva-171" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/24/oj/uva/uva-171/" class="article-date">
  <time datetime="2014-06-24T09:08:12.000Z" itemprop="datePublished">2014-06-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/24/oj/uva/uva-171/">UVa 171 - Car Trialling</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/06/24/oj/uva/uva-171/" data-id="ckkj23pnh0387n0vrqtuiq20t" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/06/24/oj/uva/uva-171/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SLR/">SLR</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>Car trialling requires the following of carefully worded instructions. When setting a trial, the organiser places traps in the instructions to catch out the unwary.</p>
<p>Write a program to determine whether an instruction obeys the following rules, which are loosely based on real car trialling instructions. <strong> BOLD-TEXT </strong> indicates text as it appears in the instruction (case sensitive), <code>|</code> separates options of which exactly one must be chosen, and .. expands, so A..D is equivalent to A | B | C | D .</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">instruction = navigational | time-keeping | navigational AND time-keeping</div><div class="line"></div><div class="line">navigational = directional | navigational AND THEN directional</div><div class="line"></div><div class="line">directional = how direction | how direction where</div><div class="line"></div><div class="line">how = GO | GO when | KEEP</div><div class="line"></div><div class="line">direction = RIGHT | LEFT</div><div class="line"></div><div class="line">when = FIRST | SECOND | THIRD</div><div class="line"></div><div class="line">where = AT sign</div><div class="line"></div><div class="line">sign = &quot;signwords&quot;</div><div class="line"></div><div class="line">signwords = s-word | signwords s-word</div><div class="line"></div><div class="line">s-word = letter | s-word letter</div><div class="line"></div><div class="line">letter = A..Z | .</div><div class="line"></div><div class="line">time-keeping = record tex2html_wrap_inline61 change</div><div class="line"></div><div class="line">record = RECORD TIME</div><div class="line"></div><div class="line">change = cas TO nnn KMH</div><div class="line"></div><div class="line">cas = CHANGE AVERAGE SPEED | CAS</div><div class="line"></div><div class="line">nnn = digit | nnn digit</div></pre></td></tr></table></figure>
<p>digit = 0..9 Note that s-word and nnn are sequences of letters and digits respectively, with no intervening spaces. There will be one or more spaces between items except before a period (.), after the opening speech marks or before the closing speech marks.</p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>Each input line will consist of not more than 75 characters. The input will be terminated by a line consisting of a single #.</p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>The output will consist of a series of sequentially numbered lines, either containing the valid instruction, or the text Trap! if the line did not obey the rules. The line number will be right justified in a field of 3 characters, followed by a full-stop, a single space, and the instruction, with sequences of more than one space reduced to single spaces.</p>
<h2 id="Sample-input"><a href="#Sample-input" class="headerlink" title="Sample input"></a>Sample input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">KEEP LEFT AND THEN GO RIGHT</div><div class="line">CAS TO 20 KMH</div><div class="line">GO FIRST       RIGHT AT &quot;SMITH ST.&quot;  AND   CAS TO 20 KMH</div><div class="line">GO 2nd RIGHT</div><div class="line">GO LEFT AT &quot;SMITH STREET AND RECORD TIME</div><div class="line">KEEP RIGHT AND THEN RECORD TIME</div><div class="line">#</div></pre></td></tr></table></figure>
<h2 id="Sample-output"><a href="#Sample-output" class="headerlink" title="Sample output"></a>Sample output</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">1. KEEP LEFT AND THEN GO RIGHT</div><div class="line">2. CAS TO 20 KMH</div><div class="line">3. GO FIRST RIGHT AT &quot;SMITH ST.&quot; AND CAS TO 20 KMH</div><div class="line">4. Trap!</div><div class="line">5. Trap!</div><div class="line">6. Trap!</div></pre></td></tr></table></figure>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p><strong> 題目描述： </strong></p>
<p>根據題目給定的規則，將汽車引領的命令句子做合法語句判斷。</p>
<p><strong> 題目解法： </strong></p>
<p>根據編譯器的方式，採用 LL(1) 修改題目給定的規則後，要進行建表，但是發現有幾處無法排除的語法規則，之後採用 SLR(1) 來完成。</p>
<p>SLR(1) 是由 LR(0) 加上 follow set 完成。</p>
<p>詳細的運作過程請詳見 wiki 說明，或者是修編譯器。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">There will be one or more spaces between items except before a period (.), after the opening speech marks or before the closing speech marks.</div></pre></td></tr></table></figure>
<p>本題最邪惡的地方在這裡，句號（.）前不可以用空白，前雙引號後不可有空白、後雙引號前不可以有空白。</p>
<p>雖然題目有包含這些 token 的語法產生，但還是用最暴力的方式將句子做基礎的 token 切割。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div><div class="line">285</div><div class="line">286</div><div class="line">287</div><div class="line">288</div><div class="line">289</div><div class="line">290</div><div class="line">291</div><div class="line">292</div><div class="line">293</div><div class="line">294</div><div class="line">295</div><div class="line">296</div><div class="line">297</div><div class="line">298</div><div class="line">299</div><div class="line">300</div><div class="line">301</div><div class="line">302</div><div class="line">303</div><div class="line">304</div><div class="line">305</div><div class="line">306</div><div class="line">307</div><div class="line">308</div><div class="line">309</div><div class="line">310</div><div class="line">311</div><div class="line">312</div><div class="line">313</div><div class="line">314</div><div class="line">315</div><div class="line">316</div><div class="line">317</div><div class="line">318</div><div class="line">319</div><div class="line">320</div><div class="line">321</div><div class="line">322</div><div class="line">323</div><div class="line">324</div><div class="line">325</div><div class="line">326</div><div class="line">327</div><div class="line">328</div><div class="line">329</div><div class="line">330</div><div class="line">331</div><div class="line">332</div><div class="line">333</div><div class="line">334</div><div class="line">335</div><div class="line">336</div><div class="line">337</div><div class="line">338</div><div class="line">339</div><div class="line">340</div><div class="line">341</div><div class="line">342</div><div class="line">343</div><div class="line">344</div><div class="line">345</div><div class="line">346</div><div class="line">347</div><div class="line">348</div><div class="line">349</div><div class="line">350</div><div class="line">351</div><div class="line">352</div><div class="line">353</div><div class="line">354</div><div class="line">355</div><div class="line">356</div><div class="line">357</div><div class="line">358</div><div class="line">359</div><div class="line">360</div><div class="line">361</div><div class="line">362</div><div class="line">363</div><div class="line">364</div><div class="line">365</div><div class="line">366</div><div class="line">367</div><div class="line">368</div><div class="line">369</div><div class="line">370</div><div class="line">371</div><div class="line">372</div><div class="line">373</div><div class="line">374</div><div class="line">375</div><div class="line">376</div><div class="line">377</div><div class="line">378</div><div class="line">379</div><div class="line">380</div><div class="line">381</div><div class="line">382</div><div class="line">383</div><div class="line">384</div><div class="line">385</div><div class="line">386</div><div class="line">387</div><div class="line">388</div><div class="line">389</div><div class="line">390</div><div class="line">391</div><div class="line">392</div><div class="line">393</div><div class="line">394</div><div class="line">395</div><div class="line">396</div><div class="line">397</div><div class="line">398</div><div class="line">399</div><div class="line">400</div><div class="line">401</div><div class="line">402</div><div class="line">403</div><div class="line">404</div><div class="line">405</div><div class="line">406</div><div class="line">407</div><div class="line">408</div><div class="line">409</div><div class="line">410</div><div class="line">411</div><div class="line">412</div><div class="line">413</div><div class="line">414</div><div class="line">415</div><div class="line">416</div><div class="line">417</div><div class="line">418</div><div class="line">419</div><div class="line">420</div><div class="line">421</div><div class="line">422</div><div class="line">423</div><div class="line">424</div><div class="line">425</div><div class="line">426</div><div class="line">427</div><div class="line">428</div><div class="line">429</div><div class="line">430</div><div class="line">431</div><div class="line">432</div><div class="line">433</div><div class="line">434</div><div class="line">435</div><div class="line">436</div><div class="line">437</div><div class="line">438</div><div class="line">439</div><div class="line">440</div><div class="line">441</div><div class="line">442</div><div class="line">443</div><div class="line">444</div><div class="line">445</div><div class="line">446</div><div class="line">447</div><div class="line">448</div><div class="line">449</div><div class="line">450</div><div class="line">451</div><div class="line">452</div><div class="line">453</div><div class="line">454</div><div class="line">455</div><div class="line">456</div><div class="line">457</div><div class="line">458</div><div class="line">459</div><div class="line">460</div><div class="line">461</div><div class="line">462</div><div class="line">463</div><div class="line">464</div><div class="line">465</div><div class="line">466</div><div class="line">467</div><div class="line">468</div><div class="line">469</div><div class="line">470</div><div class="line">471</div><div class="line">472</div><div class="line">473</div><div class="line">474</div><div class="line">475</div><div class="line">476</div><div class="line">477</div><div class="line">478</div><div class="line">479</div><div class="line">480</div><div class="line">481</div><div class="line">482</div><div class="line">483</div><div class="line">484</div><div class="line">485</div><div class="line">486</div><div class="line">487</div><div class="line">488</div><div class="line">489</div><div class="line">490</div><div class="line">491</div><div class="line">492</div><div class="line">493</div><div class="line">494</div><div class="line">495</div><div class="line">496</div><div class="line">497</div><div class="line">498</div><div class="line">499</div><div class="line">500</div><div class="line">501</div><div class="line">502</div><div class="line">503</div><div class="line">504</div><div class="line">505</div><div class="line">506</div><div class="line">507</div><div class="line">508</div><div class="line">509</div><div class="line">510</div><div class="line">511</div><div class="line">512</div><div class="line">513</div><div class="line">514</div><div class="line">515</div><div class="line">516</div><div class="line">517</div><div class="line">518</div><div class="line">519</div><div class="line">520</div><div class="line">521</div><div class="line">522</div><div class="line">523</div><div class="line">524</div><div class="line">525</div><div class="line">526</div><div class="line">527</div><div class="line">528</div><div class="line">529</div><div class="line">530</div><div class="line">531</div><div class="line">532</div><div class="line">533</div><div class="line">534</div><div class="line">535</div><div class="line">536</div><div class="line">537</div><div class="line">538</div><div class="line">539</div><div class="line">540</div><div class="line">541</div><div class="line">542</div><div class="line">543</div><div class="line">544</div><div class="line">545</div><div class="line">546</div><div class="line">547</div><div class="line">548</div><div class="line">549</div><div class="line">550</div><div class="line">551</div><div class="line">552</div><div class="line">553</div><div class="line">554</div><div class="line">555</div><div class="line">556</div><div class="line">557</div><div class="line">558</div><div class="line">559</div><div class="line">560</div><div class="line">561</div><div class="line">562</div><div class="line">563</div><div class="line">564</div><div class="line">565</div><div class="line">566</div><div class="line">567</div><div class="line">568</div><div class="line">569</div><div class="line">570</div><div class="line">571</div><div class="line">572</div><div class="line">573</div><div class="line">574</div><div class="line">575</div><div class="line">576</div><div class="line">577</div><div class="line">578</div><div class="line">579</div><div class="line">580</div><div class="line">581</div><div class="line">582</div><div class="line">583</div><div class="line">584</div><div class="line">585</div><div class="line">586</div><div class="line">587</div><div class="line">588</div><div class="line">589</div><div class="line">590</div><div class="line">591</div><div class="line">592</div><div class="line">593</div><div class="line">594</div><div class="line">595</div><div class="line">596</div><div class="line">597</div><div class="line">598</div><div class="line">599</div><div class="line">600</div><div class="line">601</div><div class="line">602</div><div class="line">603</div><div class="line">604</div><div class="line">605</div><div class="line">606</div><div class="line">607</div><div class="line">608</div><div class="line">609</div><div class="line">610</div><div class="line">611</div><div class="line">612</div><div class="line">613</div><div class="line">614</div><div class="line">615</div><div class="line">616</div><div class="line">617</div><div class="line">618</div><div class="line">619</div><div class="line">620</div><div class="line">621</div><div class="line">622</div><div class="line">623</div><div class="line">624</div><div class="line">625</div><div class="line">626</div><div class="line">627</div><div class="line">628</div><div class="line">629</div><div class="line">630</div><div class="line">631</div><div class="line">632</div><div class="line">633</div><div class="line">634</div><div class="line">635</div><div class="line">636</div><div class="line">637</div><div class="line">638</div><div class="line">639</div><div class="line">640</div><div class="line">641</div><div class="line">642</div><div class="line">643</div><div class="line">644</div><div class="line">645</div><div class="line">646</div><div class="line">647</div><div class="line">648</div><div class="line">649</div><div class="line">650</div><div class="line">651</div><div class="line">652</div><div class="line">653</div><div class="line">654</div><div class="line">655</div><div class="line">656</div><div class="line">657</div><div class="line">658</div><div class="line">659</div><div class="line">660</div><div class="line">661</div><div class="line">662</div><div class="line">663</div><div class="line">664</div><div class="line">665</div><div class="line">666</div><div class="line">667</div><div class="line">668</div><div class="line">669</div><div class="line">670</div><div class="line">671</div><div class="line">672</div><div class="line">673</div><div class="line">674</div><div class="line">675</div><div class="line">676</div><div class="line">677</div><div class="line">678</div><div class="line">679</div><div class="line">680</div><div class="line">681</div><div class="line">682</div><div class="line">683</div><div class="line">684</div><div class="line">685</div><div class="line">686</div><div class="line">687</div><div class="line">688</div><div class="line">689</div><div class="line">690</div><div class="line">691</div><div class="line">692</div><div class="line">693</div><div class="line">694</div><div class="line">695</div><div class="line">696</div><div class="line">697</div><div class="line">698</div><div class="line">699</div><div class="line">700</div><div class="line">701</div><div class="line">702</div><div class="line">703</div><div class="line">704</div><div class="line">705</div><div class="line">706</div><div class="line">707</div><div class="line">708</div><div class="line">709</div><div class="line">710</div><div class="line">711</div><div class="line">712</div><div class="line">713</div><div class="line">714</div><div class="line">715</div><div class="line">716</div><div class="line">717</div><div class="line">718</div><div class="line">719</div><div class="line">720</div><div class="line">721</div><div class="line">722</div><div class="line">723</div><div class="line">724</div><div class="line">725</div><div class="line">726</div><div class="line">727</div><div class="line">728</div><div class="line">729</div><div class="line">730</div><div class="line">731</div><div class="line">732</div><div class="line">733</div><div class="line">734</div><div class="line">735</div><div class="line">736</div><div class="line">737</div><div class="line">738</div><div class="line">739</div><div class="line">740</div><div class="line">741</div><div class="line">742</div><div class="line">743</div><div class="line">744</div><div class="line">745</div><div class="line">746</div><div class="line">747</div><div class="line">748</div><div class="line">749</div><div class="line">750</div><div class="line">751</div><div class="line">752</div><div class="line">753</div><div class="line">754</div><div class="line">755</div><div class="line">756</div><div class="line">757</div><div class="line">758</div><div class="line">759</div><div class="line">760</div><div class="line">761</div><div class="line">762</div><div class="line">763</div><div class="line">764</div><div class="line">765</div><div class="line">766</div><div class="line">767</div><div class="line">768</div><div class="line">769</div><div class="line">770</div><div class="line">771</div><div class="line">772</div><div class="line">773</div><div class="line">774</div><div class="line">775</div><div class="line">776</div><div class="line">777</div><div class="line">778</div><div class="line">779</div><div class="line">780</div><div class="line">781</div><div class="line">782</div><div class="line">783</div><div class="line">784</div><div class="line">785</div><div class="line">786</div><div class="line">787</div><div class="line">788</div><div class="line">789</div><div class="line">790</div><div class="line">791</div><div class="line">792</div><div class="line">793</div><div class="line">794</div><div class="line">795</div><div class="line">796</div><div class="line">797</div><div class="line">798</div><div class="line">799</div><div class="line">800</div><div class="line">801</div><div class="line">802</div><div class="line">803</div><div class="line">804</div><div class="line">805</div><div class="line">806</div><div class="line">807</div><div class="line">808</div><div class="line">809</div><div class="line">810</div><div class="line">811</div><div class="line">812</div><div class="line">813</div><div class="line">814</div></pre></td><td class="code"><pre><div class="line">#include &lt;stdio.h&gt; </div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;sstream&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">#include &lt;string.h&gt;</div><div class="line">#include &lt;ctype.h&gt;</div><div class="line">#include &lt;assert.h&gt;</div><div class="line">using namespace std;</div><div class="line"></div><div class="line">#define HTMLProduction</div><div class="line">// #define DEBUG</div><div class="line"></div><div class="line">class Production &#123;</div><div class="line">    public:</div><div class="line">        int 			label;</div><div class="line">        string 			LHS;</div><div class="line">        vector&lt;string&gt; 	RHS;</div><div class="line">        </div><div class="line">        Production(string L = &quot;&quot;, vector&lt;string&gt; R = vector&lt;string&gt;(), int l=0) &#123;</div><div class="line">            LHS = L;</div><div class="line">            RHS = R;</div><div class="line">            label = l;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        bool operator&lt;(const Production &amp;p) const &#123;</div><div class="line">            if(LHS != p.LHS)</div><div class="line">                return LHS &lt; p.LHS;</div><div class="line">            for(size_t i = 0, j = 0; i &lt; RHS.size() &amp;&amp; j &lt; p.RHS.size(); i++, j++) &#123;</div><div class="line">                if(RHS[i] != p.RHS[i])</div><div class="line">                    return RHS[i] &lt; p.RHS[i];</div><div class="line">            &#125;</div><div class="line">            return RHS.size() &lt; p.RHS.size();</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        bool operator==(const Production &amp;p) const &#123;</div><div class="line">            if(LHS != p.LHS || RHS.size() != p.RHS.size())</div><div class="line">                return false;</div><div class="line">            for(size_t i = 0, j = 0; i &lt; RHS.size(); i++, j++) &#123;</div><div class="line">                if(RHS[i] != p.RHS[i])</div><div class="line">                    return false;</div><div class="line">            &#125;</div><div class="line">            return true;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        bool operator!=(const Production &amp;p) const &#123;</div><div class="line">            return !(*this == p);</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        void print() &#123;</div><div class="line">            printf(&quot;%s -&gt; &quot;, LHS.c_str());</div><div class="line">            for(size_t i = 0; i &lt; RHS.size(); i++)</div><div class="line">                printf(&quot;%s&quot;, RHS[i].c_str());</div><div class="line">        &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">class Grammar &#123;</div><div class="line">    public:</div><div class="line">        /* LR parsing */</div><div class="line">        class ConfigurationSet &#123;</div><div class="line">            public:</div><div class="line">                class State &#123;</div><div class="line">                    public:</div><div class="line">                        int dot;</div><div class="line">                        vector&lt;string&gt; lookahead;</div><div class="line">                        </div><div class="line">                        State(int d=0, vector&lt;string&gt; l=vector&lt;string&gt;()):</div><div class="line">                            dot(d), lookahead(l) &#123;&#125;</div><div class="line">                        bool operator&lt;(const State &amp;x) const &#123;</div><div class="line">                            return dot &lt; x.dot;</div><div class="line">                        &#125;</div><div class="line">                        bool operator!=(const State &amp;x) const &#123;</div><div class="line">                            return dot != x.dot;</div><div class="line">                        &#125;</div><div class="line">                &#125;;</div><div class="line">                </div><div class="line">                set&lt; pair&lt;Production, State&gt; &gt; 	configs;</div><div class="line">                int 							label;</div><div class="line">                ConfigurationSet() &#123;</div><div class="line">                    label = 0;</div><div class="line">                &#125;</div><div class="line">                /* method */</div><div class="line">                static ConfigurationSet closure0(ConfigurationSet&amp; s, Grammar&amp; g);</div><div class="line">                static ConfigurationSet go_to0(ConfigurationSet&amp; s, string X, Grammar&amp; g);</div><div class="line">                void print(Grammar &amp;g) &#123;</div><div class="line">                    set&lt; pair&lt;Production, State&gt; &gt;::iterator it;</div><div class="line">                    Production p;</div><div class="line">                    </div><div class="line">                    for(it = configs.begin(); it != configs.end(); it++) &#123;</div><div class="line">                        p = it-&gt;first;</div><div class="line">                        printf(&quot;%s -&gt;&quot;, p.LHS.c_str());</div><div class="line">                        for(size_t i = 0; i &lt; p.RHS.size(); i++) &#123;</div><div class="line">                            if(i == it-&gt;second.dot)</div><div class="line">                                printf(&quot;¡E&quot;);</div><div class="line">                            printf(&quot; %s &quot;, p.RHS[i].c_str());</div><div class="line">                        &#125;</div><div class="line">                        if(it-&gt;second.dot == p.RHS.size())</div><div class="line">                            printf(&quot;¡E&quot;);</div><div class="line">                        printf(&quot; ,&#123;&quot;);</div><div class="line">                        set&lt;string&gt; fset = g.follow_set[p.LHS];</div><div class="line">                        for(set&lt;string&gt;::iterator jt = fset.begin();</div><div class="line">                            jt != fset.end(); jt++) &#123;</div><div class="line">                            if(jt != fset.begin())</div><div class="line">                                cout &lt;&lt; &quot;, &quot;;</div><div class="line">                            cout &lt;&lt; *jt;</div><div class="line">                        &#125;</div><div class="line">                        printf(&quot;&#125;&quot;);</div><div class="line">                        puts(&quot;&quot;);</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">                bool operator&lt;(const ConfigurationSet &amp;x) const &#123;</div><div class="line">                    if(configs.size() != x.configs.size())</div><div class="line">                        return configs.size() &lt; x.configs.size();</div><div class="line">                    for(set&lt; pair&lt;Production, State&gt; &gt;::iterator it = configs.begin(), jt = x.configs.begin();</div><div class="line">                        it != configs.end(); it++, jt++) &#123;</div><div class="line">                        if(it-&gt;first != jt-&gt;first)</div><div class="line">                            return it-&gt;first &lt; jt-&gt;first;</div><div class="line">                        if(it-&gt;second != jt-&gt;second)</div><div class="line">                            return it-&gt;second &lt; jt-&gt;second;</div><div class="line">                    &#125;</div><div class="line">                    return false;</div><div class="line">                    // return label &lt; x.label;</div><div class="line">                &#125;</div><div class="line">        &#125;;		</div><div class="line">        </div><div class="line">        static const string 		lambda;</div><div class="line">        set&lt;string&gt;					symbols;</div><div class="line">        string 						start_symbol;</div><div class="line">        vector&lt;Production&gt; 			rules;</div><div class="line">        /* LL(1) attribute */</div><div class="line">        map&lt;string, set&lt;string&gt; &gt; 	first_set;</div><div class="line">        map&lt;string, set&lt;string&gt; &gt; 	follow_set;</div><div class="line">        map&lt;string, bool&gt; 			derives_lambda;</div><div class="line">        map&lt;string, map&lt;string, Production&gt; &gt;	lltable;</div><div class="line">        /* LR attribute */</div><div class="line">        vector&lt;ConfigurationSet&gt;	LRstates;</div><div class="line">        map&lt;int, map&lt;string, int&gt; &gt;	go_to_table;</div><div class="line">        map&lt;int, int&gt;				action_table;</div><div class="line">        </div><div class="line">        /* common method */</div><div class="line">        static bool isNonterminal(string token);</div><div class="line">        void buildSymbols();</div><div class="line">        /* LL(1) method */</div><div class="line">        map&lt;string, bool&gt; mark_lambda();</div><div class="line">        void fill_first_set();</div><div class="line">        void fill_follow_set();</div><div class="line">        set&lt;string&gt; compute_first(vector&lt;string&gt; rhs);</div><div class="line">        set&lt;string&gt; get_predict_set(Production p);</div><div class="line">        void fill_lltable();</div><div class="line">        void lldriver(queue&lt;string&gt; tokens);</div><div class="line">        /* LR method*/</div><div class="line">        void build_CFSM();</div><div class="line">        void build_action();</div><div class="line">        void lr0driver(queue&lt;string&gt; tokens);</div><div class="line">        int slr1driver(queue&lt;string&gt; tokens);</div><div class="line">        void lalr1driver(queue&lt;string&gt; tokens);</div><div class="line">        /* homework */</div><div class="line">        void hw_build_CFSM();</div><div class="line">&#125;;</div><div class="line">/* ------------------------</div><div class="line">ConfigurationSet method</div><div class="line">-------------------------- */</div><div class="line">Grammar::ConfigurationSet Grammar::ConfigurationSet::closure0(ConfigurationSet&amp; s, Grammar&amp; g) &#123;</div><div class="line">    ConfigurationSet 	r = s;</div><div class="line">    bool				changes;</div><div class="line">    string				A;</div><div class="line">    Production			P;</div><div class="line">    int 				dotPos;</div><div class="line">    </div><div class="line">    set&lt; pair&lt;Production, State&gt; &gt;::iterator it;</div><div class="line">    do &#123;</div><div class="line">        changes = false;</div><div class="line">        for(it = r.configs.begin(); it != r.configs.end(); it++) &#123;</div><div class="line">            P = it-&gt;first;</div><div class="line">            dotPos = it-&gt;second.dot;</div><div class="line">            if(dotPos &gt;= P.RHS.size() || P.RHS[dotPos] == Grammar::lambda)</div><div class="line">                continue;</div><div class="line">            A = P.RHS[dotPos];</div><div class="line">            if(Grammar::isNonterminal(A)) &#123;</div><div class="line">                /* B -&gt; x.Ay */</div><div class="line">                /* Predict productions with A as the left-hand side */</div><div class="line">                for(size_t i = 0; i &lt; g.rules.size(); i++) &#123;</div><div class="line">                    if(g.rules[i].LHS == A) &#123;</div><div class="line">                        if(r.configs.find(make_pair(g.rules[i], State(0))) == r.configs.end()) &#123;</div><div class="line">                            r.configs.insert(make_pair(g.rules[i], State(0)));</div><div class="line">                            changes = true;</div><div class="line">                        &#125;</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125; while(changes);</div><div class="line">    return r;</div><div class="line">&#125;</div><div class="line">Grammar::ConfigurationSet Grammar::ConfigurationSet::go_to0(ConfigurationSet&amp; s, string X, Grammar&amp; g) &#123;</div><div class="line">    ConfigurationSet sb;</div><div class="line">    set&lt; pair&lt;Production, State&gt; &gt;::iterator it;</div><div class="line">    Production 	P;</div><div class="line">    int 		dotPos;</div><div class="line">    </div><div class="line">    for(it = s.configs.begin(); it != s.configs.end(); it++) &#123;</div><div class="line">        P = it-&gt;first;</div><div class="line">        dotPos = it-&gt;second.dot;</div><div class="line">        if(dotPos &gt;= P.RHS.size() || P.RHS[dotPos] == Grammar::lambda)</div><div class="line">            continue;</div><div class="line">        if(P.RHS[dotPos] == X) &#123;</div><div class="line">            State state(dotPos + 1, it-&gt;second.lookahead);</div><div class="line">            sb.configs.insert(make_pair(P, state));</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    return closure0(sb, g);</div><div class="line">&#125;</div><div class="line">/* ------------------------</div><div class="line">Grammar method</div><div class="line">-------------------------- */</div><div class="line">const string Grammar::lambda(&quot;l&quot;);</div><div class="line"></div><div class="line">set&lt;string&gt; Grammar::compute_first(vector&lt;string&gt; rhs) &#123;</div><div class="line">    set&lt;string&gt; result;</div><div class="line">    size_t 		i;</div><div class="line">    </div><div class="line">    if(rhs.size() == 0 || rhs[0] == Grammar::lambda) &#123;</div><div class="line">        result.insert(Grammar::lambda);</div><div class="line">    &#125; else &#123;</div><div class="line">        result = first_set[rhs[0]];</div><div class="line">        for(i = 1; i &lt; rhs.size() &amp;&amp; </div><div class="line">            first_set[rhs[i-1]].find(Grammar::lambda) != first_set[rhs[i-1]].end(); i++) &#123;</div><div class="line">            set&lt;string&gt; f = first_set[rhs[i]];</div><div class="line">            f.erase(Grammar::lambda);</div><div class="line">            result.insert(f.begin(), f.end());	</div><div class="line">        &#125;</div><div class="line">        if(i == rhs.size() </div><div class="line">            &amp;&amp; first_set[rhs[i-1]].find(Grammar::lambda) != first_set[rhs[i-1]].end()) &#123;</div><div class="line">            result.insert(Grammar::lambda);</div><div class="line">        &#125; else &#123;</div><div class="line">            result.erase(Grammar::lambda);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    return result;</div><div class="line">&#125; </div><div class="line">/*</div><div class="line"> * please call get_predict_set() after fill_follow_set() and fill_first_set()</div><div class="line"> */</div><div class="line">set&lt;string&gt; Grammar::get_predict_set(Production p) &#123;</div><div class="line">    set&lt;string&gt; result;</div><div class="line">    set&lt;string&gt; rfirst;</div><div class="line">    </div><div class="line">    rfirst = compute_first(p.RHS);</div><div class="line">    if(rfirst.find(Grammar::lambda) != rfirst.end()) &#123;</div><div class="line">        rfirst.erase(Grammar::lambda);</div><div class="line">        result.insert(rfirst.begin(), rfirst.end());</div><div class="line">        rfirst = follow_set[p.LHS];</div><div class="line">        result.insert(rfirst.begin(), rfirst.end());</div><div class="line">    &#125; else &#123;</div><div class="line">        result.insert(rfirst.begin(), rfirst.end());</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    return result;</div><div class="line">&#125;</div><div class="line">/*</div><div class="line"> * </div><div class="line"> */</div><div class="line">void Grammar::fill_lltable() &#123;</div><div class="line">    string		A; // nonterminal</div><div class="line">    Production 	p;</div><div class="line">    </div><div class="line">    for(size_t i = 0; i &lt; rules.size(); i++) &#123;</div><div class="line">        p = rules[i];</div><div class="line">        A = p.LHS;</div><div class="line">        set&lt;string&gt; predict_set = get_predict_set(p);</div><div class="line">        </div><div class="line">        for(set&lt;string&gt;::iterator it = predict_set.begin();</div><div class="line">            it != predict_set.end(); it++) &#123;</div><div class="line">            assert(lltable[A].find(*it) == lltable[A].end());</div><div class="line">            lltable[A][*it] = p;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">&#125;</div><div class="line">void Grammar::buildSymbols() &#123;</div><div class="line">    symbols.clear();</div><div class="line">    for(size_t i = 0; i &lt; rules.size(); i++) &#123;</div><div class="line">        symbols.insert(rules[i].LHS);</div><div class="line">        for(size_t j = 0; j &lt; rules[i].RHS.size(); j++) &#123;</div><div class="line">            symbols.insert(rules[i].RHS[j]);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">bool Grammar::isNonterminal(string token) &#123;</div><div class="line"></div><div class="line">#ifdef HTMLProduction</div><div class="line">    if(token == Grammar::lambda)</div><div class="line">        return false;</div><div class="line">    if(token[0] == &apos;&lt;&apos; &amp;&amp; token[token.length() - 1] == &apos;&gt;&apos;)</div><div class="line">        return true;</div><div class="line">    return false;</div><div class="line">#else</div><div class="line">    if(token == Grammar::lambda)</div><div class="line">        return false;</div><div class="line">    for(size_t i = 0; i &lt; token.length(); i++) &#123;</div><div class="line">        if(isupper(token[i]))</div><div class="line">            return true;</div><div class="line">    &#125;</div><div class="line">    return false;</div><div class="line">#endif</div><div class="line">&#125;</div><div class="line">/* ------------------------</div><div class="line">Grammar LL method</div><div class="line">-------------------------- */</div><div class="line">map&lt;string, bool&gt; Grammar::mark_lambda() &#123;</div><div class="line">    bool 				rhs_derives_lambda;</div><div class="line">    bool 				changes;</div><div class="line">    Production 			p;</div><div class="line">    </div><div class="line">    derives_lambda.clear();</div><div class="line">    </div><div class="line">    /* initially, nothing is marked. */</div><div class="line">    for(size_t i = 0; i &lt; rules.size(); i++) &#123;</div><div class="line">        derives_lambda[rules[i].LHS] = false;</div><div class="line">    &#125;</div><div class="line">    do &#123;</div><div class="line">        changes = false;</div><div class="line">        for(size_t i = 0; i &lt; rules.size(); i++) &#123;</div><div class="line">            p = rules[i];</div><div class="line">            if(!derives_lambda[p.LHS]) &#123;</div><div class="line">                if(p.RHS.size() == 0 || p.RHS[0] == Grammar::lambda) &#123;</div><div class="line">                    changes = derives_lambda[p.LHS] = true;</div><div class="line">                    continue;</div><div class="line">                &#125;</div><div class="line">                /* does each part of RHS derive lambda ? */</div><div class="line">                rhs_derives_lambda = derives_lambda[string(p.RHS[0])];</div><div class="line">                for(size_t j = 1; j &lt; p.RHS.size(); j++) &#123;</div><div class="line">                    rhs_derives_lambda &amp;= derives_lambda[p.RHS[j]];</div><div class="line">                &#125;</div><div class="line">                if(rhs_derives_lambda) &#123;</div><div class="line">                    changes = true;</div><div class="line">                    derives_lambda[p.LHS] = true;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125; while(changes);</div><div class="line">    return derives_lambda;</div><div class="line">&#125;</div><div class="line">void Grammar::fill_first_set() &#123;</div><div class="line">    </div><div class="line">    string 		A; // nonterminal</div><div class="line">    string 		a; // terminal</div><div class="line">    Production 	p;</div><div class="line">    bool 		changes;</div><div class="line">        </div><div class="line">    mark_lambda();</div><div class="line">    first_set.clear();</div><div class="line">    </div><div class="line">    for(size_t i = 0; i &lt; rules.size(); i++) &#123;</div><div class="line">        A = rules[i].LHS;</div><div class="line">        if(derives_lambda[A])</div><div class="line">            first_set[A].insert(Grammar::lambda);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    for(size_t i = 0; i &lt; rules.size(); i++) &#123;</div><div class="line">        for(size_t j = 0; j &lt; rules[i].RHS.size(); j++) &#123;</div><div class="line">            a = rules[i].RHS[j];</div><div class="line">            if(!isNonterminal(a)) &#123;</div><div class="line">                if(a != Grammar::lambda)</div><div class="line">                    first_set[a].insert(a);</div><div class="line">                if(j == 0) &#123; // A -&gt; aXX</div><div class="line">                    first_set[rules[i].LHS].insert(a);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    do &#123;</div><div class="line">        changes = false;</div><div class="line">        for(size_t i = 0; i &lt; rules.size(); i++) &#123;</div><div class="line">            p = rules[i];</div><div class="line">            set&lt;string&gt; rfirst = compute_first(p.RHS);</div><div class="line">            size_t oldsize = first_set[p.LHS].size();</div><div class="line">            first_set[p.LHS].insert(rfirst.begin(), rfirst.end());</div><div class="line">            size_t newsize = first_set[p.LHS].size();</div><div class="line">            if(oldsize != newsize)</div><div class="line">                changes = true;</div><div class="line">        &#125;</div><div class="line">    &#125; while(changes);</div><div class="line">&#125; </div><div class="line"></div><div class="line">void Grammar::fill_follow_set() &#123;</div><div class="line">    string 	A, B; // nonterminal</div><div class="line">    Production 	p;</div><div class="line">    bool 	changes;</div><div class="line">    </div><div class="line">    for(size_t i = 0; i &lt; rules.size(); i++) &#123;</div><div class="line">        A = rules[i].LHS;</div><div class="line">        follow_set[A].clear();</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    follow_set[start_symbol].insert(Grammar::lambda);</div><div class="line">        </div><div class="line">    do &#123;</div><div class="line">        changes = false;</div><div class="line">        for(size_t i = 0; i &lt; rules.size(); i++) &#123;</div><div class="line">            /* A -&gt; a B b</div><div class="line">             * I.e. for each production and each occurrence</div><div class="line">             * of a nonterminal in its right-hand side. </div><div class="line">             */</div><div class="line">            p = rules[i];</div><div class="line">            A = p.LHS;</div><div class="line">            for(size_t j = 0; j &lt; p.RHS.size(); j++) &#123;</div><div class="line">                B = p.RHS[j];</div><div class="line">                if(isNonterminal(B)) &#123;</div><div class="line">                    vector&lt;string&gt; beta(p.RHS.begin() + j + 1, p.RHS.end());</div><div class="line">                    set&lt;string&gt; rfirst = compute_first(beta);</div><div class="line">                    size_t oldsize = follow_set[B].size();</div><div class="line">                    </div><div class="line">                    if(rfirst.find(Grammar::lambda) == rfirst.end()) &#123;</div><div class="line">                        follow_set[B].insert(rfirst.begin(), rfirst.end());	</div><div class="line">                    &#125; else &#123;</div><div class="line">                        rfirst.erase(Grammar::lambda);</div><div class="line">                        follow_set[B].insert(rfirst.begin(), rfirst.end());	</div><div class="line">                        rfirst = follow_set[A];</div><div class="line">                        follow_set[B].insert(rfirst.begin(), rfirst.end());</div><div class="line">                    &#125;</div><div class="line">                    size_t newsize = follow_set[B].size();			</div><div class="line">                    if(oldsize != newsize)</div><div class="line">                        changes = true;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125; while(changes);</div><div class="line">&#125;</div><div class="line"></div><div class="line">void Grammar::lldriver(queue&lt;string&gt; tokens) &#123;</div><div class="line">    stack&lt;string&gt; 	stk;</div><div class="line">    string 			X;</div><div class="line">    string			a;</div><div class="line">    Production		p;</div><div class="line">    /* Push the Start Symbol onto an empty stack */</div><div class="line">    stk.push(start_symbol);</div><div class="line">    </div><div class="line">    while(!stk.empty() &amp;&amp; !tokens.empty()) &#123;</div><div class="line">        X = stk.top();</div><div class="line">        a = tokens.front();</div><div class="line">        // cout &lt;&lt; X &lt;&lt; &quot; &quot; &lt;&lt; a &lt;&lt; endl;</div><div class="line">        if(isNonterminal(X) &amp;&amp; lltable[X].find(a) != lltable[X].end()) &#123;</div><div class="line">            p = lltable[X][a];</div><div class="line">            stk.pop();</div><div class="line">            for(int i = p.RHS.size() - 1; i &gt;= 0; i--) &#123;</div><div class="line">                if(p.RHS[i] == Grammar::lambda)</div><div class="line">                    continue;</div><div class="line">                stk.push(p.RHS[i]);</div><div class="line">            &#125;</div><div class="line">        &#125; else if(X == a) &#123;</div><div class="line">            stk.pop();</div><div class="line">            tokens.pop();</div><div class="line">        &#125; else if(lltable[X].find(Grammar::lambda) != lltable[X].end()) &#123;</div><div class="line">            stk.pop();</div><div class="line">        &#125; else &#123;</div><div class="line">            /* Process syntax error. */</div><div class="line">            puts(&quot;Bad!&quot;);</div><div class="line">            return;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    while(!stk.empty()) &#123;</div><div class="line">        X = stk.top();</div><div class="line">        if(lltable[X].find(Grammar::lambda) != lltable[X].end())</div><div class="line">            stk.pop();</div><div class="line">        else</div><div class="line">            break;</div><div class="line">    &#125;</div><div class="line">    if(tokens.size() == 0 &amp;&amp; stk.size() == 0)</div><div class="line">        puts(&quot;Good&quot;);</div><div class="line">    else</div><div class="line">        puts(&quot;Bad!&quot;);</div><div class="line">    return;</div><div class="line">&#125;</div><div class="line">/* ------------------------</div><div class="line">Grammar LR method</div><div class="line">-------------------------- */</div><div class="line">void Grammar::build_action() &#123;</div><div class="line">    ConfigurationSet 	s;</div><div class="line">    Production 			P;</div><div class="line">    int					dotPos;</div><div class="line">    set&lt; pair&lt;Production, ConfigurationSet::State&gt; &gt;::iterator it;</div><div class="line">    </div><div class="line">    for(size_t i = 0; i &lt; LRstates.size(); i++) &#123;</div><div class="line">        s = LRstates[i];</div><div class="line">        int reduce = 0, rule = 0, accept = 1;</div><div class="line">        for(it = s.configs.begin(); it != s.configs.end(); it++) &#123;</div><div class="line">            P = it-&gt;first, dotPos = it-&gt;second.dot;</div><div class="line">            if(dotPos == P.RHS.size())</div><div class="line">                reduce++, rule = P.label;</div><div class="line">            accept &amp;= P.LHS == Grammar::start_symbol;</div><div class="line">        &#125;</div><div class="line">        if(accept == 1)</div><div class="line">            action_table[i] = 0;</div><div class="line">        else if(reduce == 1)</div><div class="line">            action_table[i] = -1;</div><div class="line">        else</div><div class="line">            action_table[i] = 1;</div><div class="line">    &#125;</div><div class="line">#ifdef DEBUG</div><div class="line">    printf(&quot;State |&quot;);</div><div class="line">    for(size_t i = 0; i &lt; LRstates.size(); i++)</div><div class="line">        printf(&quot;%5d|&quot;, i);</div><div class="line">    puts(&quot;&quot;);</div><div class="line">    printf(&quot;Action|&quot;);</div><div class="line">    for(size_t i = 0; i &lt; action_table.size(); i++) &#123;</div><div class="line">        printf(&quot;%5d|&quot;, action_table[i]);</div><div class="line">    &#125;</div><div class="line">    puts(&quot;&quot;);</div><div class="line">#endif</div><div class="line">&#125;</div><div class="line">void Grammar::build_CFSM() &#123;</div><div class="line">    set&lt;ConfigurationSet&gt; 	S;</div><div class="line">    queue&lt;ConfigurationSet&gt;	Q;</div><div class="line">    ConfigurationSet 		s0, sb;</div><div class="line">    int 					label = 0;</div><div class="line">    ConfigurationSet::State state;</div><div class="line">    </div><div class="line">    state.dot = 0;</div><div class="line">    state.lookahead = vector&lt;string&gt;();</div><div class="line">    state.lookahead.push_back(Grammar::lambda);</div><div class="line">    for(size_t i = 0; i &lt; rules.size(); i++) &#123;</div><div class="line">        if(rules[i].LHS == this-&gt;start_symbol) &#123;</div><div class="line">            s0.configs.insert(make_pair(rules[i], state));</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    s0 = ConfigurationSet::closure0(s0, *this);</div><div class="line">    s0.label = label++;</div><div class="line">    </div><div class="line">    S.insert(s0);</div><div class="line">    Q.push(s0);</div><div class="line">    </div><div class="line">    buildSymbols();</div><div class="line">    /* hw need */</div><div class="line">    map&lt;int, vector&lt; pair&lt;int, string&gt; &gt; &gt; hwPrint;</div><div class="line">    /* hw need */</div><div class="line">    while(!Q.empty()) &#123;</div><div class="line">        s0 = Q.front(), Q.pop();</div><div class="line">        LRstates.push_back(s0);</div><div class="line">        for(set&lt;string&gt;::iterator it = symbols.begin();</div><div class="line">            it != symbols.end(); it++) &#123;</div><div class="line">            sb = ConfigurationSet::go_to0(s0, *it, *this);</div><div class="line">            if(sb.configs.size() &gt; 0) &#123;</div><div class="line">                if(S.find(sb) == S.end()) &#123;</div><div class="line">                    sb.label = label++;</div><div class="line">                    S.insert(sb);</div><div class="line">                    Q.push(sb);</div><div class="line">                &#125;</div><div class="line">                </div><div class="line">                go_to_table[s0.label][*it] = (* S.find(sb)).label;</div><div class="line">                /* hw need */</div><div class="line">                hwPrint[(* S.find(sb)).label].push_back(make_pair(s0.label, *it));</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    // build_action();</div><div class="line">#ifdef DEBUG	</div><div class="line">    printf(&quot;Total State: %d\n&quot;, label);</div><div class="line">    for(int i = 0; i &lt; label; i++) &#123;</div><div class="line">        if(hwPrint[i].size() &gt; 0) &#123;</div><div class="line">            printf(&quot;State %d from&quot;, i);</div><div class="line">            for(vector&lt; pair&lt;int, string&gt; &gt;::iterator it = hwPrint[i].begin();</div><div class="line">                it != hwPrint[i].end(); it++) &#123;</div><div class="line">                printf(&quot;%cState %d(%s)&quot;, it == hwPrint[i].begin() ? &apos; &apos; : &apos;,&apos;, it-&gt;first, it-&gt;second.c_str());</div><div class="line">            &#125;</div><div class="line">            puts(&quot;&quot;);</div><div class="line">        &#125; else &#123;</div><div class="line">            printf(&quot;State %d\n&quot;, i);</div><div class="line">        &#125;</div><div class="line">        LRstates[i].print(*this);</div><div class="line">        puts(&quot;&quot;);</div><div class="line">    &#125;</div><div class="line">#endif</div><div class="line">&#125;</div><div class="line">int Grammar::slr1driver(queue&lt;string&gt; tokens) &#123;</div><div class="line">    stack&lt;int&gt; 		stateStk;</div><div class="line">    stack&lt;string&gt; 	tokenStk;</div><div class="line">    int 			state;</div><div class="line">    string			X;</div><div class="line">    </div><div class="line">    stateStk.push(0); /* push start state */</div><div class="line">    while(!tokens.empty()) &#123;</div><div class="line">        state = stateStk.top();</div><div class="line">        X = tokens.front();</div><div class="line">#ifdef DEBUG </div><div class="line">        puts(&quot;&quot;);</div><div class="line">        printf(&quot;state %d front %s\n&quot;, state, X.c_str());</div><div class="line">        LRstates[state].print(*this);</div><div class="line">        for (std::stack&lt;int&gt; dump = stateStk; !dump.empty(); dump.pop())</div><div class="line">        	std::cout &lt;&lt; &quot;state stack &quot;&lt;&lt; dump.top() &lt;&lt; &apos;\n&apos;;</div><div class="line">        for (std::stack&lt;string&gt; dump = tokenStk; !dump.empty(); dump.pop())</div><div class="line">        	std::cout &lt;&lt; &quot;token stack &quot;&lt;&lt; dump.top() &lt;&lt; &apos;\n&apos;;</div><div class="line">#endif</div><div class="line">        int reduce = 0, shift = 0;</div><div class="line">        Production P;</div><div class="line">        for(set&lt; pair&lt;Production, ConfigurationSet::State&gt; &gt;::iterator it = LRstates[state].configs.begin(); </div><div class="line">            it != LRstates[state].configs.end(); it++) &#123;</div><div class="line">            Production q = it-&gt;first;</div><div class="line">            ConfigurationSet::State s = it-&gt;second;</div><div class="line">            if(follow_set[q.LHS].find(X) != follow_set[q.LHS].end() &amp;&amp; </div><div class="line">                    (s.dot == q.RHS.size() || q.RHS[0] == Grammar::lambda)) &#123;</div><div class="line">                reduce++;</div><div class="line">                P = q;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        if(go_to_table[state].find(X) != go_to_table[state].end())</div><div class="line">            shift++;</div><div class="line">        if(reduce + shift &gt;= 2)</div><div class="line">            assert(false); // grammar can&apos;t use simple LR.</div><div class="line">        if(reduce + shift == 0)</div><div class="line">            return 0;</div><div class="line">        if(reduce == 1) &#123; // Reduce</div><div class="line">            for(size_t i = 0; i &lt; P.RHS.size(); i++) </div><div class="line">                tokenStk.pop(), stateStk.pop();</div><div class="line"></div><div class="line">            tokenStk.push(P.LHS);</div><div class="line">            state = stateStk.top();</div><div class="line">            if(go_to_table[state].find(P.LHS) == go_to_table[state].end()) &#123;</div><div class="line">                return 0;</div><div class="line">            &#125;</div><div class="line">            state = go_to_table[state][P.LHS];</div><div class="line">            stateStk.push(state);</div><div class="line">        &#125; else &#123; // shift</div><div class="line">            state = go_to_table[state][X];</div><div class="line">            stateStk.push(state);</div><div class="line">            tokenStk.push(X);</div><div class="line">            tokens.pop();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    while(!stateStk.empty()) &#123;</div><div class="line">        state = stateStk.top();</div><div class="line">        X = Grammar::lambda;</div><div class="line">#ifdef DEBUG </div><div class="line">        puts(&quot;&quot;);</div><div class="line">        printf(&quot;state %d front %s\n&quot;, state, X.c_str());</div><div class="line">        LRstates[state].print(*this);</div><div class="line">        for (std::stack&lt;int&gt; dump = stateStk; !dump.empty(); dump.pop())</div><div class="line">        	std::cout &lt;&lt; &quot;state stack &quot;&lt;&lt; dump.top() &lt;&lt; &apos;\n&apos;;</div><div class="line">        for (std::stack&lt;string&gt; dump = tokenStk; !dump.empty(); dump.pop())</div><div class="line">        	std::cout &lt;&lt; &quot;token stack &quot;&lt;&lt; dump.top() &lt;&lt; &apos;\n&apos;;</div><div class="line">#endif</div><div class="line">        int reduce = 0, shift = 0;</div><div class="line">        Production P;</div><div class="line">        for(set&lt; pair&lt;Production, ConfigurationSet::State&gt; &gt;::iterator it = LRstates[state].configs.begin(); </div><div class="line">            it != LRstates[state].configs.end(); it++) &#123;</div><div class="line">            Production q = it-&gt;first;</div><div class="line">            ConfigurationSet::State s = it-&gt;second;</div><div class="line">            if(follow_set[q.LHS].find(X) != follow_set[q.LHS].end() &amp;&amp; </div><div class="line">                    (s.dot == q.RHS.size() || q.RHS[0] == Grammar::lambda)) &#123;</div><div class="line">                reduce++;</div><div class="line">                P = q;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        if(go_to_table[state].find(X) != go_to_table[state].end())</div><div class="line">            shift++;</div><div class="line">        if(reduce + shift &gt;= 2)</div><div class="line">            assert(false); // grammar can&apos;t use simple LR.</div><div class="line">        if(reduce + shift == 0)</div><div class="line">            return 0;</div><div class="line">        if(reduce == 1) &#123; // Reduce</div><div class="line">            for(size_t i = 0; i &lt; P.RHS.size(); i++) </div><div class="line">                tokenStk.pop(), stateStk.pop();</div><div class="line"></div><div class="line">            tokenStk.push(P.LHS);</div><div class="line">            state = stateStk.top();</div><div class="line">            if(go_to_table[state].find(P.LHS) == go_to_table[state].end()) &#123;</div><div class="line">                if(P.LHS == Grammar::start_symbol)</div><div class="line">                    return 1;</div><div class="line">                return 0;</div><div class="line">            &#125;</div><div class="line">            state = go_to_table[state][P.LHS];</div><div class="line">            stateStk.push(state);</div><div class="line">        &#125; else &#123; // shift</div><div class="line">            state = go_to_table[state][X];</div><div class="line">            stateStk.push(state);</div><div class="line">            tokenStk.push(X);</div><div class="line">            tokens.pop();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div><div class="line">void parsingProduction(string r, Grammar &amp;g) &#123;</div><div class="line">    static int 		production_label = 0;</div><div class="line">    stringstream 	sin(r);</div><div class="line">    string 			lhs, foo;</div><div class="line">    vector&lt;string&gt; 	tokens;</div><div class="line">    sin &gt;&gt; lhs &gt;&gt; foo;</div><div class="line">    while(sin &gt;&gt; foo)</div><div class="line">        tokens.push_back(foo);</div><div class="line">    Production p(lhs, tokens);</div><div class="line">    p.label = ++production_label;</div><div class="line">    g.rules.push_back(p);</div><div class="line">&#125;</div><div class="line">bool isNumber(string str) &#123;</div><div class="line">    for(int i = 0; i &lt; str.length(); i++) &#123;</div><div class="line">        if(!isdigit(str[i]))</div><div class="line">            return false;</div><div class="line">    &#125;</div><div class="line">    return true;</div><div class="line">&#125;</div><div class="line">int scanTokens(char s[], queue&lt;string&gt;&amp; tokens, vector&lt;string&gt;&amp; val) &#123;</div><div class="line">    string keyword[18] = &#123;&quot;AND&quot;, &quot;THEN&quot;, &quot;GO&quot;, &quot;KEEP&quot;, </div><div class="line">            &quot;RIGHT&quot;, &quot;LEFT&quot;, &quot;FIRST&quot;, &quot;SECOND&quot;, &quot;THIRD&quot;, </div><div class="line">            &quot;AT&quot;, &quot;RECORD&quot;, &quot;TIME&quot;, &quot;TO&quot;, &quot;KMH&quot;, &quot;CHANGE&quot;,</div><div class="line">            &quot;AVERAGE&quot;, &quot;SPEED&quot;, &quot;CAS&quot;&#125;;</div><div class="line">    for(int i = 0; s[i]; i++) &#123;</div><div class="line">        if(s[i] == &apos;&quot;&apos;) &#123;</div><div class="line">            // s-word can&apos;t empty, and after the opening speech marks no more space.</div><div class="line">            if(s[i + 1] == &apos;&quot;&apos; || isspace(s[i + 1]))	</div><div class="line">                return 0;</div><div class="line">            i++;</div><div class="line">            while(s[i] != &apos;&quot;&apos;) &#123;</div><div class="line">                if(isupper(s[i])) &#123;&#125;</div><div class="line">                else if(isspace(s[i])) &#123;s[i] = &apos;_&apos;;&#125;</div><div class="line">                else if(s[i] == &apos;.&apos;) &#123;</div><div class="line">                    if(isspace(s[i - 1]) || s[i - 1] == &apos;_&apos;) &#123;</div><div class="line">                        return 0;</div><div class="line">                    &#125;</div><div class="line">                &#125; else &#123;</div><div class="line">                    return 0;</div><div class="line">                &#125;</div><div class="line">                i++;</div><div class="line">            &#125;</div><div class="line">            if(s[i] == &apos;\0&apos; || isspace(s[i - 1]) || s[i - 1] == &apos;_&apos;)</div><div class="line">                return 0;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    stringstream 	sin(s);</div><div class="line">    string 			token;</div><div class="line">    while(sin &gt;&gt; token) &#123;</div><div class="line">        int f = 0;</div><div class="line">        for(int i = 0; i &lt; 18; i++) &#123;</div><div class="line">            if(token == keyword[i])</div><div class="line">                tokens.push(token), val.push_back(token), f = 1;</div><div class="line">        &#125;</div><div class="line">        if(f)	continue;</div><div class="line">        if(token[0] == &apos;&quot;&apos;)</div><div class="line">            tokens.push(&quot;SIGNWORDS&quot;), val.push_back(token), f = 1;</div><div class="line">        if(f)	continue;</div><div class="line">        if(isNumber(token))</div><div class="line">            tokens.push(&quot;NNN&quot;), val.push_back(token), f = 1;</div><div class="line">        if(f)	continue;</div><div class="line">        return 0;</div><div class="line">    &#125;</div><div class="line">    return 1;</div><div class="line">&#125;</div><div class="line">int main() &#123;</div><div class="line">//	freopen(&quot;in.txt&quot;, &quot;r+t&quot;, stdin);</div><div class="line">//	freopen(&quot;out.txt&quot;, &quot;w+t&quot;, stdout);</div><div class="line">    Grammar g;</div><div class="line">    parsingProduction(&quot;&lt;instruction&gt; 	-&gt; &lt;navigational&gt;&quot;, g);</div><div class="line">    parsingProduction(&quot;&lt;instruction&gt; 	-&gt; &lt;time-keeping&gt;&quot;, g);</div><div class="line">    parsingProduction(&quot;&lt;instruction&gt; 	-&gt; &lt;navigational&gt; AND &lt;time-keeping&gt;&quot;, g);</div><div class="line">    parsingProduction(&quot;&lt;navigational&gt; 	-&gt; &lt;directional&gt;&quot;, g);</div><div class="line">    parsingProduction(&quot;&lt;navigational&gt; 	-&gt; &lt;navigational&gt; AND THEN &lt;directional&gt;&quot;, g);</div><div class="line">    parsingProduction(&quot;&lt;directional&gt; 	-&gt; &lt;how&gt; &lt;direction&gt;&quot;, g);</div><div class="line">    parsingProduction(&quot;&lt;directional&gt; 	-&gt; &lt;how&gt; &lt;direction&gt; &lt;where&gt;&quot;, g);</div><div class="line">    parsingProduction(&quot;&lt;how&gt; 			-&gt; GO&quot;, g);</div><div class="line">    parsingProduction(&quot;&lt;how&gt; 			-&gt; GO &lt;when&gt;&quot;, g);</div><div class="line">    parsingProduction(&quot;&lt;how&gt;			-&gt; KEEP&quot;, g);</div><div class="line">    parsingProduction(&quot;&lt;direction&gt; 		-&gt; RIGHT&quot;, g);</div><div class="line">    parsingProduction(&quot;&lt;direction&gt;		-&gt; LEFT&quot;, g);</div><div class="line">    parsingProduction(&quot;&lt;when&gt;			-&gt; FIRST&quot;, g);</div><div class="line">    parsingProduction(&quot;&lt;when&gt;			-&gt; SECOND&quot;, g);</div><div class="line">    parsingProduction(&quot;&lt;when&gt;			-&gt; THIRD&quot;, g);</div><div class="line">    parsingProduction(&quot;&lt;where&gt; 			-&gt; AT &lt;sign&gt;&quot;, g);</div><div class="line">    parsingProduction(&quot;&lt;sign&gt;			-&gt; SIGNWORDS&quot;, g);</div><div class="line">    parsingProduction(&quot;&lt;time-keeping&gt; 	-&gt; &lt;record&gt;&quot;, g);</div><div class="line">    parsingProduction(&quot;&lt;time-keeping&gt;	-&gt; &lt;change&gt;&quot;, g);</div><div class="line">    parsingProduction(&quot;&lt;record&gt;			-&gt; RECORD TIME&quot;, g);</div><div class="line">    parsingProduction(&quot;&lt;change&gt;			-&gt; &lt;cas&gt; TO NNN KMH&quot;, g);</div><div class="line">    parsingProduction(&quot;&lt;cas&gt;			-&gt; CHANGE AVERAGE SPEED&quot;, g);</div><div class="line">    parsingProduction(&quot;&lt;cas&gt; 			-&gt; CAS&quot;, g);</div><div class="line">    g.start_symbol = &quot;&lt;instruction&gt;&quot;;</div><div class="line">        </div><div class="line">    g.fill_first_set();</div><div class="line">    g.fill_follow_set();</div><div class="line">    g.build_CFSM();</div><div class="line">    </div><div class="line">    char 	line[1024];</div><div class="line">    int 	cases = 0;</div><div class="line">    while(gets(line)) &#123;</div><div class="line">        if(!strcmp(line, &quot;#&quot;))</div><div class="line">            break;</div><div class="line">        queue&lt;string&gt; tokens;</div><div class="line">        vector&lt;string&gt; val;</div><div class="line">        int f = scanTokens(line, tokens, val);</div><div class="line">        printf(&quot;%3d.&quot;, ++cases);</div><div class="line">        if(!f) &#123;</div><div class="line">            puts(&quot; Trap!&quot;);</div><div class="line">            continue;</div><div class="line">        &#125;</div><div class="line">        f = g.slr1driver(tokens);</div><div class="line">        if(!f) &#123;</div><div class="line">            puts(&quot; Trap!&quot;);</div><div class="line">            continue;</div><div class="line">        &#125;</div><div class="line">        for(int i = 0; i &lt; val.size(); i++) &#123;</div><div class="line">            if(val[i][0] == &apos;&quot;&apos;)</div><div class="line">                for(int j = 0; j &lt; val[i].length(); j++)</div><div class="line">                    if(val[i][j] == &apos;_&apos;)</div><div class="line">                        val[i][j] = &apos; &apos;;</div><div class="line">            printf(&quot; %s&quot;, val[i].c_str());</div><div class="line">        &#125;</div><div class="line">        puts(&quot;&quot;);</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-345" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/19/oj/uva/uva-345/" class="article-date">
  <time datetime="2014-06-18T23:08:16.000Z" itemprop="datePublished">2014-06-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/19/oj/uva/uva-345/">UVa 345 - It&#39;s Ir-Resist-Able</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/06/19/oj/uva/uva-345/" data-id="ckkj23pqo039tn0vrhbvbmf4s" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/06/19/oj/uva/uva-345/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/高斯消去/">高斯消去</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>A common component in electronic circuits is the resistor. Each resistor has two terminals, and when current flows through a resistor, some of it is converted to heat, thus ``resisting”; the flow of the current. The extent to which it does this is indicated by a single positive numeric value, cleverly called the resistance of the resistor. By the way, the units of resistance are Ohms. Here’s what a single resistor looks like in a diagram of an electronic circuit:</p>
<p>When two resistors are connected in series, as shown below, then their equivalent resistance is just the sum of the resistances of the individual resistors. For example, if the two resistors below had resistances of 100 and 200 Ohms, respectively, then the combined resistance (from point A to point B) would be 300 Ohms. Of course, combining three or more resistors in series would yield a resistance equal to sum of all the individual resistances.</p>
<p>Resistors may also be connected in parallel, like this:</p>
<p>If these two resistors had resistances of 100 and 150 Ohms, then the parallel combination would yield an equivalent resistance between points A and B of</p>
<p>displaymath61</p>
<p>Connecting three resistors in parallel uses the same rule, so a 100 Ohm, 150 Ohm, and 300 Ohm resistor in parallel would yield a combined resistance of just 50 Ohms: that is,</p>
<p>displaymath63</p>
<p>In this problem you’re provided one or more descriptions of resistors and their interconnections. Each possible interconnection point (the terminals of a resistor) is identified by a unique positive integer, its label. And each resistor is specified by giving its two interconnection point labels and its resistance (as a real number).</p>
<p>For example, the input</p>
<p>1 2 100</p>
<p>would tell us that a 100 Ohm resistor was connected between points 1 and 2. A pair of resistors connected in series might be specified like this:</p>
<p>1 2 100<br>2 3 200</p>
<p>Here we’ve got our 100 Ohm resistor connected at points 1 and 2, and another 200 Ohm resistor connected to points 2 and 3. Two resistors in parallel would be similarly specified:</p>
<p>1 2 100<br>1 2 150</p>
<p>Once you know how the resistors are interconnected, and the resistance of each resistor, it’s possible to determine the equivalent resistance between any two points using the simple rules given above. In some cases, that is. Some interconnections of resistors can’t be solved using this approach: you won’t encounter any of these in this problem, however.</p>
<p>Notes</p>
<ul>
<li>Be aware that there may be input test cases with some resistors that don’t contribute to the overall resistance between the indicated points. For example, in the last case shown in the Sample Input section below, the resistor between points 1 and 2 is unused. There must be some flow through a resistor if it is to contribute to the overall resistance.</li>
<li>No resistor will have its ends connected together. That is, the labels associated with the ends of a resistor will always be distinct. </li>
</ul>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>There will be one or more cases to consider. Each will begin with a line containing three integers N, A, and B. A and B indicate the labels of points between which you are to determine the equivalent resistance. N is the number of individual resistors, and will be no larger than 30. N, A and B will all be zero in the line following the last case. Following each <code>N A B</code> line will be N lines, each specifying the labels of the points where a resistor is connected, and the resistance of that resistor, given as a real number.</p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>For each input case, display a line that includes the case number (they are numbered sequentially starting with 1) and the equivalent resistance, accurate to two decimal places.</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">2 1 3</div><div class="line">1 2 100</div><div class="line">2 3 200</div><div class="line">2 1 2</div><div class="line">1 2 100</div><div class="line">1 2 150</div><div class="line">6 1 6</div><div class="line">1 2 500</div><div class="line">1 3 15</div><div class="line">3 4 40</div><div class="line">3 5 100</div><div class="line">4 6 60</div><div class="line">5 6 50</div><div class="line">0 0 0</div></pre></td></tr></table></figure>
<h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Case 1: 300.00 Ohms</div><div class="line">Case 2: 60.00 Ohms</div><div class="line">Case 3: 75.00 Ohms</div></pre></td></tr></table></figure>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p><strong> 題目描述： </strong></p>
<p>給定指定的兩個端點 A B，接著會有 N 個電阻，每個電阻值位於端點 X Y 之間。<br>求 A B 之間的等效電阻，特別注意到端點編號是任意整數，並且有可能兩個端點相同 (A = B)，也有可能會有無會流經的電路區域。</p>
<p><strong> 題目解法： </strong></p>
<p>我們假設每個端點的電動勢 (Volt)，使用克希荷夫電路定律（Kirchhoff Circuit Laws）中的 <strong> 電流定律 </strong>，得到下列公式。</p>
<p>對於每一個端點而言，入電流總量等於出電流總量：</p>
<span>$\sum_{j = 1}^{n} \frac{V_{j} - V_{i}}{R_{i, j}} = 0$</span><!-- Has MathJax -->
<p>但是題目給定的起點和終點並不會在其中，因此假設起點 <code>V[A] = INF</code>，終點 <code>V[B] = 0</code>，接著算出其他所有點的電動勢。共有 <code>n - 2</code> 條方程式，<code>n - 2</code> 個變數，使用高斯消去求解。</p>
<ul>
<li>必須預處理與起點、終點之間的電流關係。</li>
<li>特別注意到起點和終點相同，直接輸出等效電阻 0。</li>
<li>端點編號離散化集中處理。</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt; </span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="comment">// learn: http://blog.csdn.net/jiangshibiao/article/details/28661223		</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 105</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 1e+6</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> eps 1e-9</span></div><div class="line"><span class="keyword">double</span> R[MAXN][MAXN] = &#123;&#125;, V[MAXN] = &#123;&#125;; <span class="comment">// R: resist, V: voltage</span></div><div class="line"><span class="keyword">double</span> f[MAXN][MAXN] = &#123;&#125;; <span class="comment">// function need solved;</span></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> N, A, B;</div><div class="line">    <span class="keyword">int</span> x, y, l;</div><div class="line">    <span class="keyword">int</span> cases = <span class="number">0</span>;</div><div class="line">    <span class="keyword">double</span> w;</div><div class="line">    <span class="keyword">char</span> s1[<span class="number">105</span>], s2[<span class="number">105</span>];</div><div class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>, &amp;N, &amp;A, &amp;B) == <span class="number">3</span>) &#123;</div><div class="line">        <span class="keyword">if</span>(N == <span class="number">0</span>)</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        <span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; label;</div><div class="line">        l = label[A];</div><div class="line">        <span class="keyword">if</span>(l == <span class="number">0</span>)	label[A] = label.size();</div><div class="line">        A = label[A];</div><div class="line">        </div><div class="line">        l = label[B];</div><div class="line">        <span class="keyword">if</span>(l == <span class="number">0</span>)	label[B] = label.size();</div><div class="line">        B = label[B];</div><div class="line">        </div><div class="line">        <span class="built_in">memset</span>(R, <span class="number">0</span>, <span class="keyword">sizeof</span>(R));</div><div class="line">        <span class="built_in">memset</span>(V, <span class="number">0</span>, <span class="keyword">sizeof</span>(V));</div><div class="line">        <span class="built_in">memset</span>(f, <span class="number">0</span>, <span class="keyword">sizeof</span>(f));</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">double</span>&gt; g[MAXN][MAXN];</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++) &#123;</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d %lf"</span>, &amp;x, &amp;y, &amp;w);</div><div class="line">            </div><div class="line">            l = label[x];</div><div class="line">            <span class="keyword">if</span>(l == <span class="number">0</span>)	label[x] = label.size();</div><div class="line">            x = label[x];</div><div class="line">            </div><div class="line">            l = label[y];</div><div class="line">            <span class="keyword">if</span>(l == <span class="number">0</span>)	label[y] = label.size();</div><div class="line">            y = label[y];</div><div class="line">            </div><div class="line">            g[x][y].push_back(w);</div><div class="line">            g[y][x].push_back(w);</div><div class="line">        &#125;</div><div class="line">        N = label.size();</div><div class="line"></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++) &#123;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= N; j++) &#123;</div><div class="line">                <span class="keyword">if</span>(g[i][j].size()) &#123;</div><div class="line">                    <span class="keyword">double</span> r = <span class="number">0</span>;</div><div class="line">                    <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; g[i][j].size(); k++) &#123;</div><div class="line">                        r += <span class="number">1.0</span> / g[i][j][k];</div><div class="line">                    &#125;</div><div class="line">                    R[i][j] = <span class="number">1.0</span> / r;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        V[A] = INF, V[B] = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++) &#123;</div><div class="line">            <span class="keyword">if</span>(i == A)	<span class="keyword">continue</span>;</div><div class="line">            <span class="keyword">if</span>(i == B)	<span class="keyword">continue</span>;</div><div class="line">            <span class="keyword">if</span>(R[i][A] &gt; <span class="number">0</span>)</div><div class="line">                f[i][i] -= <span class="number">1.0</span> / R[i][A], f[i][N + <span class="number">1</span>] -= V[A] / R[i][A];</div><div class="line">            <span class="keyword">if</span>(R[i][B] &gt; <span class="number">0</span>)</div><div class="line">                f[i][i] -= <span class="number">1.0</span> / R[i][B], f[i][N + <span class="number">1</span>] -= V[B] / R[i][B];</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= N; j++) &#123;</div><div class="line">                <span class="keyword">if</span>(R[i][j] &gt; <span class="number">0</span> &amp;&amp; i != j &amp;&amp; j != A &amp;&amp; j != B)</div><div class="line">                    f[i][j] = <span class="number">1.0</span> / R[i][j], f[i][i] -= <span class="number">1.0</span> / R[i][j];</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// Gaussian Elimination</span></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++) &#123;</div><div class="line">            <span class="keyword">int</span> k = i;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt;= N; j++)</div><div class="line">                <span class="keyword">if</span>(f[j][i] &gt; <span class="number">0</span>)</div><div class="line">                    k = j;</div><div class="line">            <span class="keyword">if</span>(<span class="built_in">fabs</span>(f[k][i]) &lt; eps)</div><div class="line">                <span class="keyword">continue</span>;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= N + <span class="number">1</span>; j++)</div><div class="line">                swap(f[i][j], f[k][j]);</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= N; j++) &#123;</div><div class="line">                <span class="keyword">if</span>(i == j)	<span class="keyword">continue</span>;</div><div class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k = N + <span class="number">1</span>; k &gt;= i; k--)</div><div class="line">                    f[j][k] = f[j][k] - f[j][i] / f[i][i] * f[i][k];</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++) &#123;</div><div class="line">            <span class="keyword">if</span>(i == A)	<span class="keyword">continue</span>;</div><div class="line">            <span class="keyword">if</span>(i == B)	<span class="keyword">continue</span>;</div><div class="line">            <span class="keyword">if</span>(<span class="built_in">fabs</span>(f[i][i]) &gt; eps)</div><div class="line">                V[i] = f[i][N + <span class="number">1</span>] / f[i][i];</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">double</span> IB = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</div><div class="line">            <span class="keyword">if</span>(R[i][B] &gt; <span class="number">0</span>)</div><div class="line">                IB += V[i] / R[i][B];</div><div class="line">        <span class="keyword">if</span>(<span class="built_in">fabs</span>(IB) &lt; eps)</div><div class="line">            <span class="built_in">printf</span>(<span class="string">"Case %d: %.2lf Ohms\n"</span>, ++cases, <span class="number">0</span>);</div><div class="line">        <span class="keyword">else</span></div><div class="line">            <span class="built_in">printf</span>(<span class="string">"Case %d: %.2lf Ohms\n"</span>, ++cases, (V[A] - V[B]) / IB);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-313" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/17/oj/uva/uva-313/" class="article-date">
  <time datetime="2014-06-16T23:19:14.000Z" itemprop="datePublished">2014-06-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/17/oj/uva/uva-313/">UVa 313 - Intervals</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/06/17/oj/uva/uva-313/" data-id="ckkj23pqh039qn0vrkasr1511" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/06/17/oj/uva/uva-313/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/幾何/">幾何</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/掃描線/">掃描線</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>In the ceiling in the basement of a newly open developers building a light source has been installed. Unfortunately, the material used to cover the floor is very sensitive to light. It turned out that its expected life time is decreasing dramatically. To avoid this, authorities have decided to protect light sensitive areas from strong light by covering them. The solution was not very easy because, as it is common, in the basement there are different pipelines under the ceiling and the authorities want to install the covers just on those parts of the floor that are not shielded from the light by pipes. To cope with the situation, the first decision was to simplify the real situation and, instead of solving the problem in 3D space, to construct a 2D model first.</p>
<p>Within this model, the x-axis has been aligned with the level of the floor. The light is considered to be a point light source with integer co-ordinates tex2html_wrap_inline36 . The pipes are represented by circles. The center of the circle i has the integer co-ordinates tex2html_wrap_inline40 and an integer radius tex2html_wrap_inline42 . As pipes are made from solid material, circles cannot overlap. Pipes cannot reflect the light and the light cannot go through the pipes. You have to write a program which will determine the non-overlapping intervals on the x-axis where there is, due to the pipes, no light from the light source.</p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>The input file consists of blocks of lines, each of which except the last describes one situation in the basement. The first line of each block contains a positive integer number N &lt; 500 expressing the number of pipes. The second line of the block contains two integers tex2html_wrap_inline48 and tex2html_wrap_inline50 separated by one space. Each of the next N lines of the block contains integers tex2html_wrap_inline54 , tex2html_wrap_inline56 and tex2html_wrap_inline42 , where tex2html_wrap_inline60 . Integers in individual lines are separated by one space. The last block consists of one line containing n = 0.</p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>The output file consists of blocks of lines, corresponding to the blocks in the file (except the last one). One empty line must be put after each block in the output file. Each of the individual lines of the blocks in the output file will contain two real numbers, the endpoints of the interval where there is no light from the given point light source. The reals are exact to two decimal places and separated by one space. The intervals are sorted according to increasing x-coordinate.</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">6</div><div class="line">300 450</div><div class="line">70 50 30</div><div class="line">120 20 20</div><div class="line">270 40 10</div><div class="line">250 85 20</div><div class="line">220 30 30</div><div class="line">380 100 100</div><div class="line">1</div><div class="line">300 300</div><div class="line">300 150 90</div><div class="line">1</div><div class="line">300 300</div><div class="line">390 150 90</div><div class="line">0</div></pre></td></tr></table></figure>
<h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">0.72 78.86</div><div class="line">88.50 133.94</div><div class="line">181.04 549.93</div><div class="line"></div><div class="line">75.00 525.00</div><div class="line"></div><div class="line">300.00 862.50</div></pre></td></tr></table></figure>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p><strong> 題目描述： </strong></p>
<p>現在天花板上面有一盞燈，然後下方有數個圓，請問陰影部分的區間由小至大輸出分別為何。<br>假設不會有圓的高度大於燈的位置，而陰影呈現在 x 軸上。</p>
<p><strong> 題目解法： </strong></p>
<p>求圓 (cx, cy, r) 外一點的切線，由於點 (a, b) 在圓外，通常此點切於圓的線會有兩條。</p>
<p>假設該線斜率為 m，則通過的線為 <code>y = m * (x - a) + b</code>。</p>
<p>藉由點線距公式 <code>|m * (cx - a) - cy + b |/sqrt(m*m + 1) = r</code>，求得 m 之後得到兩條切線，往後求交 x 軸的位置即可。(特別考慮 m 不存在的情況)</p>
<p>最後使用掃描線算法來算聯集。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div></pre></td><td class="code"><pre><div class="line">#include &lt;stdio.h&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;math.h&gt;</div><div class="line">using namespace std;</div><div class="line"></div><div class="line">int main() &#123;</div><div class="line">    int N;</div><div class="line">    double bx, by, cx, cy, cr;</div><div class="line">    while (scanf(&quot;%d&quot;, &amp;N) == 1 &amp;&amp; N) &#123;</div><div class="line">    	scanf(&quot;%lf %lf&quot;, &amp;bx, &amp;by);</div><div class="line">        vector&lt; pair&lt;double, double&gt; &gt; interval;</div><div class="line">        for (int i = 0; i &lt; N; i++) &#123;</div><div class="line">            scanf(&quot;%lf %lf %lf&quot;, &amp;cx, &amp;cy, &amp;cr);</div><div class="line">            double a, b, c;</div><div class="line">            a = (cx - bx) * (cx - bx) - cr * cr;</div><div class="line">            b = 2 * (cx - bx) * (by - cy);</div><div class="line">            c = (by - cy) * (by - cy) - cr * cr;</div><div class="line">            if (b * b - 4 * a * c &gt; 0) &#123;</div><div class="line">#define eps 1e-6</div><div class="line">                if (fabs(a) &gt; eps) &#123;</div><div class="line">                    double m1 = (-b + sqrt(b * b - 4 * a * c))/(2 * a);</div><div class="line">                    double m2 = (-b - sqrt(b * b - 4 * a * c))/(2 * a);</div><div class="line">                    double l, r;</div><div class="line">                    c = by - m1 * bx;</div><div class="line">                    l = -c / m1;</div><div class="line">                    c = by - m2 * bx;</div><div class="line">                    r = -c / m2;</div><div class="line">                    if (l &gt;= r)</div><div class="line">                        swap(l, r);</div><div class="line">                    interval.push_back(make_pair(l, r));</div><div class="line">                &#125; else &#123;</div><div class="line">                    double m1 = -c / b;</div><div class="line">                    double l, r;</div><div class="line">                    c = by - m1 * bx;</div><div class="line">                    l = -c / m1;</div><div class="line">                    r = bx;</div><div class="line">                    if (l &gt;= r)</div><div class="line">                        swap(l, r);</div><div class="line">                    interval.push_back(make_pair(l, r));</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        sort(interval.begin(), interval.end());</div><div class="line">        double coverL, coverR;</div><div class="line">        coverL = interval[0].first;</div><div class="line">        coverR = interval[0].second;</div><div class="line">        for (int i = 0; i &lt; interval.size(); i++) &#123;</div><div class="line">            if (interval[i].first &lt;= coverR) &#123;</div><div class="line">                coverR = max(coverR, interval[i].second);</div><div class="line">            &#125; else &#123;</div><div class="line">                printf(&quot;%.2lf %.2lf\n&quot;, coverL, coverR);</div><div class="line">                coverL = interval[i].first;</div><div class="line">                coverR = interval[i].second;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        printf(&quot;%.2lf %.2lf\n&quot;, coverL, coverR);</div><div class="line">        puts(&quot;&quot;);</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-10118" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/16/oj/uva/uva-10118/" class="article-date">
  <time datetime="2014-06-15T23:06:43.000Z" itemprop="datePublished">2014-06-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/16/oj/uva/uva-10118/">UVa 10118 - Free Candies</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/06/16/oj/uva/uva-10118/" data-id="ckkj23oip02lnn0vrspvfa8xj" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/06/16/oj/uva/uva-10118/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/dp/">dp</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/搜索/">搜索</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="The-Problem"><a href="#The-Problem" class="headerlink" title="The Problem"></a>The Problem</h2><p>Little Bob is playing a game. He wants to win some candies in it - as many as possible.</p>
<p>There are 4 piles, each pile contains N candies. Bob is given a basket which can hold at most 5 candies. Each time, he puts a candy at the top of one pile into the basket, and if there’re two candies of the same color in it ,he can take both of them outside the basket and put them into his own pocket. When the basket is full and there are no two candies of the same color, the game ends. If the game is played perfectly, the game will end with no candies left in the piles.</p>
<p>For example, Bob may play this game like this (N=5):</p>
<p>Step1     Initial Piles     Step2     Take one from pile #2<br>Piles     Basket     Pocket     Piles     Basket     Pocket</p>
<p>1 2 3 4<br>1 5 6 7<br>2 3 3 3<br>4 9 8 6<br>8 7 2 1</p>
<pre><code>nothing     nothing     
</code></pre><p>1   3 4<br>1 5 6 7<br>2 3 3 3<br>4 9 8 6<br>8 7 2 1</p>
<pre><code>2     nothing
</code></pre><p>Step3     Take one from pile #2     Step4     Take one from pile #3<br>Piles     Basket     Pocket     Piles     Basket     Pocket</p>
<p>1   3 4<br>1   6 7<br>2 3 3 3<br>4 9 8 6<br>8 7 2 1</p>
<pre><code>2 5     nothing     
</code></pre><p>1     4<br>1   6 7<br>2 3 3 3<br>4 9 8 6<br>8 7 2 1</p>
<pre><code>2 3 5     nothing
</code></pre><p>Step5     Take one from pile #2     Step6     put two candies into his pocket<br>Piles     Basket     Pocket     Piles     Basket     Pocket</p>
<p>1     4<br>1   6 7<br>2   3 3<br>4 9 8 6<br>8 7 2 1</p>
<pre><code>2 3 3 5     nothing     
</code></pre><p>1     4<br>1   6 7<br>2   3 3<br>4 9 8 6<br>8 7 2 1</p>
<pre><code>2 5     a pair of 3
</code></pre><p>Note that different numbers indicate different colors, there are 20 kinds of colors numbered 1..20.</p>
<p>‘Seems so hard…’Bob got very much puzzled. How many pairs of candies could he take home at most?</p>
<h2 id="The-Input"><a href="#The-Input" class="headerlink" title="The Input"></a>The Input</h2><p>The input will contain no more than 10 test cases. Each test case begins with a line containing a single integer n(1&lt;=n&lt;=40) representing the height of the piles. In the following n lines, each line contains four integers xi1,xi2,xi3,xi4 (in the range 1..20). Each integer indicates the color of the corresponding candy. The test case containing n=0 will terminate the input, you should not give an answer to this case.</p>
<h2 id="The-Output"><a href="#The-Output" class="headerlink" title="The Output"></a>The Output</h2><p>Output the number of pairs of candies that the cleverest little child can take home. Print your answer in a single line for each test case.</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">5</div><div class="line">1 2 3 4</div><div class="line">1 5 6 7</div><div class="line">2 3 3 3</div><div class="line">4 9 8 6</div><div class="line">8 7 2 1</div><div class="line">1</div><div class="line">1 2 3 4</div><div class="line">3</div><div class="line">1 2 3 4</div><div class="line">5 6 7 8</div><div class="line">1 2 3 4</div><div class="line">0</div></pre></td></tr></table></figure>
<h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">8</div><div class="line">0</div><div class="line">3</div></pre></td></tr></table></figure>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p><strong> 題目描述： </strong></p>
<p>現在盤面上共有 4 堆，每一堆呈現 stack 的方式，並且每一堆都會有 n 個糖果，接下來每一步將會把每一堆的 top 糖果放入籃子中，假使籃子中有相同編號的糖果，則會將這兩個相同編號的糖果收入口袋。請問到籃子滿 5 個糖果之前，最多有多少對的糖果可以帶回家。</p>
<p><strong> 題目解法： </strong></p>
<p>將搜索狀態進行標記，之後走訪遇到相同狀態直接退回。這個問題在相同狀態下的結果必然相同。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt; </span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 45</span></div><div class="line"><span class="keyword">int</span> N, pile[<span class="number">4</span>][MAXN];</div><div class="line"><span class="keyword">int</span> used[MAXN][MAXN][MAXN][MAXN] = &#123;&#125;, testcase = <span class="number">0</span>;</div><div class="line"><span class="keyword">int</span> dp[MAXN][MAXN][MAXN][MAXN];</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> p1, <span class="keyword">int</span> p2, <span class="keyword">int</span> p3, <span class="keyword">int</span> p4, <span class="keyword">int</span> state)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span>(__builtin_popcount(state) == <span class="number">5</span>)</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    <span class="keyword">if</span>(used[p1][p2][p3][p4] == testcase)</div><div class="line">        <span class="keyword">return</span> dp[p1][p2][p3][p4];</div><div class="line">    used[p1][p2][p3][p4] = testcase;</div><div class="line">    <span class="keyword">int</span> &amp;ret = dp[p1][p2][p3][p4];</div><div class="line">    <span class="keyword">int</span> t, v;</div><div class="line">    ret = <span class="number">0</span>;</div><div class="line">    <span class="keyword">if</span>(p1 &lt; N) &#123;</div><div class="line">        t = pile[<span class="number">0</span>][p1];</div><div class="line">        v = (state&gt;&gt;t)&amp;<span class="number">1</span>;</div><div class="line">        ret = max(ret, v + dfs(p1+<span class="number">1</span>, p2, p3, p4, state^(<span class="number">1</span>&lt;&lt;t)));</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span>(p2 &lt; N) &#123;</div><div class="line">        t = pile[<span class="number">1</span>][p2];</div><div class="line">        v = (state&gt;&gt;t)&amp;<span class="number">1</span>;</div><div class="line">        ret = max(ret, v + dfs(p1, p2+<span class="number">1</span>, p3, p4, state^(<span class="number">1</span>&lt;&lt;t)));</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span>(p3 &lt; N) &#123;</div><div class="line">        t = pile[<span class="number">2</span>][p3];</div><div class="line">        v = (state&gt;&gt;t)&amp;<span class="number">1</span>;</div><div class="line">        ret = max(ret, v + dfs(p1, p2, p3+<span class="number">1</span>, p4, state^(<span class="number">1</span>&lt;&lt;t)));</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span>(p4 &lt; N) &#123;</div><div class="line">        t = pile[<span class="number">3</span>][p4];</div><div class="line">        v = (state&gt;&gt;t)&amp;<span class="number">1</span>;</div><div class="line">        ret = max(ret, v + dfs(p1, p2, p3, p4+<span class="number">1</span>, state^(<span class="number">1</span>&lt;&lt;t)));</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ret;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;N) == <span class="number">1</span> &amp;&amp; N) &#123;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++)</div><div class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;pile[j][i]);</div><div class="line">        testcase++;</div><div class="line">        <span class="keyword">int</span> ret = dfs(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ret);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-lesson/operating-system-notes-2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/15/lesson/operating-system-notes-2/" class="article-date">
  <time datetime="2014-06-15T01:35:35.000Z" itemprop="datePublished">2014-06-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/學校課程/">學校課程</a>/<a class="article-category-link" href="/categories/學校課程/作業系統/">作業系統</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/15/lesson/operating-system-notes-2/">作業系統 筆記 (2)</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/06/15/lesson/operating-system-notes-2/" data-id="ckkj23o4g02bjn0vrr5azc9wq" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/06/15/lesson/operating-system-notes-2/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/作業系統/">作業系統</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <blockquote>
<p>精簡</p>
</blockquote>
<h2 id="Page-replacement-algorithm"><a href="#Page-replacement-algorithm" class="headerlink" title="Page-replacement algorithm"></a>Page-replacement algorithm</h2><ul>
<li>FIFO Algorithm<br>最先載入的 Page (即：Loading Time最小者)，優先視為 Victim Page。</li>
<li>Optimal Algorithm(OPT)<br>以 “將來長期不會使用的 Page Page” 視為Victim Page。</li>
<li>Least Recently Used Algorithm (LRU)<br>以 “最近不常使用的 Page Page” 視為Victim Page。<ul>
<li>緣由：LRU製作成本過高</li>
<li>作法：<ul>
<li>Second econd Chance ( 二次機會法則 )</li>
<li>Enhance nhance Second Chance ( 加強式二次機會法則 )</li>
</ul>
</li>
<li>有可能退化成 FIFO FIFO，會遇到 Belady 異常情況</li>
</ul>
</li>
<li>Second Chance (二次機會法則)<br>以 FIFO 法則為基礎，搭配 Reference Bit 使用，參照過兩次以上的 page 將不會被置換出去，除非全部都是參照兩次以上，將會退化成 FIFO。</li>
<li>Enhance Second Chance (加強式二次機會法則)<br>使用(Reference Bit Bit, Modification Bit Bit) 配對值作為挑選 Victim Page 的依據。對於沒有沒修改的 page 優先被置換，減少置換的成本。</li>
<li>Belady’s anomaly 當 Process 分配到較多的 Frame 數量，有時其 Page Fault Ratio 卻不降反升。</li>
</ul>
<table>
<thead>
<tr>
<th>Rank</th>
<th>Algorithm</th>
<th>Suffer from Belady’s anomaly</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Optimal</td>
<td>no</td>
</tr>
<tr>
<td>2</td>
<td>LRU</td>
<td>no</td>
</tr>
<tr>
<td>3</td>
<td>Second-chance</td>
<td>yes</td>
</tr>
<tr>
<td>4</td>
<td>FIFO</td>
<td>yes</td>
</tr>
</tbody>
</table>
<h2 id="Thrashing-振盪"><a href="#Thrashing-振盪" class="headerlink" title="Thrashing(振盪)"></a>Thrashing(振盪)</h2><p>當 CPU 效能低時，系統會想引入更多的 process 讓 CPU 盡可能地工作。但當存有太多 process 時，大部分的工作將會花費在 page fault 造成的 Page Replacement，致使 CPU 效率下降，最後造成 CPU 的效能越來越低。</p>
<h3 id="解決方法"><a href="#解決方法" class="headerlink" title="解決方法"></a>解決方法</h3><ul>
<li>[方法 1]<br>降低 Multiprogramming Degree。</li>
<li>[方法 2]<br>利用 Page Fault Frequency (Ratio) 控制來防止 Thrashing。</li>
<li>[方法 3]<br>利用 Working Set Model “預估 ” 各 Process 在不同執行時期所需的頁框數，並依此提供足夠的頁框數，以防止 Thrashing。<ul>
<li>作法<br>OS 設定一個Working Set Window (工作集視窗；Δ) 大小，以Δ 次記憶體存取中，所存取到的不同Page之集合，此一集合稱為 Working Set 。而Working Set中的Process個數，稱為 Working Set Size ( 工作集大小； WSS) 。</li>
</ul>
</li>
</ul>
<h2 id="Page"><a href="#Page" class="headerlink" title="Page"></a>Page</h2><ul>
<li>Page Size 愈小<ul>
<li>缺點<ul>
<li>Page fault ratio愈高</li>
<li>Page Table Size愈大</li>
<li>I/O Time (執行整個Process的I/O Time) 愈大</li>
</ul>
</li>
<li>優點<ul>
<li>內部碎裂愈小</li>
<li>Total I/O Time (單一Page的Transfer Time) 愈小</li>
<li>Locality愈集中</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="Fragmentation"><a href="#Fragmentation" class="headerlink" title="Fragmentation"></a>Fragmentation</h2><p>分成外部和內部碎裂 External &amp; Internal Fragmentation</p>
<h2 id="Deadlock-死結"><a href="#Deadlock-死結" class="headerlink" title="Deadlock(死結)"></a>Deadlock(死結)</h2><ul>
<li>成因<ol>
<li>mutual exclusion 資源互斥<br>一個資源只能分配給一個 process，不能同時分配給多個 process 同時使用。</li>
<li>hold-and-wait 擁有並等待<br>擁有部分請求的資源，同時等待別的 process 所擁有資源</li>
<li>no preemption 不可搶先<br>不可搶奪別的 process 已經擁有的資源</li>
<li>circular wait 循環等待<br>存有循環等待的情況  </li>
</ol>
</li>
</ul>
<h3 id="解決方法-1"><a href="#解決方法-1" class="headerlink" title="解決方法"></a>解決方法</h3><ul>
<li>Dead Lock Prevention<br>不會存有死結成因四條中的任何一條。</li>
<li>Dead Lock Avoidance<br>對運行的情況做模擬，找一個簡單的算法查看是否有解死結，但這算法可能會導致可解的情況，歸屬在不可解的情況。<ul>
<li>Use a. to get: <span>$\sum Need + \sum Allocation &lt; m + n$</span><!-- Has MathJax -->  </li>
<li>Use c. to get: <span>$\sum Need_{i} + m &lt; m + n$</span><!-- Has MathJax --> </li>
<li>Rewrite to get: <span>$\sum Need_{i} &lt; n$</span><!-- Has MathJax --> </li>
</ul>
</li>
<li>Dead Lock Detection &amp; Recovery<br>Recovery 成本太高</li>
</ul>
<h2 id="小問題"><a href="#小問題" class="headerlink" title="小問題"></a>小問題</h2><ul>
<li><blockquote>
<p>Propose two approaches to protect files in a file system.<br>檔案系統如何保護檔案？請提供兩種方式。</p>
</blockquote>
<p>  對檔案做加密動作，或者將檔案藏起－不可讀取。</p>
</li>
<li><blockquote>
<p>The system will enter deadlock if you cannot find a safe sequence for<br>  it, YES or NO? Please draw a diagram to explain your answer.<br>  如果找不到一個安全序列，是否就代表系統進入死結？</p>
</blockquote>
<p>  不會，因為找尋安全序列的方式通常是精心設計的通則，也就是說每個程序要求資源的方式都是可預期的運作，但實際上並不是如此，而且順序和運作都是各自獨立且不可預期，有可能途中就會釋放資源。</p>
</li>
<li><blockquote>
<p>spinlock mutex semaphore 三者的區分？</p>
</blockquote>
<p>  spinlock(自旋鎖)是一種佔有 CPU 效能的一種 busy waiting，而 mutex 和 semaphore 是一種根據一個資料物件來達到互斥的效果。</p>
<p>  就以 spinlock 來說，比較適合鎖較短的指令。相反地，mutex 和 semaphore 用於鎖住區域 (critical section) 的指令代碼。</p>
<p>  回過頭看 mutex 和 semaphore，mutex 只能限制單一程序進入 critical section，而 semaphore 可以自訂有多少程序可以進度 critical section，就以 binary semaphore 來說，其功能效應等同於 mutex。</p>
</li>
</ul>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-suicide-record" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/15/suicide-record/" class="article-date">
  <time datetime="2014-06-15T00:53:57.000Z" itemprop="datePublished">2014-06-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/雜言筆記/">雜言筆記</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/15/suicide-record/">大學生跳樓</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/06/15/suicide-record/" data-id="ckkj23mrj00g7n0vr2y6frxov" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/06/15/suicide-record/#disqus_thread" class="article-comment-link">Comments</a>
      
      
    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h1 id="關於"><a href="#關於" class="headerlink" title="關於"></a>關於</h1><p>跳樓這件事情越來越不稀奇，不只有在台灣，在中國大陸那邊也是頻頻出現的事件。</p>
<blockquote>
<p>近年来，有关大学生以及研究生，博士生自杀的新闻经常见诸报端，以至于让人们产生审自杀疲劳。当下除了清华北大的硕士博士跳楼自杀还能称之为新闻外，一些名不见经传的普通学校里的学生自杀，已经不能算新闻。</p>
<p>而最引人关注和热议的，无疑是2009年研究生杨元元的自杀身亡。她的信念是“知识可以改变命运”，可是和蔡某某一样，她奋斗多年学到了许多知识，名牌大学也毕业了，研究生也考上了，到了可以改变人生的时候了，但却没有任何起色，但却找不到理想的工作，不仅养不好家人与自己、解决不了面对的种种人生难题，反而越来越糟──“都说知识改变命运，为什么我学了那么多知识，也没见有什么改变？”此一问的背后是：活着又有何益呢？自杀成了她可悲的选择。<br><a href="http://blog.ifeng.com/article/32563817.html" target="_blank" rel="external">大学生自杀频现，教育之责何在？</a></p>
<p>《我奋斗了18年才和你坐在一起喝咖啡》</p>
</blockquote>
<h1 id="統計"><a href="#統計" class="headerlink" title="統計"></a>統計</h1><p>自殺不成的就沒有列，還有部分出現的新聞，但是網上缺資料。</p>
<ul>
<li>2012年11月26日<br>東吳大一女墜樓 發票留言:對不起</li>
<li>2013年02月20日<br>台大大四女學生 校園內跳樓輕生</li>
<li>2013年12月08日<br>台灣大學學生跳樓身亡「媽是否不要我」</li>
<li>2014年04月08日<br>中央大學博士生上吊自殺</li>
<li>2014年05月20日<br>中興大學 30 歲男碩士生校內 12 樓墜落身亡</li>
<li>2014年06月09日<br>政治大學法律系延畢生當晚回家跳樓</li>
</ul>
<h1 id="求資料"><a href="#求資料" class="headerlink" title="求資料"></a>求資料</h1>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-12598" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/14/oj/uva/uva-12598/" class="article-date">
  <time datetime="2014-06-14T01:00:08.000Z" itemprop="datePublished">2014-06-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/14/oj/uva/uva-12598/">UVa 12598 - Starting School</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/06/14/oj/uva/uva-12598/" data-id="ckkj23p8i030nn0vrunu9bxui" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/06/14/oj/uva/uva-12598/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/二分/">二分</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>The first day of school is a very memorable day to everyone. Po is starting school from today and Po is very excited. As this is Po’s first day at school, no one is assigned roll number yet. So all the students form a line in the school field and they are being assigned roll number one by one. The teacher is a bit crazy. Instead of assigning roll number from 1, she starts assigning them one by one in a random fashion. Po watches this madness for the first K students and then steps up. Po says Po can assign them very easily for the rest of the students. The idea is very simple. Roll number should be unique and a student should get the smallest roll number that has not been assigned yet to any of the students. For example if K = 4, total number of students are 10 and the first K students’ roll numbers are 1, 3, 5, 10 then the next 6 roll numbers should be 2, 4, 6, 7, 8 and 9.</p>
<blockquote>
<p>開學第一天是值得紀念的，Po 從今天開始在這所學校上課，他相當地興奮。Po 到達學校的第一天，沒有人被指派座號，因此所有的學生都在操場上等著被一個接著一個發送座號。老師有點喪心病狂，一開始從 1 號開始發送，但是他採用隨機發送，並沒有按著順序發。Po 看到前 K 位同學被這麼發送，Po 認為自己可以發送剩餘的學生編號，而發送方式相當簡單，將剩餘的最小座號發送給當前編號最小 (一開始規定學生編號為 1 - n) 的學生。</p>
<p>K = 4，一開始指派編號給 1 3 5 10 的學生座號，而剩餘座號就是發送順序為 2 4 6 7 8 9。</p>
</blockquote>
<p>Though this is a very good idea, the teacher got mad at Po. So she starts asking the roll number for various students. As there are many students, Po is feeling helpless. Can you help Po?</p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>First line will contain an integer T (T &lt;= 30), the number of test cases. Each case will start with three integers N (0 &lt; N &lt;= 109), K (0 &lt; K &lt;= 50,000 and K &lt;= N) and Q (0 &lt; Q &lt;= 50,000). N is the total number of students, K is described earlier and Q is the number of queries of the crazy teacher. Next line will contain K distinct integers, the first K roll number assigned by the teacher. These values will be between 1 and 1000000000 (inclusive). Next will be Q integers, each indicating a position of students. These values will be between 1 and N (inclusive). (Large input output file, use faster I/O)</p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>For each case print one line “Case T:” where T is the case number. Then for each query print one line with the roll number of the student standing on the queried position. See sample I/O for clarity.</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">2</div><div class="line">10 4 4</div><div class="line">1 3 5 2</div><div class="line">5 6 9 10</div><div class="line">10 3 2</div><div class="line">10 1 9</div><div class="line">4 10</div></pre></td></tr></table></figure>
<h2 id="Output-for-Sample-Input"><a href="#Output-for-Sample-Input" class="headerlink" title="Output for Sample Input"></a>Output for Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">Case 1:</div><div class="line">4</div><div class="line">6</div><div class="line">9</div><div class="line">10</div><div class="line">Case 2:</div><div class="line">2</div><div class="line">8</div></pre></td></tr></table></figure>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p><strong> 題目解法：</strong></p>
<p>將沒有分配到的連續區間壓縮，接著對於詢問二分搜索即可。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">int</span> A[<span class="number">65536</span>], B[<span class="number">65536</span>], C[<span class="number">65536</span>], D[<span class="number">65536</span>];</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> testcase, cases = <span class="number">0</span>, N, K, Q;</div><div class="line">    <span class="keyword">int</span> x, l, r;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;testcase);</div><div class="line">    <span class="keyword">while</span>(testcase--) &#123;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>, &amp;N, &amp;K, &amp;Q);</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= K; i++)</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;A[i]), B[i] = A[i];</div><div class="line">        sort(B + <span class="number">1</span>, B + <span class="number">1</span> + K);</div><div class="line">        B[<span class="number">0</span>] = <span class="number">0</span>, B[K+<span class="number">1</span>] = N + <span class="number">1</span>;</div><div class="line">        <span class="keyword">int</span> M = <span class="number">1</span>;</div><div class="line">        C[<span class="number">0</span>] = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= K + <span class="number">1</span>; i++) &#123;</div><div class="line">            l = B[i - <span class="number">1</span>] + <span class="number">1</span>, r = B[i] - <span class="number">1</span>;</div><div class="line">            <span class="keyword">if</span>(l &lt;= r) &#123;</div><div class="line">                C[M] = C[M - <span class="number">1</span>] + r - l + <span class="number">1</span>;</div><div class="line">                D[M] = l;</div><div class="line">                M++;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"Case %d:\n"</span>, ++cases);</div><div class="line">        <span class="keyword">while</span>(Q--) &#123;</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;x);</div><div class="line">            <span class="keyword">if</span>(x &lt;= K)</div><div class="line">                <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, A[x]);</div><div class="line">            <span class="keyword">else</span> &#123;</div><div class="line">                x -= K;</div><div class="line">                <span class="keyword">int</span> pos = lower_bound(C, C + M, x) - C;</div><div class="line">                <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, D[pos] + x - C[pos<span class="number">-1</span>] - <span class="number">1</span>);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>加速 IO 的做法如下，優化輸入函數，以及反饋的二分搜索，但是排名還是沒有達到想要的目標。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">int</span> A[<span class="number">65536</span>], B[<span class="number">65536</span>], C[<span class="number">65536</span>], D[<span class="number">65536</span>];</div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">readchar</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1048576</span>;</div><div class="line">    <span class="keyword">static</span> <span class="keyword">char</span> buf[N];</div><div class="line">    <span class="keyword">static</span> <span class="keyword">char</span> *p = buf, *end = buf;</div><div class="line">    <span class="keyword">if</span>(p == end) &#123;</div><div class="line">        <span class="keyword">if</span>((end = buf + fread(buf, <span class="number">1</span>, N, <span class="built_in">stdin</span>)) == buf) <span class="keyword">return</span> EOF;</div><div class="line">        p = buf;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> *p++;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">ReadInt</span><span class="params">(<span class="keyword">int</span> *x)</span> </span>&#123;</div><div class="line">    <span class="keyword">static</span> <span class="keyword">char</span> c, neg;</div><div class="line">    <span class="keyword">while</span>((c = readchar()) &lt; <span class="string">'-'</span>)    &#123;<span class="keyword">if</span>(c == EOF) <span class="keyword">return</span> <span class="number">0</span>;&#125;</div><div class="line">    neg = (c == <span class="string">'-'</span>) ? <span class="number">-1</span> : <span class="number">1</span>;</div><div class="line">    *x = (neg == <span class="number">1</span>) ? c-<span class="string">'0'</span> : <span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span>((c = readchar()) &gt;= <span class="string">'0'</span>)</div><div class="line">        *x = (*x &lt;&lt; <span class="number">3</span>) + (*x &lt;&lt; <span class="number">1</span>) + c-<span class="string">'0'</span>;</div><div class="line">    *x *= neg;</div><div class="line">    <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> testcase, cases = <span class="number">0</span>, N, K, Q;</div><div class="line">    <span class="keyword">int</span> x, l, r;</div><div class="line">    ReadInt(&amp;testcase);</div><div class="line">    <span class="keyword">while</span>(testcase--) &#123;</div><div class="line">        ReadInt(&amp;N);</div><div class="line">        ReadInt(&amp;K);</div><div class="line">        ReadInt(&amp;Q);</div><div class="line">        <span class="keyword">int</span> *p = A + <span class="number">1</span>, *q = B + <span class="number">1</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= K; i++, p++, q++) &#123;</div><div class="line">            ReadInt(p), *q = *p;</div><div class="line">        &#125;</div><div class="line">        sort(B + <span class="number">1</span>, B + <span class="number">1</span> + K);</div><div class="line">        B[<span class="number">0</span>] = <span class="number">0</span>, B[K+<span class="number">1</span>] = N + <span class="number">1</span>;</div><div class="line">        <span class="keyword">int</span> M = <span class="number">1</span>;</div><div class="line">        C[<span class="number">0</span>] = <span class="number">0</span>;</div><div class="line">        p = B, q = p+<span class="number">1</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= K + <span class="number">1</span>; i++, p = q++) &#123;</div><div class="line">            l = *p + <span class="number">1</span>, r = *q - <span class="number">1</span>;</div><div class="line">            <span class="keyword">if</span>(l &lt;= r) &#123;</div><div class="line">                C[M] = C[M - <span class="number">1</span>] + r - l + <span class="number">1</span>;</div><div class="line">                D[M] = l;</div><div class="line">                M++;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"Case %d:\n"</span>, ++cases);</div><div class="line">        <span class="keyword">int</span> prevX = <span class="number">0</span>, prevP = <span class="number">0</span>, pos;</div><div class="line">        <span class="keyword">while</span>(Q--) &#123;</div><div class="line">            ReadInt(&amp;x);</div><div class="line">            <span class="keyword">if</span>(x &lt;= K)</div><div class="line">                <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, A[x]);</div><div class="line">            <span class="keyword">else</span> &#123;</div><div class="line">                x -= K;</div><div class="line">                <span class="keyword">if</span>(x &gt;= prevX)</div><div class="line">                    pos = lower_bound(C + prevP, C + M, x) - C;</div><div class="line">                <span class="keyword">else</span></div><div class="line">                    pos = lower_bound(C, C + prevP, x) - C;</div><div class="line">                <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, D[pos] + x - C[pos<span class="number">-1</span>] - <span class="number">1</span>);</div><div class="line">                prevX = x, prevP = pos;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-11031" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/12/oj/uva/uva-11031/" class="article-date">
  <time datetime="2014-06-11T23:40:31.000Z" itemprop="datePublished">2014-06-12</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/12/oj/uva/uva-11031/">UVa 11031 - Looking for a Subset</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/06/12/oj/uva/uva-11031/" data-id="ckkj23ooh02oxn0vrojqqempt" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/06/12/oj/uva/uva-11031/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/BIT/">BIT</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Greedy/">Greedy</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>Given a set S = { a1, a2, a3, … , an }, you have to find a subset of S, P = { ax1, ax2, ax3, … , axm } such that ( x1 &lt; x2 &lt; … &lt; xm ) and ( ax1&lt; ax2&lt; … &lt; axm ). If there are several subsets possible then you should find the subset where x1 is minimum. If there is still a tie then check for the lowest x2 and so on.</p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>The input file contains several sets of inputs. The total number of test cases will be less than 25. The description of each set is given below:</p>
<p>Each case starts with two integers n (1 ≤ n ≤ 10000) and q (1 ≤ q ≤ 100), q is the number of queries. The next line contains n integers (seperated by a space) denoting a1, a2, a3, … , an respectively. And the next q lines, each contains an integer denoting m (1 ≤ m ≤ n). There is no number in the input file that contains more than 8 digits.</p>
<p>The input will be terminated by the case where n = q = 0. And this case should not be processed.</p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>For each case in the input, you should first print the case number starting from 1.<br>Then for each query first print the query number starting from 1. And for each m you have to find the result.<br>If there exists a subset as described above you should print the elements of the subset in a single line. The numbers should be seperated by a space.<br>Otherwise print ``Impossible’’ without the quotes.</p>
<p>See the sample input-output for more details. Output should be formatted like the sample output. </p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">6 3</div><div class="line">3 4 1 2 3 6</div><div class="line">6</div><div class="line">4</div><div class="line">5</div><div class="line">6 2</div><div class="line">2 4 6 1 3 5</div><div class="line">3</div><div class="line">4</div><div class="line">0 0</div></pre></td></tr></table></figure>
<h2 id="Output-for-Sample-Input"><a href="#Output-for-Sample-Input" class="headerlink" title="Output for Sample Input"></a>Output for Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">Set 1:</div><div class="line">  Subset 1:</div><div class="line">    Impossible</div><div class="line">  Subset 2:</div><div class="line">    1 2 3 6</div><div class="line">  Subset 3:</div><div class="line">    Impossible</div><div class="line">Set 2:</div><div class="line">  Subset 1:</div><div class="line">    2 4 6</div><div class="line">  Subset 2:</div><div class="line">    Impossible</div></pre></td></tr></table></figure>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p><strong> 題目描述：</strong></p>
<p>對於每次詢問 m，找到一個嚴格遞增的子序列，並且子序列長度等於 m 且字典順序最小。</p>
<p><strong> 題目解法：</strong></p>
<p>基於每次字典順序最小，只能採用 greedy 的掃描方式，因此對於每次詢問必須到達 O(n)，無法在 O(m) 的時間完成。</p>
<p>關於貪心的操作，建造反向的遞減序列，狀態為 從這個位置為子序列的頭最長的遞減序列長度為何。</p>
<p>為了在 O(n log n) 得到 LDS 表格，這裡使用一個 binary indexed tree 來完成操作。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div></pre></td><td class="code"><pre><div class="line">#include &lt;stdio.h&gt; </div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">using namespace std;</div><div class="line">#define maxN 10005</div><div class="line">int A[maxN], LDS[maxN];</div><div class="line">int BIT[maxN];</div><div class="line">void modify(int i, int val, int L) &#123;</div><div class="line">    while(i &lt;= L) &#123;</div><div class="line">        BIT[i] = max(BIT[i], val);</div><div class="line">        i += i&amp;(-i);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">int query(int i) &#123;</div><div class="line">    int ret = 0;</div><div class="line">    while(i) &#123;</div><div class="line">        ret = max(ret, BIT[i]);</div><div class="line">        i -= i&amp;(-i);</div><div class="line">    &#125;</div><div class="line">    return ret;</div><div class="line">&#125;</div><div class="line">inline int readchar() &#123;</div><div class="line">    const int N = 1048576;</div><div class="line">    static char buf[N];</div><div class="line">    static char *p = buf, *end = buf;</div><div class="line">    if(p == end) &#123;</div><div class="line">        if((end = buf + fread(buf, 1, N, stdin)) == buf) return EOF;</div><div class="line">        p = buf;</div><div class="line">    &#125;</div><div class="line">    return *p++;</div><div class="line">&#125;</div><div class="line">inline int ReadInt(int *x) &#123;</div><div class="line">    static char c, neg;</div><div class="line">    while((c = readchar()) &lt; &apos;-&apos;)    &#123;if(c == EOF) return 0;&#125;</div><div class="line">    neg = (c == &apos;-&apos;) ? -1 : 1;</div><div class="line">    *x = (neg == 1) ? c-&apos;0&apos; : 0;</div><div class="line">    while((c = readchar()) &gt;= &apos;0&apos;)</div><div class="line">        *x = (*x &lt;&lt; 3) + (*x &lt;&lt; 1) + c-&apos;0&apos;;</div><div class="line">    *x *= neg;</div><div class="line">    return 1;</div><div class="line">&#125;</div><div class="line">int main() &#123;</div><div class="line">    int N, Q, M, u;</div><div class="line">    int cases = 0;</div><div class="line">    while(ReadInt(&amp;N) &amp;&amp; ReadInt(&amp;Q) &amp;&amp; N+Q) &#123;</div><div class="line">        map&lt;int, int&gt; R;</div><div class="line">        for(int i = 0; i &lt; N; i++) &#123;</div><div class="line">            ReadInt(A+i);</div><div class="line">            R[A[i]] = 0;</div><div class="line">        &#125;</div><div class="line">        for(int i = 1; i &lt;= N; i++)</div><div class="line">            BIT[i] = 0;</div><div class="line">            </div><div class="line">        int size = R.size();</div><div class="line">        for(map&lt;int, int&gt;::iterator it = R.begin();</div><div class="line">            it != R.end(); it++) &#123;</div><div class="line">            it-&gt;second = size--;</div><div class="line">        &#125;</div><div class="line">        /* reverse LDS with ending at i-th element */</div><div class="line">        int maxLDS = 0;</div><div class="line">        for(int i = N-1; i &gt;= 0; i--) &#123;</div><div class="line">            LDS[i] = query((u = R[A[i]]) - 1) + 1;</div><div class="line">            modify(u, LDS[i], R.size());</div><div class="line">            maxLDS = max(maxLDS, LDS[i]);</div><div class="line">        &#125;</div><div class="line">        printf(&quot;Set %d:\n&quot;, ++cases);</div><div class="line">        for(int i = 1; i &lt;= Q; i++) &#123;</div><div class="line">            ReadInt(&amp;M);</div><div class="line">            printf(&quot;  Subset %d:\n&quot;, i);</div><div class="line">            if(M &gt; maxLDS) &#123;</div><div class="line">                printf(&quot;    Impossible\n&quot;);</div><div class="line">                continue;</div><div class="line">            &#125;</div><div class="line">            printf(&quot;   &quot;);</div><div class="line">            int prevA = -0x3f3f3f3f;</div><div class="line">            for(int j = 0; j &lt; N &amp;&amp; M; j++) &#123;</div><div class="line">                if(LDS[j] &gt;= M &amp;&amp; prevA &lt; A[j]) &#123;</div><div class="line">                    printf(&quot; %d&quot;, A[j]);</div><div class="line">                    M--, prevA = A[j];</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            puts(&quot;&quot;);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-lesson/consumption-final" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/10/lesson/consumption-final/" class="article-date">
  <time datetime="2014-06-10T00:31:53.000Z" itemprop="datePublished">2014-06-10</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/學校課程/">學校課程</a>/<a class="article-category-link" href="/categories/學校課程/通識課程/">通識課程</a>
  </div>

  </div>
  <div class="article-inner ">
    
<div class="article-gallery">
  <div class="article-gallery-photos">
    
      <a class="article-gallery-img fancybox" href="/img/1402224448094.jpg" rel="gallery_ckkj23o26029sn0vrft1qnkrq">
        <img src="/img/1402224448094.jpg" itemprop="image">
      </a>
    
  </div>
</div>

    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/10/lesson/consumption-final/">當代消費文化與社會 (3)</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/06/10/lesson/consumption-final/" data-id="ckkj23o26029sn0vrft1qnkrq" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/06/10/lesson/consumption-final/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/通識/">通識</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <blockquote><p>作文本文：</p>
<p>看到今年作文的題目：人只有站著世界才屬於他，這使我突然想起一個中國的近代作家的墓誌銘：我死後請將我站著埋葬，因為我活著的時候一直都跪著。</p>
<p>這是一個生在新中國，長在紅旗下的作家，他直到臨死的時候才發出這樣的哀鳴，可見他還是人性未泯，知道跪著的屈辱和站著的不宜。的確，半個世紀以來，中國 人中並不缺少想站著活的人，但他們無一例外成為了“杯具”，我記得其中幾個人的名字：林紹，為了站著說出真理，她被子彈打爆了纖弱的頭顱，並且，他的親人 還要再花上5毛錢來購買奪取親人生命的那顆子彈。楊佳，為了站著討要一個說法，他同樣是被子彈打碎了心臟，唯一和林紹不同的是，他的親人不需要再花錢購買 那顆子彈，這也算是一種時代的進步吧。夏俊峰，僅僅為了站著擺個養家糊口的小攤，他被注射執行了死刑，留了個全屍，感謝黨國的恩典啊！</p>
<p>襯托著以上想站著活著的許多“悲劇”，許多跪著活著的“喜劇”卻不斷挑逗著我們的神經：余秋雨，一個本來才氣橫溢的文化人，為了幾斗米而折腰，留下了“含 淚勸告災民書”這樣的令所有文化人蒙羞的文章。王兆山，一個高居省作協主席的所謂詩人，一首“黨疼國愛，縱做鬼也幸福”的神詩，創造了馬屁文章的又一個巔 峰。胡錫進，環球時報總編，一個堅持論證屎比肉香的報人。他們雖然拋棄了站著活的尊嚴，卻換來了榮華富貴。</p>
<p>今日之中國，“夢”是一個牛逼的不能再牛逼的字詞了，本來最最簡單的站著活著，怎麼就成為了中國人最遙不可及的夢想了呢？如果不是，今天的作文題目就不可 能是這樣的一個題目，在一個正常的社會，站著活著是一個再正常不過的事情了，能夠站著，這個世界上沒有人願意跪著。出題的老師想必也為此困惑，本來是教書 育人的老師，現在成了應試教育這輛戰車上的一個道具或者說是幫兇，學習的目的早已經不是學習知識造福人類這麼單純了，老師的榮譽與收入都和升學率捆綁在了 一起，為了升學率與收入，老師都跪下了，跪在了現實的利益與權力面前。但是，你們既然已經跪下了，為什麼還用這種趙構指鹿為馬的二逼遊戲來挑逗你們的學生 們呢？學生如果站著寫這篇作文，零分估計是跑不掉的，但是，跪著寫站著的讚歌，你們不覺得這樣很殘忍嗎？</p>
<p>我深深地知道，我今天坐在這裡來作這樣一篇作文，我所背負的責任，這是我十二年的寒窗苦讀的艱辛，這是我農民工父母縮衣節食，望子成龍的殷切期盼。這是我 的未來是在工地上搬磚頭還是坐到有空調的寫字樓裡瀟灑最關鍵的時刻。以我的文采，如果你們出一道風花雪月的文章，我劃拉幾筆就對付了，可是，既然你們出了 這樣一個嚴肅的題目，我今天就豁出去得零分大聲地對全世界說：在今天的中國，站著相比於跪著，意味著高考作文得零分，未來只有去搬磚頭。意味著活著艱難甚 至失去生命，如夏俊峰。老師如果站著教書育人，就會失去心愛的講堂，因為這樣會影響升學率。醫生如果站著救死扶傷，他就會被其他收受醫藥廠家回扣的醫生排 擠而失去醫生的工作。員警如果站著執法如山，他就會被貪贓枉法的上司“休假式治療”。在中國，站著不但不能擁有整個世界，恰恰相反，你將失去整個世界，包 括愛你的親人和朋友</p>
<p>也許在很久以後的未來，我們的孩子的孩子們的時代了，那時候自由之光普照大地，每一個站著的人們，或面朝大海，或面朝松濤，能夠大聲地發出沒有強權脅迫的聲音，這聲音，比擁有整個世界還令人期待，令人嚮往！！！</p>
<p>老師：有站著的自由，難道不比擁有整個世界更重要嗎？</p>
<footer><strong>中國高考傳出零分作文︰「自由比擁有世界更重要」</strong><cite><a href="http://news.ltn.com.tw/news/world/breakingnews/1026779" target="_blank" rel="external">news.ltn.com.tw/news/world/breakingnews/1026779</a></cite></footer></blockquote>
<h1 id="此篇要點"><a href="#此篇要點" class="headerlink" title="此篇要點"></a>此篇要點</h1><ul>
<li>期末要繳交本課程學期心得，採以小組繳交。</li>
<li>詳細不明，所以可以個別心得知後彙整？還是著手類似報告書的方式進行？</li>
<li>講得再多、心得再多，通通只不過是理論、理想層面。這些對於我們的反思並沒有任何意義，充其量就是知道，然仍不會去實踐的現實，處事圓滑就是這麼回事。</li>
<li>乃屬反社會化一派</li>
</ul>
<h1 id="課程收錄"><a href="#課程收錄" class="headerlink" title="課程收錄"></a>課程收錄</h1><h2 id="第-1-週-課程簡介簡報"><a href="#第-1-週-課程簡介簡報" class="headerlink" title="第 1 週 課程簡介簡報"></a>第 1 週 課程簡介簡報</h2><blockquote>
<p>所有企業都是誘拐犯，</p>
</blockquote>
<p>企業製造商品，開始讓我們這些生活在這個世代的人不知不覺地習慣它，不知不覺地在任何情況下被催眠去購買。在這樣的情況下，很多文化節日中，什麼節日要過什麼樣的活動、要買什麼樣的禮物早已是商人們的目標所在，很多項目早已「被消費」而我們對於發自自己的想法就越來越少，接受商人們的建議，忘了自己想要做得事情，最後就認為自己根本沒有必要去做那些事情。</p>
<blockquote>
<p>「便利即是一切，大家都這麼做，為什麼要與他人相異？」</p>
</blockquote>
<h2 id="第-2-週-當代消費社會的來臨簡報"><a href="#第-2-週-當代消費社會的來臨簡報" class="headerlink" title="第 2 週 當代消費社會的來臨簡報"></a>第 2 週 當代消費社會的來臨簡報</h2><p>在我眼前所見，這一切都是在催眠，「正因為我們更容易見到彼此，使得我們更在乎彼此。」這一個弱點被商人們抓得死死，逐漸地商品不只有生活基礎所需，需要一個突顯自我的代號，而效果最為顯著的就是使用的物品。</p>
<p>一個人使用什麼商品、習慣參與或在哪一個環境，將成為一個人的特徵，如果沒有這些特徵，對於自我存在的認同就會迷失。在過往的人類中，忙碌使得他們少有時間去思考這些問題，因此將會自然地演化出他們的特徵，而在現今就不同，我們具有額外的時間來裝扮自己，但是裝扮則是由別人來決定，而我們則是選擇消費。這表示著什麼？－將不具有特徵，只是個複製。</p>
<blockquote>
<p>即使包裝地再好，但我們卻沒有擁有自己。</p>
</blockquote>
<h2 id="第-3-週-消費社會學的理論介紹簡報"><a href="#第-3-週-消費社會學的理論介紹簡報" class="headerlink" title="第 3 週 消費社會學的理論介紹簡報"></a>第 3 週 消費社會學的理論介紹簡報</h2><p>「認同」是行為的最終目標，消費則是在行為過程中的描述，而消費使否能體現於現實？這並不全然。如果為追求理想而產出的理念，中間歷經的辛苦算是消費嗎？我們的理念也是需要被認同的！但是這卻不算是消費行為，「努力」一詞難道就是在消費以外的存在。</p>
<blockquote>
<p>我就是那麼一個異教徒，因為堅信別人不認同的理念。</p>
</blockquote>
<p>炫耀性消費這的確令人討厭，這一切的價值觀全都錯亂，「擁有的確令人忌妒，沒有仍可令人輕鬆。」但是我們都是受虐狂，不斷地想要擁有，更增添了自己的憂愁。天生沒有憂愁感測器的人也是存在於世的，這與生長背景有關，通常是生活富裕或者沒有經歷過巨大挫折者。</p>
<h2 id="第-4-週-商品、符號象徵與廣告簡報"><a href="#第-4-週-商品、符號象徵與廣告簡報" class="headerlink" title="第 4 週 商品、符號象徵與廣告簡報"></a>第 4 週 商品、符號象徵與廣告簡報</h2><p>對於一個人的第一印象，如果從「他/她個性很好、思考很機靈 …」到「他/她有 XXX 商品、用什麼、穿什麼 …」那明顯地，我們將開始利用商品來聯想到一個人。</p>
<p>廣告是企業推銷產品的唯一手法，即使是老字號的商品，雖然不用多新奇的廣告內容，但仍需要一段時間就出來宣傳一下 (通常是很長一段時間)。因為廣告效果在世代繼承方面沒有顯著的效果，在每一個世代所偏好的內容不同，因此廣告也必須跟著世代掛勾，這也是為什麼廣告層不窮地想要抓住新的世代來購買他們的商品。</p>
<p>廣告面相不斷地針對年輕族群，甚至對小孩下手，這些在短時間內看不出影響所在，但是長期對於價值觀培養是有一定影響，這可怕之處只有成年人才明白，新的廣告便對成年人的影響力並不高，但是只要從小還是培養 (調教) 將可以終生受用，這是一場可怕的催眠實驗。</p>
<blockquote>
<p>如果人類是有智慧的生物，那小孩到底算不算人類。</p>
</blockquote>
<h2 id="第-5-週-消費者、文化資本與生活風格簡報"><a href="#第-5-週-消費者、文化資本與生活風格簡報" class="headerlink" title="第 5 週 消費者、文化資本與生活風格簡報"></a>第 5 週 消費者、文化資本與生活風格簡報</h2><p>講到情感消費，可謂是情有獨鍾，又或者是曾經因為人生歷史事件而去接觸商品，讓人流連忘返的回憶，而標記物恰好是商品。那種浪漫的事情是多麼崇高啊！一生所追尋得就是這一類型的事情，當然指得並不是黑歷史。</p>
<p>一個人的品味到底有多重要？品味將會反映在生活周遭，買什麼用什麼、會交到什麼朋友 … 等，這一切會從品味著手，而也會有想要轉移目標而改變自己品味的情況，那種契機同時也是消費手段，因此企業也會嘗試將大眾的願景改變，來達到商品推銷。</p>
<h2 id="第-6-週-日本-kawaii-流行文化與消費簡報李世暉"><a href="#第-6-週-日本-kawaii-流行文化與消費簡報李世暉" class="headerlink" title="第 6 週 日本 kawaii 流行文化與消費簡報李世暉"></a>第 6 週 日本 kawaii 流行文化與消費簡報李世暉</h2><h2 id="第-7-週-全球化、跨國公司與消費簡報"><a href="#第-7-週-全球化、跨國公司與消費簡報" class="headerlink" title="第 7 週 全球化、跨國公司與消費簡報"></a>第 7 週 全球化、跨國公司與消費簡報</h2><h2 id="對課程的心得反思"><a href="#對課程的心得反思" class="headerlink" title="對課程的心得反思"></a>對課程的心得反思</h2><p>以上只是部分的課堂筆記，看著其他人寫的心得，我想這應該是要寫對於這門課的心得。我選這門課的原因既不是因為學分不夠，也不是提升學期排名推研究所用途。如果事實如此，這門課就成為被消費的對象，無緣無故地，我們被學校催眠要修這些課程，學校企業也是很可怕的象徵。會有這樣的想法是在修這門課之前就有，而在修這門課又有更加地加深信心，這一切的看法只是單純來自於一個反社會化的怪人，不能大聲說出任何課程的好壞，但增加的是經驗與觀感，必須保有自己的看法，增加思考突變性，否則就只是被世間催眠的對象。</p>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-11638" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/10/oj/uva/uva-11638/" class="article-date">
  <time datetime="2014-06-10T00:04:39.000Z" itemprop="datePublished">2014-06-10</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/10/oj/uva/uva-11638/">UVa 11638 - Temperature Monitoring</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/06/10/oj/uva/uva-11638/" data-id="ckkj23osu02ron0vr8cbvukvi" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/06/10/oj/uva/uva-11638/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/模擬/">模擬</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>We have a device to monitor temperature. After configuring it, we place it inside the chamber whose temperature we wish to monitor. The device is equipped with four alarms each of which can be configured differently. The Alarms are identified by the numbers 1, 2, 3 and 4.  The device takes a reading of its surrounding at a regular interval.</p>
<p>In this problem you will be simulating the behavior of such a device.</p>
<blockquote>
<p>我們有一個監測溫度裝置，在安裝配置後，將其放入所要監控溫度的室內。這個裝置共有四個警報器，分別編號為 1, 2, 3, 4，這些警報器將會每隔固定一段時間進行溫度檢測。<br>在這個問題中，請模擬這裝置的行為。</p>
</blockquote>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>The first line of input contains a positive integer T&lt;101, which denotes the number of test cases. Each case consists of several lines which are described below. </p>
<blockquote>
<p>輸入第一行為測資筆數 T (T &lt; 101)</p>
</blockquote>
<p>The first line contains a positive integer M, which denotes the measurement interval. That is, the device takes a reading every M seconds. </p>
<blockquote>
<p>每一組測資第一行為一個正整數 M，表示裝置每隔 M 秒會進行偵測。</p>
</blockquote>
<p>The second line contains a non-negative integer S, which denotes the ‘Startup delay’. This is the amount of time that the device will remain idle after placing inside the chamber before it takes its first reading. The device will instantly take a reading when the ‘Startup delay’ ends.</p>
<blockquote>
<p>第二行為一個非負整數 S，表示裝置在前 S 秒正在安裝，這段時間機器將不會進行偵測，在安裝完後，將會立即地進行檢測。</p>
</blockquote>
<p>The third line contains four integers. The integers give the threshold temperature for alarm 1,2,3,4 respectively. Here threshold temperature means, when a recorded temperature crosses this temperature the corresponding alarm will be triggered.</p>
<blockquote>
<p>第三行會有 4 個正整數，分別表示警報器 1, 2, 3, 4 的警報閥值 (根據閥值進行溫度比較)</p>
</blockquote>
<p>The fourth line contains a non-negative integer C. The least significant 8 bits of this integer represents the configurations of the four alarms. The rightmost 4 bits (bit 0 to 3) determine if the alarms are enabled(bit value 1) or disabled(bit value 0). For example, if the bits are set as 0011, this means Alarm 1 and 2 are enabled and Alarm 3 and 4 are disabled. If an alarm is disabled, it will never be triggered.</p>
<blockquote>
<p>第四行將會有一個非負整數 C，用最低的 8 個 bits 表示警報器的設定，最右邊的 4 個 bits (bit 0 to bit 3) 表示警報器是否有啟動 (1 表示有啟動，反之則否)，例如 0011 表示警報器 1, 2 被啟動，3, 4 則沒有被啟動。如果警報器沒有被啟動，則將不會被觸發。</p>
</blockquote>
<p>The next 4 bits(bits 4 to 7) determine the triggering type of each alarm. A value of 0 means, it’s a low trigger and a value of 1 means it’s a high trigger. For example, if the bits are set as 1100, this means Alarm 1 and 2 are set for low trigger and Alarm 3 and 4 for high trigger. Here high trigger means if a recorded temperature is above the set threshold temperature for an alarm, it will be triggered. Similarly, a Low trigger means if a recorded temperature is below the set threshold temperature for an alarm, that alarm will be triggered.</p>
<blockquote>
<p>接下來的 4 個 bits 將會決定警報器的類型，亦即表示 1 高觸發 (大於閥值觸發) 0 表示低觸發 (低於閥值觸發)。例如 1100，警報器 1, 2 將會是低觸發，3, 4 則會是高觸發。</p>
</blockquote>
<p>The fifth line contains a positive integer K&lt;=100. The following K lines contain a pair of integers each in the format time temp. Here time represents the duration of a period with constant temperature and temp indicates the temperature of the environment in that period. Note that, time is always positive. The time value of first pair indicates the period immediately following the placement of the device inside the environment to be monitored. Successive time values indicate the duration of periods in the order they occur. The temperature at the border regions is considered to be that of the period just ending. Also, the temperature at the very beginning is that of the first period. Every value in the input will fit in 32 bit signed integer.</p>
<blockquote>
<p>第五行將會有一個正整數 K，表示接下來依序發生的時間情況。將會從時間 0 開始，依序播報 (duration, temp) 表示新的溫度持續多久 (duration)。假設所有數據皆可以在 32 bits 內。</p>
</blockquote>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>For each case of input, there will be one line of output. It will first contain the case number, followed by the triggering status of each of the four alarms. The triggering status will contain four strings of either yes or no, separated by a space. The first string will be yes if alarm 1 was triggered at least once and no otherwise. The second string will be the status of alarm 2 and so on. Look at the sample output for exact formatting.</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">2</div><div class="line">5</div><div class="line">5</div><div class="line">5 10 15 20</div><div class="line">15</div><div class="line">1</div><div class="line">5 15</div><div class="line">1</div><div class="line">0</div><div class="line">5 10 15 20</div><div class="line">7</div><div class="line">2</div><div class="line">10 15</div><div class="line">10 20</div></pre></td></tr></table></figure>
<h2 id="Output-for-Sample-Input"><a href="#Output-for-Sample-Input" class="headerlink" title="Output for Sample Input"></a>Output for Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Case 1: no no no yes</div><div class="line">Case 2: no no no no</div></pre></td></tr></table></figure>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>題目相當令人討厭，因為區間涵蓋沒有講得很清楚。</p>
<p>但是最後可以明白的是</p>
<blockquote>
<p>[ti, tj][tj, tk] 其中 ti &lt; tj &lt; tk，我們在討論觸發的時候，端點是需要被考慮的。</p>
</blockquote>
<p>詳細操作，詳見代碼。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt; </span></span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> testcase, cases = <span class="number">0</span>;</div><div class="line">    <span class="keyword">int</span> M; <span class="comment">/* the device takes a reading every M seconds. */</span></div><div class="line">    <span class="keyword">int</span> S; <span class="comment">/* The device will instantly take a reading when the ‘Startup delay’ ends. */</span></div><div class="line">    <span class="keyword">int</span> threshold[<span class="number">4</span>]; <span class="comment">/* */</span></div><div class="line">    <span class="keyword">int</span> C; <span class="comment">/* */</span></div><div class="line">    <span class="keyword">int</span> enable[<span class="number">4</span>], trigger[<span class="number">4</span>]; <span class="comment">/* trigger 0 &lt;, 1 &gt; */</span></div><div class="line">    <span class="keyword">int</span> K, time, temp;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;testcase);</div><div class="line">    <span class="keyword">while</span>(testcase--) &#123;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;M);</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;S);</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;threshold[i]);</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;C);</div><div class="line">        </div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</div><div class="line">            enable[i] = (C&gt;&gt;i)&amp;<span class="number">1</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">4</span>; i &lt; <span class="number">8</span>; i++)</div><div class="line">            trigger[i - <span class="number">4</span>] = (C&gt;&gt;i)&amp;<span class="number">1</span>;</div><div class="line">        </div><div class="line">        <span class="keyword">int</span> result[<span class="number">4</span>] = &#123;&#125;;</div><div class="line">        <span class="keyword">int</span> now_time = <span class="number">0</span>, L, R;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;K);</div><div class="line">        <span class="keyword">while</span>(K--) &#123;</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;time, &amp;temp);</div><div class="line">            L = now_time;</div><div class="line">            R = now_time + time;</div><div class="line">            <span class="keyword">if</span>(R &lt; S) &#123;</div><div class="line">                </div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                <span class="keyword">int</span> last_read = R / M * M;</div><div class="line">                <span class="keyword">if</span>(L &lt;= last_read &amp;&amp; last_read &lt;= R &amp;&amp; last_read &gt;= S) &#123;</div><div class="line">                    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</div><div class="line">                        <span class="keyword">if</span>(trigger[i] == <span class="number">0</span>) &#123;</div><div class="line">                            result[i] |= (temp &lt; threshold[i])&amp;enable[i];</div><div class="line">                        &#125; <span class="keyword">else</span> &#123;</div><div class="line">                            result[i] |= (temp &gt; threshold[i])&amp;enable[i];</div><div class="line">                        &#125;</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            now_time = R;</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"Case %d:"</span>, ++cases);</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</div><div class="line">            <span class="built_in">printf</span>(<span class="string">" %s"</span>, result[i] ? <span class="string">"yes"</span> : <span class="string">"no"</span>);</div><div class="line">        <span class="built_in">puts</span>(<span class="string">""</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"> </div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/74/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/73/">73</a><a class="page-number" href="/page/74/">74</a><span class="page-number current">75</span><a class="page-number" href="/page/76/">76</a><a class="page-number" href="/page/77/">77</a><span class="space">&hellip;</span><a class="page-number" href="/page/83/">83</a><a class="extend next" rel="next" href="/page/76/">Next &raquo;</a>
    </nav>
  
</section>
          
          
            <aside id="sidebar">
  <!-- <div id="ukagaka_panel"></div> -->
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/">學校課程</a><span class="category-list-count">115</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/介面設計/">介面設計</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/作業系統/">作業系統</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/即時系統/">即時系統</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/大學專題/">大學專題</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/巨量資料/">巨量資料</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/平行程式/">平行程式</a><span class="category-list-count">43</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/敏捷方法/">敏捷方法</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/數位影像生成/">數位影像生成</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/編譯器/">編譯器</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/自然語言/">自然語言</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/虛擬實境/">虛擬實境</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/計算型智慧/">計算型智慧</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/計算幾何/">計算幾何</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/計算機圖學/">計算機圖學</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/資料庫系統/">資料庫系統</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/資訊安全/">資訊安全</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/通識課程/">通識課程</a><span class="category-list-count">14</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/">工作應用</a><span class="category-list-count">19</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/Java/">Java</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/可持久化/">可持久化</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/鬼故事/">鬼故事</a><span class="category-list-count">9</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/手札日記/">手札日記</a><span class="category-list-count">43</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/">網頁設計</a><span class="category-list-count">15</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/About-This-Blog/">About This Blog</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/HTML5/">HTML5</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/JQuery/">JQuery</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/Markdown/">Markdown</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/NodeJs/">NodeJs</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/">解題區</a><span class="category-list-count">633</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/Latex/">Latex</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/出題解題/">出題解題</a><span class="category-list-count">23</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-POJ/">解題區 - POJ</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a><span class="category-list-count">483</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-Zerojudge/">解題區 - Zerojudge</a><span class="category-list-count">77</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-其他題目/">解題區 - 其他題目</a><span class="category-list-count">45</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-未解題目/">解題區 - 未解題目</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/雜言筆記/">雜言筆記</a><span class="category-list-count">4</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a class="text" href="/2021/01/30/work/company-ghost-story-9/">
              
                <i class="icon-file-o"></i> 
              
            Company Ghost Story 公司鬼故事 9</a>
          </li>
        
          <li>
            <a class="text" href="/2020/12/12/java/java-jni-tls-error/">
              
                <i class="icon-file-o"></i> 
              
            Java JNI Thread Error (EINVAL)</a>
          </li>
        
          <li>
            <a class="text" href="/2020/11/08/work/company-ghost-story-8/">
              
                <i class="icon-file-o"></i> 
              
            Company Ghost Story 公司鬼故事 8</a>
          </li>
        
          <li>
            <a class="text" href="/2020/11/01/work/company-ghost-story-7/">
              
                <i class="icon-file-o"></i> 
              
            Company Ghost Story 公司鬼故事 7</a>
          </li>
        
          <li>
            <a class="text" href="/2020/10/31/lesson/ada-2020-hw1-p3/">
              
                <i class="icon-file-o"></i> 
              
            ADA 2020 Fall P3. ADA Party</a>
          </li>
        
          <li>
            <a class="text" href="/2020/10/31/lesson/ada-2020-hw1-p2/">
              
                <i class="icon-file-o"></i> 
              
            ADA 2020 Fall P2. Bomb Game</a>
          </li>
        
          <li>
            <a class="text" href="/2020/10/25/diary-202010/">
              
                <i class="icon-file-o"></i> 
              
            資訊科學的偏科生 面試者篇</a>
          </li>
        
          <li>
            <a class="text" href="/2020/10/24/work/company-ghost-story-6/">
              
                <i class="icon-file-o"></i> 
              
            Company Ghost Story 公司鬼故事 6</a>
          </li>
        
          <li>
            <a class="text" href="/2020/09/30/work/company-ghost-story-5/">
              
                <i class="icon-file-o"></i> 
              
            Company Ghost Story 公司鬼故事 5</a>
          </li>
        
          <li>
            <a class="text" href="/2020/09/26/work/company-ghost-story-4/">
              
                <i class="icon-file-o"></i> 
              
            Company Ghost Story 公司鬼故事 4</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    <div class="widget-wrap">
    <h3 class="widget-title">Links</h3>
    <div class="widget">   
      	<ul>
	      <li><a href="http://mypaper.pchome.com.tw/zerojudge" target="_blank" title="Old Blog"><i class="icon-star"></i> Morris' Blog (pchome)</a></li>
	      <li><a href="http://flere114.blogspot.tw/" target="_blank" title="蘿莉勿觸"><i class="icon-googles"></i> flere's Blog</a></li>
	      <li><a href="http://dreamoon4.blogspot.tw/" target="_blank" title="夢月"><i class="icon-googles"></i> dreamoon's Blog</a></li>
	      <li><a href="http://m80126colin.github.io" target="_blank" title="許胖們"><i class="icon-github-alt"></i> m80126colin's Blog</a></li>
	      <li><a href="http://sd12582000.blogspot.tw/" target="_blank" title="妮可妮可"><i class="icon-github-alt"></i> Nico's Blog</a></li>
	      <li><a href="http://kuoe0.logdown.com/" target="_blank" title="郭至軒大神"><i class="icon-github-alt"></i> KuoE0's Dots</a></li>
	      <li><a href="http://tyan.io/" title=""><i class="icon-github-alt"></i> Tyan Blog</a></li>
    	</ul>
    </div>
</div>

  
    
<script src="/js/jquery-ui.js"></script>
<script src="/js/ukagaka/jquery.morris.ukagaka.resource.js"></script>
<script src="/js/ukagaka/typed.js"></script>
<script type="text/javascript">
  $('#ukagaka_panel').ukagaka();
</script>
  
  
</aside>
          
        
      </div>
      <footer id="footer">
  
  <div class="outer">    
    <div class="social-group">
      
      <a href="https://github.com/morris821028" target="_blank" title="github"><i class="icon-github"></i></a>
      
      
      <a href="https://www.facebook.com/Morris1028" target="_blank" title="facebook"><i class="icon-facebook-sign"></i></a>
      
      
      <a href="http://uhunt.felix-halim.net/id/46705" target="_blank" title="uhunt" ><span class="icon-uhunt">UVa<span></a>
      
    </div>
    <div id="footer-info" class="inner">
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and Theme by <a href="https://github.com/morris821028/hexo-theme-landscape" target="_blank" title="landscape">landscape</a> &copy; 2021 Shiang-Yun Yang 
    </div>
  </div>
</footer>


    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link"><i class=icon-home ></i>&nbsp&nbspHome</a>
  
    <a href="/about" class="mobile-nav-link"><i class=icon-user ></i>&nbsp&nbspAbout</a>
  
    <a href="/archives" class="mobile-nav-link"><i class=icon-archive ></i>&nbsp&nbspArchives</a>
  
    <a href="/tags" class="mobile-nav-link"><i class=icon-tags ></i>&nbsp&nbspTags</a>
  
    <a href="/picture" class="mobile-nav-link"><i class=icon-camera ></i>&nbsp&nbspPictures</a>
  
    <a href="/works" class="mobile-nav-link"><i class=icon-trophy ></i>&nbsp&nbspWorks</a>
  
</nav>
    
<script>
  var disqus_shortname = 'morris1028';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//go.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/jquery.lazyload.js"></script>
<script src="/js/jquery.als-1.6.js"></script>

<script src="/js/script.js"></script>

  </div><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
</body>
</html>