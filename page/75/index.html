<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <title>Morris&#39; Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Morris&#39; Blog">
<meta property="og:url" content="http://morris821028.github.io/page/75/index.html">
<meta property="og:site_name" content="Morris&#39; Blog">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Morris&#39; Blog">
<link rel="publisher" href="108158678174364350000">
  
    <link rel="alternative" href="/atom.xml" title="Morris&#39; Blog" type="application/atom+xml">
  
  
    <meta name="google-site-verification" content="5mRgj8NanEMpGZuNfHNJNmH90RgNlrnJXsFlTaKD6Gs" />
  
  
    <link rel="shortcut icon" href="/img/f.ico">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <script src="/js/jquery-2.1.0.min.js"></script>
  <link rel="stylesheet" href="/css/style.css">
  
  <link rel="stylesheet" href="http://cdn.oesmith.co.uk/morris-0.5.1.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
<script src="http://cdn.oesmith.co.uk/morris-0.5.1.min.js"></script>
  <!-- <link rel="import" href="/bower_components/app-layout/app-layout.html"> --><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>
<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"><div id="banner-right"></div></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Morris&#39; Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          
            <a class="main-nav-link" href="/"><i class=icon-home title='Home'></i></a>
          
        
          
            <a class="main-nav-link" href="/about"><i class=icon-user title='About'></i></a>
          
        
          
            <a class="main-nav-link" href="/archives"><i class=icon-archive title='Archives'></i></a>
          
        
          
            <a class="main-nav-link" href="/tags"><i class=icon-tags title='Tags'></i></a>
          
        
          
            <a class="main-nav-link" href="/picture"><i class=icon-camera title='Pictures'></i></a>
          
        
          
            <a class="main-nav-link" href="/works"><i class=icon-trophy title='Works'></i></a>
          
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://morris821028.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        
          
          <section id="main">
  
    <article id="post-oj/uva/uva-1093" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/07/06/oj/uva/uva-1093/" class="article-date">
  <time datetime="2014-07-06T00:54:00.000Z" itemprop="datePublished">2014-07-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/07/06/oj/uva/uva-1093/">UVa 1093 - Castles</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/07/06/oj/uva/uva-1093/" data-id="ckq8np0ux02v61wvnlpxbqp1v" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/07/06/oj/uva/uva-1093/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/greedy/">greedy</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>Wars have played a significant role in world history. Unlike modern wars, armies in the middle ages were principally concerned with capturing and holding castles, the private fortified residences of lords and nobles. The size of the attacking army was an important factor in an army’s ability to capture and hold one of these architectural masterpieces.</p>
<p>\epsfbox{p4788.eps}</p>
<p>A certain minimum number of soldiers were required to capture a castle. Some soldiers were expected to die during the attack. After capturing the castle, some soldiers were required to remain in the castle to defend it against attacks from another enemy. Of course, those numbers were different for different castles. Commanders of the armies were obliged to consider the number of soldiers required for victory. For example, there are five castles in the region map shown in Figure 2. The castle at the lower right requires at least 20 soldiers to wage a winning attack. None are expected to perish during the attack, and 10 soldiers must be left in the castle when the army moves on.</p>
<p>In this problem you must determine the minimum size of an army needed to capture and hold all the castles in a particular region. For reasons of security, there is exactly one (bi-directional) route between any pair of castles in the region. Moving into the neighborhood of an uncaptured castle begins an attack on that castle. Any castle can serve as the first castle to be attacked, without regard for how the army got there. Once any castle has been captured, the requisite number of soldiers is left in the castle to defend it, and the remainder of the army moves on to do battle at another castle, if any remain uncaptured. The army may safely pass through the neighborhood of a castle that it has already captured. But because of the potential for attacks, the army may traverse the route between a pair of castles no more than twice (that is, at most once in each direction).</p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>The input contains multiple test cases corresponding to different regions. The description of the castles in each region occupies several lines. The first line contains an integer n<span>$\le$</span><!-- Has MathJax -->100 that is the number of castles in the region. Each of the next n lines contains three integers a, m, and g (1<span>$\le$</span><!-- Has MathJax -->a<span>$\le$</span><!-- Has MathJax -->1000, 0<span>$\le$</span><!-- Has MathJax -->m<span>$\le$</span><!-- Has MathJax -->a, 1<span>$\le$</span><!-- Has MathJax -->g<span>$\le$</span><!-- Has MathJax -->1000), that give the minimum number of soldiers required to successfully attack and capture a particular castle, the number of soldiers that are expected to die during the attack, and the number of soldiers that must be left at the castle to defend it. The castles are numbered 1 to n, and the input lines describing them are given in increasing order of castle numbers. Each of the remaining n - 1 lines in a test case has two integers that specify the castle numbers of a pair of castles that are connected by a direct route.</p>
<p>A line containing 0 follows the description of the last region.</p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>For each test case, display the case number and the minimum number of soldiers in the army needed to conquer all the castles in the region. Follow the format shown in the sample output.</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">3 </div><div class="line">5 5 5 </div><div class="line">10 5 5 </div><div class="line">5 1 1 </div><div class="line">1 3 </div><div class="line">2 3 </div><div class="line">5 </div><div class="line">10 5 10 </div><div class="line">20 10 5 </div><div class="line">10 10 5 </div><div class="line">5 5 5 </div><div class="line">20 0 10 </div><div class="line">1 2 </div><div class="line">1 3 </div><div class="line">1 4 </div><div class="line">3 5 </div><div class="line">0</div></pre></td></tr></table></figure>
<h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Case 1: 22 </div><div class="line">Case 2: 65</div></pre></td></tr></table></figure>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p><strong> 題目描述： </strong></p>
<p>攻略一個城堡會有幾個需求，第一，戰爭時最少的士兵數，第二，在這場戰爭中犧牲的士兵，第三，離開此城堡時，必須留下多少士兵駐守。</p>
<p>題目特別說明到，要用最少數量的士兵佔領所有的城堡，而每一座城堡之間都有路徑，必且佔領過程中每一條路徑的單一方向只能經過一次，所有城堡構成的圖恰好為一棵樹，每一條路徑為雙向道。</p>
<p><strong> 題目解法： </strong></p>
<p>由於給定圖為樹，同時每一個方向只能經過一次，也就是說從某一點當作根開始走訪，一旦選擇一個子樹進行探訪，就必須完整地將子樹的城堡都佔領，才能去佔領其他子樹中的城堡，意味著，每個子樹的最優解將可以合併成整棵樹的最優解。</p>
<p>因此，對於子樹紀錄狀態為 <code>(戰爭時最少士兵數量，佔領後遺失士兵數量)</code>，在做最優解合併的時，採用貪婪的作法。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt; </span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> N;</div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; g[<span class="number">105</span>];</div><div class="line">pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; D[<span class="number">105</span>];</div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; a, pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; b)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span>(a.first != b.first)</div><div class="line">        <span class="keyword">return</span> a.first &gt; b.first;</div><div class="line">    <span class="keyword">return</span> a.second &lt; b.second;</div><div class="line">&#125;</div><div class="line">pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; dfs(<span class="keyword">int</span> u, <span class="keyword">int</span> p) &#123;</div><div class="line">    <span class="built_in">vector</span>&lt; pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; &gt; branch;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; g[u].size(); i++) &#123;</div><div class="line">        <span class="keyword">int</span> v = g[u][i];</div><div class="line">        <span class="keyword">if</span>(v != p)</div><div class="line">            branch.push_back(dfs(v, u));</div><div class="line">    &#125;</div><div class="line">    sort(branch.begin(), branch.end(), cmp);</div><div class="line">    <span class="keyword">int</span> a, b;</div><div class="line">    a = D[u].first, b = D[u].second;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; branch.size(); i++) &#123;</div><div class="line">        a = max(a, b + branch[i].first);</div><div class="line">        b += branch[i].second;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> make_pair(max(a, b), b);</div><div class="line">    </div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> cases = <span class="number">0</span>, a, m, gg, u, v;</div><div class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;N) == <span class="number">1</span> &amp;&amp; N) &#123;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++) &#123;</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>, &amp;a, &amp;m, &amp;gg);	</div><div class="line">            D[i] = make_pair(max(a, m+gg), m + gg);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</div><div class="line">            g[i].clear();</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; N; i++) &#123;</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;u, &amp;v);</div><div class="line">            g[u].push_back(v);</div><div class="line">            g[v].push_back(u);</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; ret = make_pair(<span class="number">0x3f3f3f3f</span>, <span class="number">0x3f3f3f3f</span>);</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++) </div><div class="line">            ret = min(ret, dfs(i, <span class="number">-1</span>));</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"Case %d: %d\n"</span>, ++cases, ret.first);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-246" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/07/02/oj/uva/uva-246/" class="article-date">
  <time datetime="2014-07-02T02:30:42.000Z" itemprop="datePublished">2014-07-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/07/02/oj/uva/uva-246/">UVa 246 - 10-20-30</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/07/02/oj/uva/uva-246/" data-id="ckq8np1f903fe1wvns7ib24se" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/07/02/oj/uva/uva-246/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/撲克/">撲克</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>A simple solitaire card game called 10-20-30 uses a standard deck of 52 playing cards in which suit is irrelevant. The value of a face card (king, queen, jack) is 10. The value of an ace is one. The value of each of the other cards is the face value of the card (2, 3, 4, etc.). Cards are dealt from the top of the deck. You begin by dealing out seven cards, left to right forming seven piles. After playing a card on the rightmost pile, the next pile upon which you play a card is the leftmost pile.</p>
<p>For each card placed on a pile, check that pile to see if one of the following three card combinations totals 10, 20, or 30.</p>
<ol>
<li><p>the first two and last one,</p>
</li>
<li><p>the first one and the last two, or</p>
</li>
<li><p>the last three cards.</p>
</li>
</ol>
<p>If so, pick up the three cards and place them on the bottom of the deck. For this problem, always check the pile in the order just described. Collect the cards in the order they appear on the pile and put them at the bottom of the deck. Picking up three cards may expose three more cards that can be picked up. If so, pick them up. Continue until no more sets of three can be picked up from the pile.</p>
<p>For example, suppose a pile contains 5 9 7 3 where the 5 is at the first card of the pile, and then a 6 is played. The first two cards plus the last card (5 + 9 + 6) sum to 20. The new contents of the pile after picking up those three cards becomes 7 3. Also, the bottommost card in the deck is now the 6, the card above it is the 9, and the one above the 9 is the 5.</p>
<p>If a queen were played instead of the six, 5 + 9 + 10 = 24, and 5 + 3 + 10 = 18, but 7 + 3 + 10 = 20, so the last three cards would be picked up, leaving the pile as 5 9.</p>
<p>If a pile contains only three cards when the three sum to 10, 20, or 30, then the pile “disappears” when the cards are picked up. That is, subsequent play skips over the position that the now-empty pile occupied. You win if all the piles disappear. You lose if you are unable to deal a card. It is also possible to have a draw if neither of the previous two conditions ever occurs.</p>
<p>Write a program that will play games of 10-20-30 given initial card decks as input.</p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>Each input set consists of a sequence of 52 integers separated by spaces and/or ends of line. The integers represent card values of the initial deck for that game. The first integer is the top card of the deck. Input is terminated by a single zero (0) following the last deck.</p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>For each input set, print whether the result of the game is a win, loss, or a draw, and print the number of times a card is dealt before the game results can be determined. (A draw occurs as soon as the state of the game is repeated.) Use the format shown in the ``Sample Output” section.</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">2 6 5 10 10 4 10 10 10 4 5 10 4 5 10 9 7 6 1 7 6 9 5 3 10 10 4 10 9 2 1</div><div class="line">10 1 10 10 10 3 10 9 8 10 8 7 1 2 8 6 7 3 3 8 2</div><div class="line">4 3 2 10 8 10 6 8 9 5 8 10 5 3 5 4 6 9 9 1 7 6 3 5 10 10 8 10 9 10 10 7</div><div class="line">2 6 10 10 4 10 1 3 10 1 1 10 2 2 10 4 10 7 7 10</div><div class="line">10 5 4 3 5 7 10 8 2 3 9 10 8 4 5 1 7 6 7 2 6 9 10 2 3 10 3 4 4 9 10 1 1</div><div class="line">10   5 10 10 1 8 10 7 8 10 6 10 10 10 9 6 2 10 10</div><div class="line">0</div></pre></td></tr></table></figure>
<h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Win : 66</div><div class="line">Loss: 82</div><div class="line">Draw: 73</div></pre></td></tr></table></figure>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><blockquote><p>給一副牌，按照順序發成七疊<br>在發了一張牌後，若有<br>(1) 下面一張與最上面兩張<br>(2) 下面兩張與最上面一張<br>(3) 最上面連續三張加起來點數為<br>10、20 或 30，則把這三張牌收進手牌(J, Q, K, 10)<br>依 (1)(2)(3) 順序檢查</p>
<p>若某疊牌拿起三張後仍符合上述條件，則一直拿到不符合條件為止，若有某一疊牌被完全拿光，則以後不在往這疊發牌。</p>
<p>請輸出最後結果<br>(1) win 七疊牌都清空了<br>(2) lose 手牌空了<br>(3) draw 進入無窮迴圈</p>
</blockquote>
<p>簡單地說，一開始盤面上有七疊牌組，一開始都有兩張牌，接著依序從左邊至右開始發牌，發的同時依序檢查是否可以將牌組的牌符合 10-20-30 的規則收回手牌 (發牌者手上) 中。</p>
<p>最麻煩的地方在於迴圈判斷，在這裡使用一個最簡單的 binary tree 方式。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt; </span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;deque&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">state</span> &#123;</span></div><div class="line">    <span class="keyword">int</span> v[<span class="number">64</span>];</div><div class="line">    state() &#123;</div><div class="line">        <span class="built_in">memset</span>(v, <span class="number">0</span>, <span class="keyword">sizeof</span>(v));</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> state &amp;x) <span class="keyword">const</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="built_in">memcmp</span>(v, x.v, <span class="keyword">sizeof</span>(state)) &lt; <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"><span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt; pile[<span class="number">7</span>];</div><div class="line"><span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; hand;</div><div class="line"><span class="built_in">set</span>&lt;state&gt; record;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">reduce</span><span class="params">(<span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt; &amp;pile)</span> </span>&#123;</div><div class="line">    <span class="keyword">while</span>(pile.size() &gt;= <span class="number">3</span>) &#123;</div><div class="line">        <span class="keyword">int</span> n = pile.size();</div><div class="line">        <span class="keyword">if</span>((pile[<span class="number">0</span>] + pile[<span class="number">1</span>] + pile[n<span class="number">-1</span>])%<span class="number">10</span> == <span class="number">0</span>) &#123;</div><div class="line">            hand.push(pile[<span class="number">0</span>]), hand.push(pile[<span class="number">1</span>]), hand.push(pile[n<span class="number">-1</span>]);</div><div class="line">            pile.pop_front();</div><div class="line">            pile.pop_front();</div><div class="line">            pile.pop_back();</div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>((pile[<span class="number">0</span>] + pile[n<span class="number">-2</span>] + pile[n<span class="number">-1</span>])%<span class="number">10</span> == <span class="number">0</span>) &#123;</div><div class="line">            hand.push(pile[<span class="number">0</span>]), hand.push(pile[n<span class="number">-2</span>]), hand.push(pile[n<span class="number">-1</span>]);</div><div class="line">            pile.pop_front();</div><div class="line">            pile.pop_back();</div><div class="line">            pile.pop_back();</div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>((pile[n<span class="number">-3</span>] + pile[n<span class="number">-2</span>] + pile[n<span class="number">-1</span>])%<span class="number">10</span> == <span class="number">0</span>) &#123;</div><div class="line">            hand.push(pile[n<span class="number">-3</span>]), hand.push(pile[n<span class="number">-2</span>]), hand.push(pile[n<span class="number">-1</span>]);</div><div class="line">            pile.pop_back();</div><div class="line">            pile.pop_back();</div><div class="line">            pile.pop_back();</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> x;</div><div class="line">    <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</div><div class="line">        <span class="keyword">while</span>(!hand.empty())</div><div class="line">            hand.pop();</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">7</span>; i++) </div><div class="line">            pile[i].clear();</div><div class="line">            </div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">52</span>; i++) &#123;</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;x);</div><div class="line">            <span class="keyword">if</span>(x == <span class="number">0</span>)	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">            hand.push(x);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">7</span>; i++)</div><div class="line">            pile[i].push_back(hand.front()), hand.pop();</div><div class="line">        </div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">7</span>; i++)</div><div class="line">            pile[i].push_back(hand.front()), hand.pop();</div><div class="line">        </div><div class="line">        <span class="keyword">int</span> end = <span class="number">0</span>, loop = <span class="number">14</span>;</div><div class="line">        <span class="keyword">while</span>(!end) &#123;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">7</span>; i++) &#123;</div><div class="line">                <span class="keyword">if</span>(pile[i].size() == <span class="number">0</span>)</div><div class="line">                    <span class="keyword">continue</span>;</div><div class="line">                loop++;</div><div class="line">                pile[i].push_back(hand.front()), hand.pop();</div><div class="line">                reduce(pile[i]);</div><div class="line">                <span class="keyword">if</span>(hand.size() == <span class="number">52</span>) &#123;</div><div class="line">                    <span class="built_in">printf</span>(<span class="string">"Win : %d\n"</span>, loop);</div><div class="line">                    end = <span class="number">1</span>;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">if</span>(hand.size() == <span class="number">0</span>) &#123;</div><div class="line">                    <span class="built_in">printf</span>(<span class="string">"Loss: %d\n"</span>, loop);</div><div class="line">                    end = <span class="number">1</span>;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                &#125;</div><div class="line">                state s;</div><div class="line">                <span class="keyword">int</span> m = <span class="number">0</span>;</div><div class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">7</span>; j++) &#123;</div><div class="line">                    <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; pile[j].size(); k++)</div><div class="line">                        s.v[m++] = pile[j][k];</div><div class="line">                    s.v[m++] = <span class="number">15</span>;</div><div class="line">                &#125;</div><div class="line">                <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; q = hand;</div><div class="line">                <span class="keyword">while</span>(!q.empty())</div><div class="line">                    s.v[m++] = q.front(), q.pop();</div><div class="line">                s.v[m++] = <span class="number">15</span>;</div><div class="line">                <span class="keyword">if</span>(record.find(s) != record.end()) &#123;</div><div class="line">                    <span class="built_in">printf</span>(<span class="string">"Draw: %d\n"</span>, loop);</div><div class="line">                    end = <span class="number">1</span>;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                &#125;</div><div class="line">                record.insert(s);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-766" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/07/02/oj/uva/uva-766/" class="article-date">
  <time datetime="2014-07-02T02:03:14.000Z" itemprop="datePublished">2014-07-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/07/02/oj/uva/uva-766/">UVa 766 - Sum of powers</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/07/02/oj/uva/uva-766/" data-id="ckq8np1gv03gx1wvnmlaowzg7" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/07/02/oj/uva/uva-766/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/dp/">dp</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="題目描述"><a href="#題目描述" class="headerlink" title="題目描述"></a>題目描述</h2><span>$$\begin{align*}
&amp; \sum_{i = 1}^{n} i = \frac{n(n+1)}{2} \\
&amp; \sum_{i = 1}^{n} i^{2} = \frac{n(n+1)(2n+1)}{6} \\
&amp; ... \\
&amp; \sum_{i = 1}^{n} i^{k} = ? \\
\end{align*}$$</span><!-- Has MathJax -->
<p>求 k &lt; 20 的所有情況，並且把方程式列出。</p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>當初在推倒<span>$\sum_{i = 1}^{n} i^{2}$</span><!-- Has MathJax --> 的時候，採用的方式如下：</p>
<p>首先，升一次觀察：</p>
<span>$$\begin{align*}
&amp; (i + 1)^{3} - i^{3} = 3i^{2} + 3i + 1
\end{align*}$$</span><!-- Has MathJax -->
<p>整理，將<span>$i^{2}$</span><!-- Has MathJax --> 移到單獨項</p>
<span>$$\begin{align*}
&amp; i^{2} = \frac{1}{3} ((i + 1)^{3} - i^{3} - 3i - 1) \\
&amp; \Rightarrow \sum_{i = 1}^{n} i^{2} = \sum_{i = 1}^{n} \frac{1}{3} ((i + 1)^{3} - i^{3} - 3i - 1)
\end{align*}$$</span><!-- Has MathJax -->
<p>此時特別計算<span>$\sum_{i = 1}^{n} (i + 1)^{3} - i^{2}$</span><!-- Has MathJax -->，易見答案為<span>$(n+1)^{3} - 1$</span><!-- Has MathJax --></p>
<p>最後得到<br><span>$$\begin{align*}
&amp; \Rightarrow \sum_{i = 1}^{n} i^{2} = \frac{1}{3} ((n+1)^{3} - 1 + \sum_{i = 1}^{n} (-3i-1))
\end{align*}$$</span><!-- Has MathJax --></p>
<p>藉由上述的推倒過程，可以擴充至更高維度的計算。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">long</span> <span class="keyword">long</span> C[<span class="number">25</span>][<span class="number">25</span>] = &#123;&#125;;</div><div class="line"><span class="keyword">long</span> <span class="keyword">long</span> M[<span class="number">25</span>] = &#123;&#125;, A[<span class="number">25</span>][<span class="number">25</span>] = &#123;&#125;;</div><div class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">llabs</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> v)</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> v &lt; <span class="number">0</span> ? -v : v;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</div><div class="line">    C[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1</span>;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">25</span>; i++) &#123;</div><div class="line">        C[i][<span class="number">0</span>] = <span class="number">1</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= i; j++)</div><div class="line">            C[i][j] = C[i<span class="number">-1</span>][j] + C[i<span class="number">-1</span>][j<span class="number">-1</span>];</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// sum of powers</span></div><div class="line">    M[<span class="number">0</span>] = <span class="number">1</span>, A[<span class="number">0</span>][<span class="number">1</span>] = <span class="number">1</span>; <span class="comment">// sigma(k^0) = n</span></div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">20</span>; i++)  &#123;</div><div class="line">        M[i] = i + <span class="number">1</span>;</div><div class="line">        <span class="keyword">long</span> <span class="keyword">long</span> val = <span class="number">1</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= i - <span class="number">1</span>; j++)</div><div class="line">            val = val / __gcd(val, M[j]) * M[j];</div><div class="line">        M[i] *= val;</div><div class="line"><span class="comment">//		printf("%lld %lld\n", M[i], val);</span></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= i - <span class="number">1</span>; j++)</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k &lt;= j + <span class="number">1</span>; k++)</div><div class="line">                A[i][k] -= A[j][k] * val / M[j] * C[i + <span class="number">1</span>][j];</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= i + <span class="number">1</span>; j++)</div><div class="line">            A[i][j] += val * C[i+<span class="number">1</span>][j];</div><div class="line">        A[i][<span class="number">0</span>] -= val * <span class="number">1</span>;</div><div class="line">        <span class="keyword">long</span> <span class="keyword">long</span> g = M[i];</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= i + <span class="number">1</span>; j++)</div><div class="line">            g = __gcd(g, llabs(A[i][j]));</div><div class="line">        M[i] /= g;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= i + <span class="number">1</span>; j++)</div><div class="line">            A[i][j] /= g;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">find sigma(i^2)</span></div><div class="line"><span class="comment">(i + 1)^3 - (i)^2 = 3*(i)^2 + 3i + 1</span></div><div class="line"><span class="comment">=&gt; i^2 = 1/3 * ((i + 1)^3 - (i)^2 - 3i - 1)</span></div><div class="line"><span class="comment">=&gt; sigma(i^2) = sigma(1/3 * ((i + 1)^3 - (i)^2 - 3i - 1))</span></div><div class="line"><span class="comment">=&gt;            = 1/3 (sigma((i + 1)^3 - (i)^2) + sigma(-3i - 1)) </span></div><div class="line"><span class="comment">=&gt; // sigma((i + 1)^3 - (i)^3) = (n + 1)^3 - 1</span></div><div class="line"><span class="comment">=&gt;            = 1/3 ((n + 1)^3 - 1 + sigma(-3i - 1)) </span></div><div class="line"><span class="comment">... so</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    init();</div><div class="line">    <span class="keyword">int</span> testcase, n;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;testcase);</div><div class="line">    <span class="keyword">while</span>(testcase--) &#123;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%lld"</span>, M[n]);</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = n + <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)</div><div class="line">            <span class="built_in">printf</span>(<span class="string">" %lld"</span>, A[n][i]);</div><div class="line">        <span class="built_in">puts</span>(<span class="string">""</span>);</div><div class="line">        <span class="keyword">if</span>(testcase)</div><div class="line">            <span class="built_in">puts</span>(<span class="string">""</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-12779" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/07/02/oj/uva/uva-12779/" class="article-date">
  <time datetime="2014-07-02T01:55:42.000Z" itemprop="datePublished">2014-07-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/07/02/oj/uva/uva-12779/">UVa 12779 - The Largest Circle</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/07/02/oj/uva/uva-12779/" data-id="ckq8np18k038x1wvna20nt5zw" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/07/02/oj/uva/uva-12779/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/幾何/">幾何</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
        <h2 id="題目描述"><a href="#題目描述" class="headerlink" title="題目描述"></a>題目描述</h2><p>對於一個平行四邊形，找到平行四邊形內接最大圓面積為何。</p>
<p>並且以分數的方式輸出，保證輸入的四個點一定能構成平行四邊形。</p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>找到平行四邊形的兩個高中最小得即可。</p>
<p>因此會使用到點線投影方程式，從方程式中可以得知一定能用分數形式輸出，不用特別考慮 <code>-1</code> 的案例輸出。</p>
        
          <p class="article-more-link">
            <a href="/2014/07/02/oj/uva/uva-12779/#more">Read More</a>
          </p>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-12778" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/07/02/oj/uva/uva-12778/" class="article-date">
  <time datetime="2014-07-02T01:41:00.000Z" itemprop="datePublished">2014-07-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/07/02/oj/uva/uva-12778/">UVa 12778 - Minimum Sum</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/07/02/oj/uva/uva-12778/" data-id="ckq8np1bt03c41wvnlihlry2l" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/07/02/oj/uva/uva-12778/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/BIT/">BIT</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/排容原理/">排容原理</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="題目描述"><a href="#題目描述" class="headerlink" title="題目描述"></a>題目描述</h2><p>對於任一區間 [l, r] 找到一個最小值 a[m] 其中 l &lt;= m &lt;= r，計算 </p>
<span>$$\begin{aligned}
f(l, r) = \sum_{i = l}^{r} |a[m] - a[i]|
\end{aligned}$$</span><!-- Has MathJax -->
<p>並且把所有 f(l, r) 加總起來。</p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>要將所有情況加總，因此會有 <code>C(n, 2)</code> 個對。</p>
<p>反過來思考，對於每一個最小值 <code>a[m]</code> 來說，有多少區間會使用到它進行計算。也就是說，找到一個最大的區間 <code>[l, r]</code> 包含 <code>a[m]</code>，同時這個區間內的數字皆大於等於 <code>a[m]</code>。</p>
<p>則對於 <code>a[m]</code> 而言，會找到一個最大的區間 <code>[l, m, r]</code>，會有 <code>(m - l + 1) * (r - m + 1)</code> 個區間會認定 a[m] 是該區間的最小值，則直接計算即可。</p>
<p>但這裡也存有一個很大的問題，會有兩個相同小的數字，特別處理它。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt; </span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 65536</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></div><div class="line"><span class="keyword">long</span> <span class="keyword">long</span> sum[MAXN], ssum[MAXN], isum[MAXN], issum[MAXN];</div><div class="line"><span class="comment">// binary indexed tree</span></div><div class="line"><span class="keyword">int</span> BIT[MAXN&lt;&lt;<span class="number">1</span>];</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span>(x) &#123;</div><div class="line">        ret = max(ret, BIT[x]);</div><div class="line">        x -= x&amp;(-x);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ret;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">modify</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> v, <span class="keyword">int</span> L)</span> </span>&#123;</div><div class="line">    <span class="keyword">while</span>(x &lt;= L) &#123;</div><div class="line">        BIT[x] = max(BIT[x], v);</div><div class="line">        x += x&amp;(-x);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">query2</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> ret = INF;</div><div class="line">    <span class="keyword">while</span>(x) &#123;</div><div class="line">        ret = min(ret, BIT[x]);</div><div class="line">        x -= x&amp;(-x);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ret;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">modify2</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> v, <span class="keyword">int</span> L)</span> </span>&#123;</div><div class="line">    <span class="keyword">while</span>(x &lt;= L) &#123;</div><div class="line">        BIT[x] = min(BIT[x], v);</div><div class="line">        x += x&amp;(-x);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">int</span> cases = <span class="number">0</span>, preA[MAXN], sufA[MAXN], start[MAXN], cover[MAXN&lt;&lt;<span class="number">1</span>];</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line"><span class="comment">//	freopen("in.txt", "r+t", stdin);</span></div><div class="line"><span class="comment">//	freopen("out2.txt", "w+t", stdout); </span></div><div class="line">    <span class="keyword">int</span> testcase, n, A[MAXN];</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;testcase);</div><div class="line">    <span class="keyword">while</span>(testcase--) &#123;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;A[i]), start[i] = <span class="number">0</span>, cover[A[i] + MAXN] = <span class="number">-1</span>;</div><div class="line">        </div><div class="line">        <span class="keyword">int</span> L = <span class="number">50000</span> + MAXN;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= L; i++)</div><div class="line">            BIT[i] = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</div><div class="line">            preA[i] = query(A[i] + MAXN);</div><div class="line">            modify(A[i]+MAXN, i, L);</div><div class="line">            <span class="keyword">if</span>(preA[i] &lt;= cover[A[i] + MAXN])</div><div class="line">                start[i] = cover[A[i] + MAXN] + <span class="number">1</span>;</div><div class="line">            cover[A[i] + MAXN] = i;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= L; i++)</div><div class="line">            BIT[i] = n + <span class="number">1</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = n; i &gt;= <span class="number">1</span>; i--) &#123;</div><div class="line">            sufA[i] = query2(A[i] + MAXN);</div><div class="line">            modify2(A[i]+MAXN+<span class="number">1</span>, i, L);</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</div><div class="line">            sum[i] = sum[i<span class="number">-1</span>] + A[i];</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</div><div class="line">            ssum[i] = ssum[i<span class="number">-1</span>] + sum[i];</div><div class="line">            </div><div class="line">        isum[n+<span class="number">1</span>] = issum[n+<span class="number">1</span>] = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = n; i &gt;= <span class="number">1</span>; i--)</div><div class="line">            isum[i] = isum[i+<span class="number">1</span>] + A[i];</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = n; i &gt;= <span class="number">1</span>; i--)</div><div class="line">            issum[i] = issum[i+<span class="number">1</span>] + isum[i];</div><div class="line">        </div><div class="line">        <span class="keyword">long</span> <span class="keyword">long</span> ret = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</div><div class="line">            <span class="keyword">long</span> <span class="keyword">long</span> suma, a, sumb, b;</div><div class="line">            <span class="keyword">if</span>(start[i]) &#123;</div><div class="line">                suma = issum[start[i]] - issum[i], a = i - start[i];</div><div class="line">                sumb = ssum[sufA[i]<span class="number">-1</span>] - ssum[i], b = sufA[i] - i - <span class="number">1</span>;</div><div class="line">                suma -= isum[i] * a;</div><div class="line">                sumb -= sum[i] * b;</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                suma = issum[preA[i]+<span class="number">1</span>] - issum[i], a = i - preA[i] - <span class="number">1</span>;</div><div class="line">                sumb = ssum[sufA[i]<span class="number">-1</span>] - ssum[i], b = sufA[i] - i - <span class="number">1</span>;</div><div class="line">                suma -= isum[i] * a;</div><div class="line">                sumb -= sum[i] * b;</div><div class="line">            &#125;</div><div class="line"><span class="comment">//			printf("index %d\n", i);</span></div><div class="line"><span class="comment">//			printf("%lld %lld\n", ssum[sufA[i]-1], ssum[i]);</span></div><div class="line"><span class="comment">//			printf("%lld %lld %lld %lld -- %lld\n", suma, a, sumb, b, (suma - A[i]*a*(a+1)/2) * (b + 1) + (sumb - A[i]*b*(b+1)/2) * (a + 1));</span></div><div class="line">            ret += (suma - A[i]*a*(a+<span class="number">1</span>)/<span class="number">2</span>) * (b + <span class="number">1</span>) + (sumb - A[i]*b*(b+<span class="number">1</span>)/<span class="number">2</span>) * (a + <span class="number">1</span>);</div><div class="line"><span class="comment">//			long long test = 0;</span></div><div class="line"><span class="comment">//			for(int j = i; j &gt;= 1; j--) &#123;</span></div><div class="line"><span class="comment">//				if(A[j] &lt; A[i])</span></div><div class="line"><span class="comment">//					break;</span></div><div class="line"><span class="comment">//				for(int k = i; k &lt;= n; k++) &#123;</span></div><div class="line"><span class="comment">//					if(A[k] &lt; A[i])	break;</span></div><div class="line"><span class="comment">//					for(int l = j; l &lt;= k; l++)</span></div><div class="line"><span class="comment">//						test += A[l] - A[i];</span></div><div class="line"><span class="comment">//				&#125;</span></div><div class="line"><span class="comment">//			&#125;</span></div><div class="line"><span class="comment">//			printf("DEBUG %lld\n", test);</span></div><div class="line">        &#125;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"Case %d: %lld\n"</span>, ++cases, ret);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">1</span></div><div class="line"><span class="comment">5</span></div><div class="line"><span class="comment">1 2 3 4 5</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">10</span></div><div class="line"><span class="comment">10</span></div><div class="line"><span class="comment">-7 2 -6 7 -9 5 -5 -3 9 3 </span></div><div class="line"><span class="comment">10</span></div><div class="line"><span class="comment">1 -7 9 2 4 7 -10 8 0 0 </span></div><div class="line"><span class="comment">10</span></div><div class="line"><span class="comment">-8 9 4 -8 1 2 -3 2 8 8 </span></div><div class="line"><span class="comment">10</span></div><div class="line"><span class="comment">-3 -4 0 -2 5 9 -3 -4 2 1 </span></div><div class="line"><span class="comment">10</span></div><div class="line"><span class="comment">3 -8 -9 -4 8 -9 -7 6 -10 -9 </span></div><div class="line"><span class="comment">10</span></div><div class="line"><span class="comment">-7 0 -2 8 -6 6 9 -5 -1 -3 </span></div><div class="line"><span class="comment">10</span></div><div class="line"><span class="comment">1 -10 7 -1 7 -10 5 -1 -10 9 </span></div><div class="line"><span class="comment">10</span></div><div class="line"><span class="comment">-2 9 -8 8 -7 0 -1 -8 7 -9 </span></div><div class="line"><span class="comment">10</span></div><div class="line"><span class="comment">-9 2 3 -8 -10 9 7 9 1 3 </span></div><div class="line"><span class="comment">10</span></div><div class="line"><span class="comment">3 5 1 -4 -6 -3 0 2 -5 -5 </span></div><div class="line"><span class="comment">*/</span></div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-451" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/07/02/oj/uva/uva-451/" class="article-date">
  <time datetime="2014-07-02T01:36:02.000Z" itemprop="datePublished">2014-07-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/07/02/oj/uva/uva-451/">UVa 451 - Poker Solitaire Evaluator</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/07/02/oj/uva/uva-451/" data-id="ckq8np1gs03gu1wvnu250n57t" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/07/02/oj/uva/uva-451/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/撲克/">撲克</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>The input will contain several test cases. First line of the input is the an integer which indicate the number of test case followed by a blank line. Each consecutive test case will also separated by a blank line.</p>
<p>Each test case gets 25 cards, 5 cards per line. Each card consists of two characters. The first represents the rank of the card: <code>A&#39;,</code>2’, <code>3&#39;,</code>4’, <code>5&#39;,</code>6’, <code>7&#39;,</code>8’, <code>9&#39;,</code>X’, <code>J&#39;,</code>Q’, <code>K&#39;. The second represents the suit of the card:</code>S’, <code>H&#39;,</code>D’, `C’.</p>
<p>The cards are dealt into a tex2html_wrap_inline44 square. Each row and column is evaluated to determine the highest hand type for which its 5 cards qualify. The hand types, from low to high, are Nothing, Pair, Two Pair, Three of a Kind, Straight, Flush, Full House, Four of a Kind, Straight Flush. A hand qualifies only once, and then only for its highest type. For example, a Four of a Kind does not count as two pair or three of a kind.</p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>For each test case output a list of 9 integers, telling how many hands of each handtype were found. from lowest to highest, being:</p>
<pre><code>Nothing: does not qualify as any of the following. Example: AC, 3H, QS, JD, 7D.

One Pair: contains two cards of the same rank and does not qualify for any of the following. Example: 2C, 3H, 4H, 2H, KD.

Two Pair: contains two cards of one rank and two cards of another and does not qualify for any of the following. Example: 2C, 3H, 4H, 2H, 4D.

Three of a Kind: contains three cards of the same rank and does not qualify for any of the following. Example: QS, KH, 2C, QD, QC.

Straight: the five cards of the hand may be sorted on rank so that an unbroken sequence of 5 ranks is formed and the hand does not qualify for any of the following. There can be cycle through Ace. That is AC, 2H, 4D, 3H, 5S forms a straight, as does JH, XD,QC, KD, AS and QC, KD, AS, 2H, 3D.

Flush: the five cards are all of the same suit and the hand does not qualify for any of the following. Example: 5D, AD, KD, 7D, QD.

Full House: the hand contains three cards of one rank and two cards of another. Example: 3C, QS, QD, 3H, 3S.

Four of a kind: the hand contains four cards of the same rank. Example: AS, AD, AH, 7C, AC.

Straight Flush: the hand meets the criteria for being both a straight and a flush. 
</code></pre><p>Two consecutive output will separated by a blank line.</p>
<p>For the example below, the five rows evaluate to Straight Flush, Straight, Pair, Flush, Three of a Kind. The Five columns evaluate to Four of A Kind, Full House, Two Pair, Nothing, and Two Pair.</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">1</div><div class="line"></div><div class="line">AS 2S 3S 4S 5S</div><div class="line">AC 2H 3H 5C 4C</div><div class="line">AH 2D KC KH 5D</div><div class="line">AD 3D KD 9D 8D</div><div class="line">XH 3C XC XS 8C</div></pre></td></tr></table></figure>
<h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">1, 1, 2, 1, 1, 1, 1, 1, 1</div></pre></td></tr></table></figure>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><blockquote><p>一張撲克牌有花色（Clubs, Diamonds, Hearts, Spades，分別以C，D，H，S來代表）及點數（2,3,4,5,6,7,8,9,10, jack, queen, king, ace，分別以2,3,4,5,6,7,8,9,X,J,Q,K,A來代表）。有一種常見的撲克牌遊戲叫”梭哈”（就是你在電影賭神中常見的那種遊戲），每個人手上有5張牌，並且依照以下的規則給予每手牌1-9的整數值。注意：每手牌只能有一個值（高的那一個），例如：Four of a kind就不能算為two pairs 或 three of a kind.</p>
<ol>
<li>Nothing:（中文翻譯：不知道，就是最爛的就是了）沒有以下任何情況就屬於nothing。例如：AH 9D 7C 3H 2D</li>
<li>One pair:（中文翻譯：1對）有2張牌同一個點數，另3張牌皆不同點數。例如：8H 8D KC 5H 2D</li>
<li>Two pairs:（中文翻譯：2對）有2組2張牌同一個點數，另1張牌不同點數。例如：8H 8D 5C 5H 9D</li>
<li>Three of a kind:（中文翻譯：3條）3張牌同一個點數，另2張牌不同點數。例如：8H 8D 8C AH 9D</li>
<li>Straight:（中文翻譯：順子）5張牌的點數為連續的並且可以A連接2成一圈。（所以：點數T J Q K A是順子，A 2 3 4 5是順子，Q K A 2 3也是順子）例如：8H 9H TH JH QD</li>
<li>Flush:（中文翻譯：同花）5張牌同一花色。例如：6H 9H TH JH QH</li>
<li>Full House:（中文翻譯：葫蘆）3張同一點數，另2張同一點數。例如：8H 8D 8C 7S 7D</li>
<li>Four of a kind:（中文翻譯：4條或鐵枝）4張牌同一個點數。例如：8H 8D 8C 8S 9D</li>
<li>Straight flush: （中文翻譯：同花順）5張牌同一花色，並且形成一個順子。例如：8H 9H TH JH QH</li>
</ol>
<p>給你25張牌排成5*5的樣子。你的任務就是算出5列（橫的）及5欄（直的）這10手牌所形成的統計結果。</p>
<footer><strong>luckycat 翻譯</strong></footer></blockquote>
<p>依序判斷，只能硬暴。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt; </span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">getSuit</span><span class="params">(<span class="keyword">char</span> c)</span> </span>&#123;</div><div class="line">    <span class="keyword">switch</span>(c) &#123;</div><div class="line">        <span class="keyword">case</span> <span class="string">'C'</span>: <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        <span class="keyword">case</span> <span class="string">'D'</span>: <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">        <span class="keyword">case</span> <span class="string">'H'</span>: <span class="keyword">return</span> <span class="number">2</span>;</div><div class="line">        <span class="keyword">case</span> <span class="string">'S'</span>: <span class="keyword">return</span> <span class="number">3</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">getRank</span><span class="params">(<span class="keyword">char</span> c)</span> </span>&#123;</div><div class="line">    <span class="keyword">switch</span>(c) &#123;</div><div class="line">        <span class="keyword">case</span> <span class="string">'0'</span> ... <span class="string">'9'</span>: <span class="keyword">return</span> c - <span class="string">'0'</span>;</div><div class="line">        <span class="keyword">case</span> <span class="string">'A'</span>: <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">        <span class="keyword">case</span> <span class="string">'X'</span>: <span class="keyword">return</span> <span class="number">10</span>;</div><div class="line">        <span class="keyword">case</span> <span class="string">'J'</span>: <span class="keyword">return</span> <span class="number">11</span>;</div><div class="line">        <span class="keyword">case</span> <span class="string">'Q'</span>: <span class="keyword">return</span> <span class="number">12</span>;</div><div class="line">        <span class="keyword">case</span> <span class="string">'K'</span>: <span class="keyword">return</span> <span class="number">13</span>;</div><div class="line">    &#125; </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">suitCmp</span><span class="params">(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; x, pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; y)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span>(x.first != y.first)</div><div class="line">        <span class="keyword">return</span> x.first &lt; y.first;</div><div class="line">    <span class="keyword">return</span> x.second &lt; y.second;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">rankCmp</span><span class="params">(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; x, pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; y)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span>(x.second != y.second)</div><div class="line">        <span class="keyword">return</span> x.second &lt; y.second;</div><div class="line">    <span class="keyword">return</span> x.first &lt; y.first;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">getType</span><span class="params">(<span class="built_in">vector</span>&lt; pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; &gt; cards)</span> </span>&#123;</div><div class="line">    <span class="built_in">vector</span>&lt; pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; &gt;::iterator it;</div><div class="line">    </div><div class="line">    sort(cards.begin(), cards.end(), suitCmp);</div><div class="line">    <span class="keyword">if</span>(cards[<span class="number">0</span>].first == cards[<span class="number">4</span>].first) &#123; <span class="comment">// all same suit</span></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">13</span>; i++) &#123;</div><div class="line">            <span class="keyword">int</span> ok = <span class="number">1</span>;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">5</span>; j++) &#123;</div><div class="line">                <span class="keyword">int</span> r = (i + j)%<span class="number">13</span> + <span class="number">1</span>;</div><div class="line">                it = find(cards.begin(), cards.end(), make_pair(cards[<span class="number">0</span>].first, r));</div><div class="line">                ok &amp;= it != cards.end();</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span>(ok)</div><div class="line">                <span class="keyword">return</span> <span class="number">9</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    sort(cards.begin(), cards.end(), rankCmp);</div><div class="line">    <span class="keyword">if</span>(cards[<span class="number">0</span>].second == cards[<span class="number">3</span>].second ||</div><div class="line">        cards[<span class="number">1</span>].second == cards[<span class="number">4</span>].second)</div><div class="line">            <span class="keyword">return</span> <span class="number">8</span>;</div><div class="line">            </div><div class="line">    sort(cards.begin(), cards.end(), rankCmp);</div><div class="line">    <span class="keyword">if</span>(cards[<span class="number">0</span>].second == cards[<span class="number">2</span>].second &amp;&amp;</div><div class="line">        cards[<span class="number">3</span>].second == cards[<span class="number">4</span>].second)</div><div class="line">            <span class="keyword">return</span> <span class="number">7</span>;</div><div class="line">    <span class="keyword">if</span>(cards[<span class="number">0</span>].second == cards[<span class="number">1</span>].second &amp;&amp;</div><div class="line">        cards[<span class="number">2</span>].second == cards[<span class="number">4</span>].second)</div><div class="line">            <span class="keyword">return</span> <span class="number">7</span>;</div><div class="line">            </div><div class="line">    sort(cards.begin(), cards.end(), suitCmp);</div><div class="line">    <span class="keyword">if</span>(cards[<span class="number">0</span>].first == cards[<span class="number">4</span>].first)</div><div class="line">        <span class="keyword">return</span> <span class="number">6</span>;</div><div class="line">        </div><div class="line">    sort(cards.begin(), cards.end(), suitCmp);</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">13</span>; i++) &#123;</div><div class="line">        <span class="keyword">int</span> ok = <span class="number">1</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">5</span>; j++) &#123;</div><div class="line">            <span class="keyword">int</span> r = (i + j)%<span class="number">13</span> + <span class="number">1</span>;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; <span class="number">4</span>; k++) &#123;</div><div class="line">                it = find(cards.begin(), cards.end(), make_pair(k, r));</div><div class="line">                <span class="keyword">if</span>(it != cards.end())</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">            &#125;</div><div class="line">            ok &amp;= it != cards.end();</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(ok)</div><div class="line">            <span class="keyword">return</span> <span class="number">5</span>;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    sort(cards.begin(), cards.end(), rankCmp);</div><div class="line">    <span class="keyword">if</span>(cards[<span class="number">0</span>].second == cards[<span class="number">2</span>].second ||</div><div class="line">        cards[<span class="number">1</span>].second == cards[<span class="number">3</span>].second ||</div><div class="line">         cards[<span class="number">2</span>].second == cards[<span class="number">4</span>].second)</div><div class="line">            <span class="keyword">return</span> <span class="number">4</span>;</div><div class="line">    </div><div class="line">    sort(cards.begin(), cards.end(), rankCmp);</div><div class="line">    <span class="keyword">if</span>(cards[<span class="number">0</span>].second == cards[<span class="number">1</span>].second &amp;&amp;</div><div class="line">        cards[<span class="number">2</span>].second == cards[<span class="number">3</span>].second)</div><div class="line">            <span class="keyword">return</span> <span class="number">3</span>;</div><div class="line">    <span class="keyword">if</span>(cards[<span class="number">0</span>].second == cards[<span class="number">1</span>].second &amp;&amp;</div><div class="line">        cards[<span class="number">3</span>].second == cards[<span class="number">4</span>].second)</div><div class="line">            <span class="keyword">return</span> <span class="number">3</span>;</div><div class="line">    <span class="keyword">if</span>(cards[<span class="number">1</span>].second == cards[<span class="number">2</span>].second &amp;&amp;</div><div class="line">        cards[<span class="number">3</span>].second == cards[<span class="number">4</span>].second)</div><div class="line">            <span class="keyword">return</span> <span class="number">3</span>;</div><div class="line">            </div><div class="line">    sort(cards.begin(), cards.end(), rankCmp);</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">5</span>; i++)</div><div class="line">        <span class="keyword">if</span>(cards[i].second == cards[i<span class="number">-1</span>].second)</div><div class="line">            <span class="keyword">return</span> <span class="number">2</span>;</div><div class="line">    <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> testcase;</div><div class="line">    <span class="keyword">char</span> grid[<span class="number">5</span>][<span class="number">5</span>][<span class="number">5</span>];</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;testcase);</div><div class="line">    <span class="keyword">while</span>(testcase--) &#123;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">5</span>; j++)</div><div class="line">                <span class="built_in">scanf</span>(<span class="string">"%s"</span>, grid[i][j]);</div><div class="line">        <span class="keyword">int</span> cnt[<span class="number">10</span>] = &#123;&#125;;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</div><div class="line">            <span class="built_in">vector</span>&lt; pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; &gt; cc;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">5</span>; j++)</div><div class="line">                cc.push_back(make_pair(getSuit(grid[i][j][<span class="number">1</span>]), getRank(grid[i][j][<span class="number">0</span>])));</div><div class="line">            <span class="keyword">int</span> f = getType(cc);</div><div class="line">            cnt[f]++;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</div><div class="line">            <span class="built_in">vector</span>&lt; pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; &gt; cc;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">5</span>; j++)</div><div class="line">                cc.push_back(make_pair(getSuit(grid[j][i][<span class="number">1</span>]), getRank(grid[j][i][<span class="number">0</span>])));</div><div class="line">            <span class="keyword">int</span> f = getType(cc);</div><div class="line">            cnt[f]++;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">9</span>; i++) &#123;</div><div class="line">            <span class="keyword">if</span>(i &gt; <span class="number">1</span>)	<span class="built_in">printf</span>(<span class="string">", "</span>);</div><div class="line">            <span class="built_in">printf</span>(<span class="string">"%d"</span>, cnt[i]);</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">puts</span>(<span class="string">""</span>);</div><div class="line">        <span class="keyword">if</span>(testcase)</div><div class="line">            <span class="built_in">puts</span>(<span class="string">""</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">2</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">AS 2S 3S 4S 5S</span></div><div class="line"><span class="comment">AC 2H 3H 5C 4C</span></div><div class="line"><span class="comment">AH 2D KC KH 5D</span></div><div class="line"><span class="comment">AD 3D KD 9D 8D</span></div><div class="line"><span class="comment">XH 3C XC XS 8C</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">AS 2S 3S 4S 6S</span></div><div class="line"><span class="comment">AC 2H 3H 5C 4C</span></div><div class="line"><span class="comment">AH 2D KC KH 5D</span></div><div class="line"><span class="comment">AD 3D KD 9D 8D</span></div><div class="line"><span class="comment">XH 3C XC XS 8C</span></div><div class="line"><span class="comment">*/</span></div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-12697" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/26/oj/uva/uva-12697/" class="article-date">
  <time datetime="2014-06-26T13:09:47.000Z" itemprop="datePublished">2014-06-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/26/oj/uva/uva-12697/">UVa 12697 - Minimal Subarray Length</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/06/26/oj/uva/uva-12697/" data-id="ckq8np17o03811wvniqyczzws" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/06/26/oj/uva/uva-12697/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/BIT/">BIT</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>You are given an integer sequence of length N and another value X. You have to find a contiguous subsequence of the given sequence such that the sum is greater or equal to<br>X. And you have to find that segment with minimal length.</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">3</div><div class="line">5 4</div><div class="line">1 2 1 2 1</div><div class="line">6 -2</div><div class="line">-5 -6 -7 -8 -9 -10</div><div class="line">5 3</div><div class="line">-1 1 1 1 -1</div></pre></td></tr></table></figure>
<h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">3</div><div class="line">-1</div><div class="line">3</div></pre></td></tr></table></figure>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p><strong> 題目描述： </strong></p>
<p>找一段長度最小，且該區間總和大於等於指定 X。</p>
<p><strong> 題目解法： </strong></p>
<p>離散化後，利用掃描線的思路進行維護。</p>
<p>利用前綴和 SUM[i]，查找小於等於 SUM[i] - X 的最大值。</p>
<p>隨後更新 SUM[i] 位置的值 i。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 5024288</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></div><div class="line"><span class="keyword">long</span> <span class="keyword">long</span> A[MAXN], SM[MAXN], SB[MAXN];</div><div class="line"><span class="comment">// binary index tree</span></div><div class="line"><span class="keyword">int</span> BIT[MAXN&lt;&lt;<span class="number">1</span>];</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">modify</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> v, <span class="keyword">int</span> L)</span> </span>&#123;</div><div class="line">    <span class="keyword">while</span>(x &lt;= L) &#123;</div><div class="line">        BIT[x] = max(BIT[x], v);</div><div class="line">        x += x&amp;(-x);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> ret = - INF;</div><div class="line">    <span class="keyword">while</span>(x) &#123;</div><div class="line">        ret = max(ret, BIT[x]);</div><div class="line">        x -= x&amp;(-x);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ret;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> testcase, N, X;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;testcase);</div><div class="line">    <span class="keyword">while</span>(testcase--) &#123;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;N, &amp;X);</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%lld"</span>, A+i);</div><div class="line">        </div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</div><div class="line">            SM[i] = SM[i<span class="number">-1</span>] + A[i];</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= N; i++)</div><div class="line">            SB[i] = SM[i];</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N + <span class="number">1</span>; i++)</div><div class="line">            BIT[i] = - INF;</div><div class="line">        sort(SB, SB + N + <span class="number">1</span>);</div><div class="line"></div><div class="line">        <span class="keyword">int</span> M = unique(SB, SB + N + <span class="number">1</span>) - SB;		</div><div class="line">        <span class="keyword">int</span> ret = INF;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= N; i++) &#123;</div><div class="line">            <span class="keyword">long</span> <span class="keyword">long</span> v = SM[i] - X;</div><div class="line">            <span class="keyword">int</span> pos = upper_bound(SB, SB + M, v) - SB;</div><div class="line">            <span class="keyword">if</span>(pos - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; i)  &#123;</div><div class="line">                ret = min(ret, i - query(pos));</div><div class="line"><span class="comment">//				printf("query %d\n", i - query(pos));</span></div><div class="line">            &#125;</div><div class="line">            pos = upper_bound(SB, SB + M, SM[i]) - SB;</div><div class="line">            modify(pos, i, M);</div><div class="line"><span class="comment">//			printf("%lld %d\n", v, pos);</span></div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ret == INF ? <span class="number">-1</span> : ret);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">3</span></div><div class="line"><span class="comment">5 4</span></div><div class="line"><span class="comment">1 2 1 2 1</span></div><div class="line"><span class="comment">6 -2</span></div><div class="line"><span class="comment">-5 -6 -7 -8 -9 -10</span></div><div class="line"><span class="comment">5 3</span></div><div class="line"><span class="comment">-1 1 1 1 -1</span></div><div class="line"><span class="comment">*/</span></div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-428" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/24/oj/uva/uva-428/" class="article-date">
  <time datetime="2014-06-24T13:24:35.000Z" itemprop="datePublished">2014-06-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/24/oj/uva/uva-428/">UVa 428 - Swamp County Roofs</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/06/24/oj/uva/uva-428/" data-id="ckq8np1gj03gl1wvnpqon3qc3" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/06/24/oj/uva/uva-428/#disqus_thread" class="article-comment-link">Comments</a>
      
      
    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p> The Swamp County Environmental Office is concerned about the number of structures in the county. They have a theory that all the rain water landing on roofs of buildings, parking lots, roads, and highways is going down the sewage system instead of draining to the ecologically sensitive and historically important swamp land the county is famous for.</p>
<p>Your team has been hired to do the analysis of rain water captured by building roofs. The Planning Commission, which processes all building permits, and hence knows the plans of every structure in the county, will provide the data. Their database contains a set of measurements for the roofs of every building on every lot in the county.</p>
<p>The Engineering staff of the Planning Commission has determined that all the roofs in the county can be represented by one or more quadrilaterals. Each quadrilateral has the following characteristics:</p>
<pre><code>length of baseline, in feet;
length of ridgeline, in feet;
distance between baseline and ridgeline, in feet;
and inclination of the roof segment, in degrees. 
</code></pre><p>The baseline is always parallel to the ridgeline. A roof segment is always flat, but may be inclined. The inclination of the segment occurs along the baseline or ridgeline axis. A roof segment that is inclined 90 degrees is a wall that is assumed to have negligible thickness, and hence gathers no rain–such a segment will not appear in the data. Assume that the buildings are on level land, and that no roof segment overlaps any other. A roof segment may have either a baseline or ridgeline length of zero (such a segment is actually a triangle). A lot may contain one or more buildings, but your program need only compute the area covered by roofs on a lot-by-lot basis.</p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>Each lot is represented by a series of numbers separated from each other by white space and/or new-lines. The lot size, in square feet, is followed by a list of roof segments. Each roof segment will consist of the length of the baseline, the length of the ridgeline, the distance between the baseline and the ridgeline, and the inclination. Each lot description including the last will end with a blank line.</p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>For each lot compute and print the following statistics: the total roof surface area of buildings in square feet, the total floor space covered by roofs in square feet, and the percentage of rain intercepted by roofs. Print these values in labeled columns, one lot per line, with two digits after the decimal point. Print percent signs after the percentage of rain figures.</p>
<p>At the end of the run compute and print the following statistics: the total roof surface area of all roofs in the county, the total floor space covered by roofs in the county, the overall percentage of rain intercepted by roofs, the average roof surface area on a lot, and the average floor space covered by roofs on a lot. Skip a line after the per-lot listing and print these values on separate lines with appropriate labels.</p>
<p>Print each value with two digits after the decimal point. Print a percent sign after the overall percentage of rain value. Use a report format similar to that of the sample output below.</p>
<p>One of the reasons Swamp County has remained so is the relative lack of wind in the county–you may therefore assume that all rain falls vertically.</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">100 10 10 10 60</div><div class="line">10 10 10 60</div><div class="line"></div><div class="line">200 5 10.5 5 30  10 10 7.5 45</div></pre></td></tr></table></figure>
<h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">Roof Area     Floor Area     % Covered</div><div class="line">---------     ----------     ---------</div><div class="line">   200.00         100.00       100.00%</div><div class="line">   113.75          86.59        43.30%</div><div class="line"> </div><div class="line">Total surface area of roofs      313.75</div><div class="line">Total area covered by roofs      186.59</div><div class="line">Percentage of total area covered by roofs   62.20%</div><div class="line">Average roof surface area per lot          156.88</div><div class="line">Average floor space covered per lot         93.30</div></pre></td></tr></table></figure>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p><strong> 題目描述： </strong></p>
<p>屋頂為一個三維空間的平面，假想成梯形也可以，頃角就是單純地將梯形與平面 x-y 夾角 theta。</p>
<p>分別算出梯形面積和陰影面積。</p>
<p><strong> 題目解法： </strong></p>
<p>最坑的就是輸入，其實看了很久都沒有明白到底是怎麼區隔每一組。<br>查閱了討論區給的測資才湊出 AC 代碼。</p>
<p>想辦法讀到每一組測資是 4n + 1 個數字，否則繼續將空白行讀入。</p>
<p>brianfry713’s Input:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">100 10 10 10 60</div><div class="line">10 10 10 60</div><div class="line"></div><div class="line">200 5 10.5 5 30  10 10 7.5 45</div><div class="line"></div><div class="line">100</div><div class="line"></div><div class="line">10 10 10</div><div class="line">60 10</div><div class="line"></div><div class="line">10 10 60</div><div class="line"></div><div class="line">200 5 10.5 5 30  10 10 7.5 45</div><div class="line"></div><div class="line">100 0 10 7.5 45 10</div><div class="line">0 7.5 -135</div><div class="line"></div><div class="line">300</div></pre></td></tr></table></figure></p>
<p>brianfry713’s Output:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">Roof Area     Floor Area     % Covered</div><div class="line">---------     ----------     ---------</div><div class="line">   200.00         100.00       100.00%</div><div class="line">   113.75          86.59        43.30%</div><div class="line">     0.00           0.00         0.00%</div><div class="line">   600.00         590.88      5908.85%</div><div class="line">  7701.25        7133.96     71339.57%</div><div class="line">     0.00           0.00         0.00%</div><div class="line"></div><div class="line">Total surface area of roofs     8615.00</div><div class="line">Total area covered by roofs     7911.43</div><div class="line">Percentage of total area covered by roofs 1098.81%</div><div class="line">Average roof surface area per lot         1435.83</div><div class="line">Average floor space covered per lot       1318.57</div></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sstream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">double</span> pi = <span class="built_in">acos</span>(<span class="number">-1</span>);</div><div class="line"><span class="keyword">double</span> A, B, C, N;</div><div class="line"><span class="function"><span class="keyword">char</span>* <span class="title">getLot</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">char</span> line[<span class="number">1024</span>], *v;</div><div class="line">    <span class="built_in">string</span> ret = <span class="string">""</span>, token;</div><div class="line">    <span class="keyword">int</span> tokenCnt = <span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span>(tokenCnt%<span class="number">4</span> != <span class="number">1</span>) &#123;</div><div class="line">        <span class="keyword">while</span>((v = gets(line)) &amp;&amp; line[<span class="number">0</span>] != <span class="string">'\0'</span>) &#123;</div><div class="line">            ret += <span class="string">" "</span>, ret += line;</div><div class="line">            <span class="function"><span class="built_in">stringstream</span> <span class="title">ss</span><span class="params">(line)</span></span>;</div><div class="line">            <span class="keyword">while</span>(ss &gt;&gt; token)</div><div class="line">                tokenCnt++;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(!v)</div><div class="line">            <span class="keyword">return</span> v;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="built_in">stringstream</span> <span class="title">sin</span><span class="params">(ret)</span></span>;</div><div class="line">    <span class="keyword">double</span> lotsize, baseline, ridgeline, dist, theta;</div><div class="line">    <span class="keyword">double</span> a = <span class="number">0</span>, b = <span class="number">0</span>;</div><div class="line">    <span class="built_in">sin</span> &gt;&gt; lotsize;</div><div class="line">    <span class="keyword">while</span>(<span class="built_in">sin</span> &gt;&gt; baseline &gt;&gt; ridgeline &gt;&gt; dist &gt;&gt; theta) &#123;</div><div class="line">        a += (baseline + ridgeline) * dist/<span class="number">2.0</span>;</div><div class="line">        b += (baseline + ridgeline) * dist/<span class="number">2.0</span> * <span class="built_in">cos</span>(theta / <span class="number">180.0</span> * pi);	</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%9.2lf     %10.2lf     %8.2lf%%\n"</span>, a, b, b * <span class="number">100</span> /lotsize);</div><div class="line">    A += a, B += b, C += lotsize, N++;</div><div class="line">    <span class="keyword">return</span> v;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line"><span class="comment">//	freopen("in.txt", "r+t", stdin);</span></div><div class="line"><span class="comment">//	freopen("out.txt", "w+t", stdout);</span></div><div class="line">    </div><div class="line">    <span class="built_in">puts</span>(<span class="string">"Roof Area     Floor Area     % Covered"</span>);</div><div class="line">    <span class="built_in">puts</span>(<span class="string">"---------     ----------     ---------"</span>);</div><div class="line">    <span class="keyword">char</span> line[<span class="number">1024</span>];</div><div class="line">    <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</div><div class="line">        <span class="keyword">if</span>(getLot()) &#123;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">puts</span>(<span class="string">""</span>);</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"Total surface area of roofs  %10.2lf\n"</span>, A);</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"Total area covered by roofs  %10.2lf\n"</span>, B);</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"Percentage of total area covered by roofs  %6.2lf%%\n"</span>, B*<span class="number">100</span>/C);</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"Average roof surface area per lot      %10.2lf\n"</span>, A/N);</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"Average floor space covered per lot    %10.2lf\n"</span>, B/N);</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-11855" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/24/oj/uva/uva-11855/" class="article-date">
  <time datetime="2014-06-24T13:09:53.000Z" itemprop="datePublished">2014-06-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/24/oj/uva/uva-11855/">UVa 11855 - Buzzwords</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/06/24/oj/uva/uva-11855/" data-id="ckq8np0zl03031wvnhrr67xrg" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/06/24/oj/uva/uva-11855/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SA/">SA</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/後綴數組/">後綴數組</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>The word the is the most common three-letter word. It even shows up inside other words, such as “other” and “mathematics”. Sometimes it hides, split between two words, such as “not here”. Have you ever wondered what the most common words of lengths other than three are?</p>
<p>Your task is the following. You will be given a text. In this text, find the most common word of length one. If there are multiple such words, any one will do. Then count how many times this most common word appears in the text. If it appears more than once, output how many times it appears. Then repeat the process with words of length 2, 3, and so on, until you reach such a length that there is no longer any repeated word of that length in the text.</p>
<h2 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification"></a>Input Specification</h2><p>The input consists of a sequence of lines. The last line of input is empty and should not be processed. Each line of input other than the last contains at least one but no more than one thousand uppercase letters and spaces. The spaces are irrelevant and should be ignored.</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">THE OTHER MATHEMATICS NOT HERE</div><div class="line">AA</div></pre></td></tr></table></figure>
<p>Note that the last line of the sample input is a blank line.</p>
<h2 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification"></a>Output Specification</h2><p>For each line of input, output a sequence of lines, giving the number of repetitions of words of length 1, 2, 3, and so on. When you reach a length such that there are no repeated words of that length, output one blank line, do not output anything further for that input line, and move on to the next line of input.</p>
<h2 id="Output-for-Sample-Input"><a href="#Output-for-Sample-Input" class="headerlink" title="Output for Sample Input"></a>Output for Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">5</div><div class="line">4</div><div class="line">4</div><div class="line">2</div><div class="line">2</div><div class="line"></div><div class="line">2</div></pre></td></tr></table></figure>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p><strong> 題目描述： </strong></p>
<p>依序將長度為 1, 2, 3, 4 … 其重複出現次數最高的字串次數輸出，只考慮重複次數大於 1 的所有情況。</p>
<p><strong> 題目解法： </strong></p>
<p>由於題目只查看大寫字母，忽略空白不計，若存在有空白的行時特別處理，否則在隨後的 trim() 會有輸出錯誤。</p>
<p>直接套上 Suffix Array，使用 Double algorithm 建造法，並且建出高度數組。</p>
<p>建造在 <code>O(n log n)</code>，但是輸出處理最慘會到 <code>O(n^2)</code>。</p>
<p>在其他的做法中，可以看到有人使用 hash function 進行比較 (將每一組單詞丟到同一個欄中，之後在進行比較)，這也是個挺不錯的做法，但是風險還是存在。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">SuffixArray</span> &#123;</span></div><div class="line">    <span class="keyword">int</span> sa[<span class="number">1005</span>], h[<span class="number">1005</span>], n;</div><div class="line">    <span class="keyword">int</span> w[<span class="number">1005</span>], ta[<span class="number">1005</span>], tb[<span class="number">1005</span>];</div><div class="line">    <span class="keyword">char</span> str[<span class="number">1005</span>];</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">sort</span><span class="params">(<span class="keyword">int</span> *x, <span class="keyword">int</span> *y, <span class="keyword">int</span> m)</span> </span>&#123;</div><div class="line">        <span class="keyword">static</span> <span class="keyword">int</span> i;</div><div class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; m; i++)</div><div class="line">            w[i] = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n; i++)</div><div class="line">            w[x[y[i]]]++;</div><div class="line">        <span class="keyword">for</span>(i = <span class="number">1</span>; i &lt; m; i++)</div><div class="line">            w[i] += w[i<span class="number">-1</span>];</div><div class="line">        <span class="keyword">for</span>(i = n<span class="number">-1</span>; i &gt;= <span class="number">0</span>; i--)</div><div class="line">            sa[--w[x[y[i]]]] = y[i];</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">int</span> *r, <span class="keyword">int</span> a, <span class="keyword">int</span> b, <span class="keyword">int</span> l)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(r[a] == r[b]) &#123;</div><div class="line">            <span class="keyword">if</span>(a+l &gt;= n || b+l &gt;= n)</div><div class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">            <span class="keyword">return</span> r[a+l] == r[b+l];</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">build_h</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> i, j, k;</div><div class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n; i++)  ta[sa[i]] = i;</div><div class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n; i++) &#123;</div><div class="line">            <span class="keyword">if</span>(ta[i] == <span class="number">0</span>) &#123;</div><div class="line">                h[ta[i]] = <span class="number">0</span>;</div><div class="line">                <span class="keyword">continue</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span>(i == <span class="number">0</span> || h[ta[i<span class="number">-1</span>]] &lt;= <span class="number">1</span>)</div><div class="line">                k = <span class="number">0</span>;</div><div class="line">            <span class="keyword">else</span></div><div class="line">                k = h[ta[i<span class="number">-1</span>]]<span class="number">-1</span>;</div><div class="line">            <span class="keyword">while</span>(str[sa[ta[i]<span class="number">-1</span>]+k] == str[sa[ta[i]]+k])</div><div class="line">                k++;</div><div class="line">            h[ta[i]] = k;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">()</span> </span>&#123;<span class="comment">// x: rank, y: second key</span></div><div class="line">        <span class="keyword">int</span> i, k, m = <span class="number">128</span>, p;</div><div class="line">        <span class="keyword">int</span> *x = ta, *y = tb, *z;</div><div class="line">        n = <span class="built_in">strlen</span>(str);</div><div class="line">        x[n] = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n; i++)</div><div class="line">            x[i] = str[i], y[i] = i;</div><div class="line">        sort(x, y, m);</div><div class="line">        <span class="keyword">for</span>(k = <span class="number">1</span>, p = <span class="number">1</span>; p &lt; n; k *= <span class="number">2</span>, m = p) &#123;</div><div class="line">            <span class="keyword">for</span>(p = <span class="number">0</span>, i = n-k; i &lt; n; i++)</div><div class="line">                y[p++] = i;</div><div class="line">            <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n; i++) &#123;</div><div class="line">                <span class="keyword">if</span>(sa[i] &gt;= k) &#123;</div><div class="line">                    y[p++] = sa[i]-k;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            sort(x, y, m);</div><div class="line">            z = x, x = y, y = z;</div><div class="line">            <span class="keyword">for</span>(i = <span class="number">1</span>, p = <span class="number">1</span>, x[sa[<span class="number">0</span>]] = <span class="number">0</span>; i &lt; n; i++)</div><div class="line">                x[sa[i]] = cmp(y, sa[i<span class="number">-1</span>], sa[i], k) ? p<span class="number">-1</span> : p++;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    SuffixArray in;</div><div class="line">    <span class="keyword">while</span>(gets(in.str) &amp;&amp; in.str[<span class="number">0</span>] != <span class="string">'\0'</span>) &#123;</div><div class="line">    	<span class="keyword">int</span> n = <span class="number">0</span>;</div><div class="line">    	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; in.str[i]; i++)</div><div class="line">    		<span class="keyword">if</span>(in.str[i] != <span class="string">' '</span>)</div><div class="line">    			in.str[n++] = in.str[i];</div><div class="line">    	in.str[n] = <span class="string">'\0'</span>;</div><div class="line">    	</div><div class="line">        in.build();</div><div class="line">        in.build_h();</div><div class="line">        </div><div class="line">        <span class="keyword">if</span>(n == <span class="number">0</span>)</div><div class="line">        	<span class="built_in">puts</span>(<span class="string">"0"</span>);</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= in.n; i++) &#123;</div><div class="line">        	<span class="keyword">int</span> cnt = <span class="number">0</span>, ret = <span class="number">0</span>;</div><div class="line">        	<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; in.n; j++) &#123;</div><div class="line">        		<span class="keyword">if</span>(in.h[j] &gt;= i)</div><div class="line">        			cnt++;</div><div class="line">        		<span class="keyword">else</span></div><div class="line">        			ret = max(ret, cnt), cnt = <span class="number">0</span>;</div><div class="line">        	&#125;</div><div class="line">        	ret = max(ret, cnt);</div><div class="line">        	<span class="keyword">if</span>(ret &lt;= <span class="number">0</span>)</div><div class="line">        		<span class="keyword">break</span>;</div><div class="line">        	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ret + <span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">puts</span>(<span class="string">""</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-349" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/24/oj/uva/uva-349/" class="article-date">
  <time datetime="2014-06-24T13:02:14.000Z" itemprop="datePublished">2014-06-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/24/oj/uva/uva-349/">UVa 349 - Transferable Voting (II)</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/06/24/oj/uva/uva-349/" data-id="ckq8np1g903gc1wvnp29nr9dt" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/06/24/oj/uva/uva-349/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/模擬/">模擬</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>The Transferable Vote system for determining the winner of an election requires that a successful candidate obtain an absolute majority of the votes cast, even when there are more than two candidates. To achieve this goal, each voter completes his or her ballot by listing all the candidates in order of preference. Thus if there are five candidates for a single position, each voter’s ballot must contain five choices, from first choice to fifth choice.</p>
<p>In this problem you are to determine the winner, if any, of elections using the Transferable Vote system. If there are c candidates for the single position, then each voter’s ballot will include c distinct choices, corresponding to identifying the voter’s first place, second place, tex2html_wrap_inline32 , and nth place selections. Invalid ballots will be discarded, but their presence will be noted. A ballot is invalid if a voter’s choices are not distinct (choosing the same candidate as first and second choice isn’t permitted) or if any of the choices aren’t legal (that is, in the range 1 to c).</p>
<p>For each election candidates will be assigned sequential numbers starting with 1. The maximum number of voters in this problem will be 100, and the maximum number of candidates will be 5.</p>
<pre><code>            Table A                 Table B
-------------------------------    --------- 
Voter    First   Second  Third
         Choice  Choice  Choice
  1        1       2       4
  2        1       3       2       1   3   2
  3        3       2       1       3   2   1
  4        3       2       1       3   2   1
  5        1       2       3       1   2   3
  6        2       3       1       3   1
  7        3       2       1       3   2   1
  8        3       1       1
  9        3       2       1       3   2   1
 10        1       2       3       1   2   3
 11        1       3       2       1   3   2
 12        2       3       1       3   1
</code></pre><p>Consider a very small election. In Table A are the votes from the 12 voters for the three candidates. Voters 1 and 8 cast invalid ballots; they will not be counted. This leaves 10 valid ballots, so a winning candidate will require at least 6 votes (the least integer value greater than half the number of valid ballots) to win. Candidates 1 and 3 each have 4 first choice votes, and candidate 2 has two. There is no majority, so the candidate with the fewest first choice votes, candidate 2, is eliminated. If there had been several candidates with the fewest first choice votes, any of them, selected at random, could be selected for elimination.</p>
<p>With candidate 2 eliminated, we advance the second and third choice candidates from those voters who voted for candidate 2 as their first choice. The result of this action is shown in Table B. Now candidate 3 has picked up 2 additional votes, giving a total of 6. This is sufficient for election. Note that if voter 12 had cast the ballot <code>2 1 3</code> then there would have been a tie between candidates 1 and 3.</p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>There will be one or more elections to consider. Each will begin with a line containing the number of candidates and the number of voters, c and n. Data for the last election will be followed by a line containing two zeroes.</p>
<p>Following the first line for each election will be n additional lines each containing the choices from a single ballot. Each line will contain only c non-negative integers separated by whitespace.</p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>For each election, print a line identifying the election number (they are numbered sequentially starting with 1). If there were any invalid ballots, print an additional line specifying the number of such. Finally, print a line indicating the winner of the election, if any, or indication of a tie; be certain to identify the candidates who are tied. Look at the samples below for the exact output format.</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line">3 12</div><div class="line">1 2 4</div><div class="line">1 3 2</div><div class="line">3 2 1</div><div class="line">3 2 1</div><div class="line">1 2 3</div><div class="line">2 3 1</div><div class="line">3 2 1</div><div class="line">3 1 1</div><div class="line">3 2 1</div><div class="line">1 2 3</div><div class="line">1 3 2</div><div class="line">2 3 1</div><div class="line">3 12</div><div class="line">1 2 4</div><div class="line">1 3 2</div><div class="line">3 2 1</div><div class="line">3 2 1</div><div class="line">1 2 3</div><div class="line">2 3 1</div><div class="line">3 2 1</div><div class="line">3 1 1</div><div class="line">3 2 1</div><div class="line">1 2 3</div><div class="line">1 3 2</div><div class="line">2 1 3</div><div class="line">4 15</div><div class="line">4 3 1 2</div><div class="line">4 1 2 3</div><div class="line">3 1 4 2</div><div class="line">1 3 2 4</div><div class="line">4 1 2 3</div><div class="line">3 4 2 1</div><div class="line">2 4 3 1</div><div class="line">3 2 1 4</div><div class="line">3 1 4 2</div><div class="line">1 4 2 3</div><div class="line">3 4 1 2</div><div class="line">3 2 1 4</div><div class="line">4 1 3 2</div><div class="line">3 2 1 4</div><div class="line">4 2 1 4</div><div class="line">0 0</div></pre></td></tr></table></figure>
<h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">Election #1</div><div class="line">   2 bad ballot(s)</div><div class="line">   Candidate 3 is elected.</div><div class="line">Election #2</div><div class="line">   2 bad ballot(s)</div><div class="line">   The following candidates are tied: 1 3</div><div class="line">Election #3</div><div class="line">   1 bad ballot(s)</div><div class="line">   Candidate 3 is elected.</div></pre></td></tr></table></figure>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p><strong> 題目描述： </strong></p>
<p>投票時紀錄自願序，接著每一輪刷掉得票數量最小的候選人，直到所有候選人得票數皆相同或者只剩下一個候選人。若自願序中前位者遭到刷掉，則由下一個志願候選人替補。</p>
<p>如果發現志願序中有重複候選人、或者是不存在的候選人則將此票視為廢票。</p>
<p><strong> 題目解法： </strong></p>
<p>模擬！</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> n, m, cases = <span class="number">0</span>, x;</div><div class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;n, &amp;m) == <span class="number">2</span> &amp;&amp; n+m) &#123;</div><div class="line">        <span class="keyword">int</span> bad[<span class="number">1024</span>] = &#123;&#125;, A[<span class="number">1024</span>][<span class="number">16</span>];</div><div class="line">        <span class="keyword">int</span> badCount = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</div><div class="line">            <span class="keyword">int</span> mark[<span class="number">16</span>] = &#123;&#125;;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</div><div class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;x);</div><div class="line">                A[i][j] = x;</div><div class="line">                <span class="keyword">if</span>(x &gt; n || x &lt; <span class="number">1</span>) &#123;</div><div class="line">                    bad[i] = <span class="number">1</span>;</div><div class="line">                    <span class="keyword">continue</span>;</div><div class="line">                &#125;</div><div class="line">                mark[x]++;</div><div class="line">                <span class="keyword">if</span>(mark[x] &gt; <span class="number">1</span>)</div><div class="line">                    bad[i] = <span class="number">1</span>;</div><div class="line">            &#125;</div><div class="line">            badCount += bad[i];</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="built_in">printf</span>(<span class="string">"Election #%d\n"</span>, ++cases);</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"   %d bad ballot(s)\n"</span>, badCount);</div><div class="line">        </div><div class="line">        <span class="keyword">int</span> Atop[<span class="number">1024</span>] = &#123;&#125;, alive[<span class="number">1024</span>] = &#123;&#125;, aliveCount = n;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</div><div class="line">            <span class="keyword">int</span> votes[<span class="number">16</span>] = &#123;&#125;, mx = <span class="number">0</span>, del = <span class="number">-1</span>;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j++) &#123;</div><div class="line">                <span class="keyword">if</span>(bad[j])	<span class="keyword">continue</span>;</div><div class="line">                <span class="keyword">while</span>(alive[A[j][Atop[j]]])</div><div class="line">                    Atop[j]++;</div><div class="line">                votes[A[j][Atop[j]]]++;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++)</div><div class="line">                mx = max(mx, votes[j]);</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++) &#123;</div><div class="line">                <span class="keyword">if</span>(votes[j] &lt; mx &amp;&amp; alive[j] == <span class="number">0</span>)</div><div class="line">                    del = j, mx = votes[j];</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span>(del == <span class="number">-1</span>)	<span class="keyword">break</span>;</div><div class="line">            alive[del] = <span class="number">1</span>, aliveCount--;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(aliveCount == <span class="number">1</span>) &#123;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</div><div class="line">                <span class="keyword">if</span>(alive[i] == <span class="number">0</span>)</div><div class="line">                    <span class="built_in">printf</span>(<span class="string">"   Candidate %d is elected.\n"</span>, i);</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="built_in">printf</span>(<span class="string">"   The following candidates are tied:"</span>);</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</div><div class="line">                <span class="keyword">if</span>(alive[i] == <span class="number">0</span>)</div><div class="line">                    <span class="built_in">printf</span>(<span class="string">" %d"</span>, i);</div><div class="line">            <span class="built_in">puts</span>(<span class="string">""</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/74/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/73/">73</a><a class="page-number" href="/page/74/">74</a><span class="page-number current">75</span><a class="page-number" href="/page/76/">76</a><a class="page-number" href="/page/77/">77</a><span class="space">&hellip;</span><a class="page-number" href="/page/85/">85</a><a class="extend next" rel="next" href="/page/76/">Next &raquo;</a>
    </nav>
  
</section>
          
          
            <aside id="sidebar">
  <!-- <div id="ukagaka_panel"></div> -->
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/">學校課程</a><span class="category-list-count">115</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/介面設計/">介面設計</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/作業系統/">作業系統</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/即時系統/">即時系統</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/大學專題/">大學專題</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/巨量資料/">巨量資料</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/平行程式/">平行程式</a><span class="category-list-count">43</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/敏捷方法/">敏捷方法</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/數位影像生成/">數位影像生成</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/編譯器/">編譯器</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/自然語言/">自然語言</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/虛擬實境/">虛擬實境</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/計算型智慧/">計算型智慧</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/計算幾何/">計算幾何</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/計算機圖學/">計算機圖學</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/資料庫系統/">資料庫系統</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/資訊安全/">資訊安全</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/通識課程/">通識課程</a><span class="category-list-count">14</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/">工作應用</a><span class="category-list-count">32</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/Java/">Java</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/Meme/">Meme</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/可持久化/">可持久化</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/鬼故事/">鬼故事</a><span class="category-list-count">10</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/手札日記/">手札日記</a><span class="category-list-count">46</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/">網頁設計</a><span class="category-list-count">15</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/About-This-Blog/">About This Blog</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/HTML5/">HTML5</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/JQuery/">JQuery</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/Markdown/">Markdown</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/NodeJs/">NodeJs</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/">解題區</a><span class="category-list-count">633</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/Latex/">Latex</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/出題解題/">出題解題</a><span class="category-list-count">23</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-POJ/">解題區 - POJ</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a><span class="category-list-count">483</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-Zerojudge/">解題區 - Zerojudge</a><span class="category-list-count">77</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-其他題目/">解題區 - 其他題目</a><span class="category-list-count">45</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-未解題目/">解題區 - 未解題目</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/雜言筆記/">雜言筆記</a><span class="category-list-count">4</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a class="text" href="/2021/06/21/diary-202106/">
              
                <i class="icon-file-o"></i> 
              
            疫情下的工作變化</a>
          </li>
        
          <li>
            <a class="text" href="/2021/06/21/work/company-ghost-story-10/">
              
                <i class="icon-file-o"></i> 
              
            Company Ghost Story 公司鬼故事 10</a>
          </li>
        
          <li>
            <a class="text" href="/2021/05/30/diary-202105/">
              
                <i class="icon-file-o"></i> 
              
            前思後想 新居落成</a>
          </li>
        
          <li>
            <a class="text" href="/2021/05/30/java/java-memory-optimization-2/">
              
                <i class="icon-file-o"></i> 
              
            Java 優化內存使用 組合篇</a>
          </li>
        
          <li>
            <a class="text" href="/2021/05/30/java/java-memory-optimization-1/">
              
                <i class="icon-file-o"></i> 
              
            Java 優化內存使用 結構篇</a>
          </li>
        
          <li>
            <a class="text" href="/2021/01/31/diary-202101/">
              
                <i class="icon-file-o"></i> 
              
            二八進展</a>
          </li>
        
          <li>
            <a class="text" href="/2021/01/31/work/meme-globl-var/">
              
                <i class="icon-file-o"></i> 
              
            Global Variable</a>
          </li>
        
          <li>
            <a class="text" href="/2021/01/31/work/meme-file-extension/">
              
                <i class="icon-file-o"></i> 
              
            File Extension</a>
          </li>
        
          <li>
            <a class="text" href="/2021/01/31/work/meme-handover/">
              
                <i class="icon-file-o"></i> 
              
            Handover</a>
          </li>
        
          <li>
            <a class="text" href="/2021/01/31/work/meme-interview-recursion/">
              
                <i class="icon-file-o"></i> 
              
            Interview &amp; Recursion</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    <div class="widget-wrap">
    <h3 class="widget-title">Links</h3>
    <div class="widget">   
      	<ul>
	      <li><a href="http://mypaper.pchome.com.tw/zerojudge" target="_blank" title="Old Blog"><i class="icon-star"></i> Morris' Blog (pchome)</a></li>
	      <li><a href="http://flere114.blogspot.tw/" target="_blank" title="蘿莉勿觸"><i class="icon-googles"></i> flere's Blog</a></li>
	      <li><a href="http://dreamoon4.blogspot.tw/" target="_blank" title="夢月"><i class="icon-googles"></i> dreamoon's Blog</a></li>
	      <li><a href="http://m80126colin.github.io" target="_blank" title="許胖們"><i class="icon-github-alt"></i> m80126colin's Blog</a></li>
	      <li><a href="http://sd12582000.blogspot.tw/" target="_blank" title="妮可妮可"><i class="icon-github-alt"></i> Nico's Blog</a></li>
	      <li><a href="http://kuoe0.logdown.com/" target="_blank" title="郭至軒大神"><i class="icon-github-alt"></i> KuoE0's Dots</a></li>
	      <li><a href="http://tyan.io/" title=""><i class="icon-github-alt"></i> Tyan Blog</a></li>
    	</ul>
    </div>
</div>

  
    
<script src="/js/jquery-ui.js"></script>
<script src="/js/ukagaka/jquery.morris.ukagaka.resource.js"></script>
<script src="/js/ukagaka/typed.js"></script>
  
  
</aside>
          
        
      </div>
      <footer id="footer">
  
  <div class="outer">    
    <div class="social-group">
      
      <a href="https://github.com/morris821028" target="_blank" title="github"><i class="icon-github"></i></a>
      
      
      <a href="https://www.facebook.com/Morris1028" target="_blank" title="facebook"><i class="icon-facebook-sign"></i></a>
      
      
      <a href="http://uhunt.felix-halim.net/id/46705" target="_blank" title="uhunt" ><span class="icon-uhunt">UVa<span></a>
      
    </div>
    <div id="footer-info" class="inner">
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and Theme by <a href="https://github.com/morris821028/hexo-theme-landscape" target="_blank" title="landscape">landscape</a> &copy; 2021 Shiang-Yun Yang 
    </div>
  </div>
</footer>


    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link"><i class=icon-home ></i>&nbsp&nbspHome</a>
  
    <a href="/about" class="mobile-nav-link"><i class=icon-user ></i>&nbsp&nbspAbout</a>
  
    <a href="/archives" class="mobile-nav-link"><i class=icon-archive ></i>&nbsp&nbspArchives</a>
  
    <a href="/tags" class="mobile-nav-link"><i class=icon-tags ></i>&nbsp&nbspTags</a>
  
    <a href="/picture" class="mobile-nav-link"><i class=icon-camera ></i>&nbsp&nbspPictures</a>
  
    <a href="/works" class="mobile-nav-link"><i class=icon-trophy ></i>&nbsp&nbspWorks</a>
  
</nav>
    
<script>
  var disqus_shortname = 'morris1028';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//go.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/jquery.lazyload.js"></script>
<script src="/js/jquery.als-1.6.js"></script>

<script src="/js/script.js"></script>

  </div><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
</body>
</html>