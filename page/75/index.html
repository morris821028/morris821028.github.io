<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <title>Morris&#39; Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Morris&#39; Blog">
<meta property="og:url" content="http://morris821028.github.io/page/75/index.html">
<meta property="og:site_name" content="Morris&#39; Blog">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Morris&#39; Blog">
<link rel="publisher" href="108158678174364350000">
  
    <link rel="alternative" href="/atom.xml" title="Morris&#39; Blog" type="application/atom+xml">
  
  
    <meta name="google-site-verification" content="5mRgj8NanEMpGZuNfHNJNmH90RgNlrnJXsFlTaKD6Gs" />
  
  
    <link rel="shortcut icon" href="/img/f.ico">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <script src="/js/jquery-2.1.0.min.js"></script>
  <link rel="stylesheet" href="/css/style.css">
  
  <link rel="stylesheet" href="http://cdn.oesmith.co.uk/morris-0.5.1.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
<script src="http://cdn.oesmith.co.uk/morris-0.5.1.min.js"></script>
  <link rel="import" href="/bower_components/app-layout/app-layout.html"><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>
<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"><div id="banner-right"></div></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Morris&#39; Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          
            <a class="main-nav-link" href="/"><i class=icon-home title='Home'></i></a>
          
        
          
            <a class="main-nav-link" href="/about"><i class=icon-user title='About'></i></a>
          
        
          
            <a class="main-nav-link" href="/archives"><i class=icon-archive title='Archives'></i></a>
          
        
          
            <a class="main-nav-link" href="/tags"><i class=icon-tags title='Tags'></i></a>
          
        
          
            <a class="main-nav-link" href="/picture"><i class=icon-camera title='Pictures'></i></a>
          
        
          
            <a class="main-nav-link" href="/works"><i class=icon-trophy title='Works'></i></a>
          
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://morris821028.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        
          
          <section id="main">
  
    <article id="post-oj/uva/uva-12778" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/07/02/oj/uva/uva-12778/" class="article-date">
  <time datetime="2014-07-02T01:41:00.000Z" itemprop="datePublished">2014-07-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/07/02/oj/uva/uva-12778/">UVa 12778 - Minimum Sum</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/07/02/oj/uva/uva-12778/" data-id="ckpaivccf00k9n8vnh08wbnnd" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/07/02/oj/uva/uva-12778/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/BIT/">BIT</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/排容原理/">排容原理</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="題目描述"><a href="#題目描述" class="headerlink" title="題目描述"></a>題目描述</h2><p>對於任一區間 [l, r] 找到一個最小值 a[m] 其中 l &lt;= m &lt;= r，計算 </p>
<span>$$\begin{aligned}
f(l, r) = \sum_{i = l}^{r} |a[m] - a[i]|
\end{aligned}$$</span><!-- Has MathJax -->

<p>並且把所有 f(l, r) 加總起來。</p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>要將所有情況加總，因此會有 <code>C(n, 2)</code> 個對。</p>
<p>反過來思考，對於每一個最小值 <code>a[m]</code> 來說，有多少區間會使用到它進行計算。也就是說，找到一個最大的區間 <code>[l, r]</code> 包含 <code>a[m]</code>，同時這個區間內的數字皆大於等於 <code>a[m]</code>。</p>
<p>則對於 <code>a[m]</code> 而言，會找到一個最大的區間 <code>[l, m, r]</code>，會有 <code>(m - l + 1) * (r - m + 1)</code> 個區間會認定 a[m] 是該區間的最小值，則直接計算即可。</p>
<p>但這裡也存有一個很大的問題，會有兩個相同小的數字，特別處理它。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span> </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 65536</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> sum[MAXN], ssum[MAXN], isum[MAXN], issum[MAXN];</span><br><span class="line"><span class="comment">// binary indexed tree</span></span><br><span class="line"><span class="keyword">int</span> BIT[MAXN&lt;&lt;<span class="number">1</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(x) &#123;</span><br><span class="line">        ret = <span class="built_in">max</span>(ret, BIT[x]);</span><br><span class="line">        x -= x&amp;(-x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">modify</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> v, <span class="keyword">int</span> L)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(x &lt;= L) &#123;</span><br><span class="line">        BIT[x] = <span class="built_in">max</span>(BIT[x], v);</span><br><span class="line">        x += x&amp;(-x);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query2</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = INF;</span><br><span class="line">    <span class="keyword">while</span>(x) &#123;</span><br><span class="line">        ret = <span class="built_in">min</span>(ret, BIT[x]);</span><br><span class="line">        x -= x&amp;(-x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">modify2</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> v, <span class="keyword">int</span> L)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(x &lt;= L) &#123;</span><br><span class="line">        BIT[x] = <span class="built_in">min</span>(BIT[x], v);</span><br><span class="line">        x += x&amp;(-x);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> cases = <span class="number">0</span>, preA[MAXN], sufA[MAXN], start[MAXN], cover[MAXN&lt;&lt;<span class="number">1</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">//	freopen(&quot;in.txt&quot;, &quot;r+t&quot;, stdin);</span></span><br><span class="line"><span class="comment">//	freopen(&quot;out2.txt&quot;, &quot;w+t&quot;, stdout); </span></span><br><span class="line">    <span class="keyword">int</span> testcase, n, A[MAXN];</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;testcase);</span><br><span class="line">    <span class="keyword">while</span>(testcase--) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;A[i]), start[i] = <span class="number">0</span>, cover[A[i] + MAXN] = <span class="number">-1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> L = <span class="number">50000</span> + MAXN;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= L; i++)</span><br><span class="line">            BIT[i] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            preA[i] = <span class="built_in">query</span>(A[i] + MAXN);</span><br><span class="line">            <span class="built_in">modify</span>(A[i]+MAXN, i, L);</span><br><span class="line">            <span class="keyword">if</span>(preA[i] &lt;= cover[A[i] + MAXN])</span><br><span class="line">                start[i] = cover[A[i] + MAXN] + <span class="number">1</span>;</span><br><span class="line">            cover[A[i] + MAXN] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= L; i++)</span><br><span class="line">            BIT[i] = n + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = n; i &gt;= <span class="number">1</span>; i--) &#123;</span><br><span class="line">            sufA[i] = <span class="built_in">query2</span>(A[i] + MAXN);</span><br><span class="line">            <span class="built_in">modify2</span>(A[i]+MAXN+<span class="number">1</span>, i, L);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">            sum[i] = sum[i<span class="number">-1</span>] + A[i];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">            ssum[i] = ssum[i<span class="number">-1</span>] + sum[i];</span><br><span class="line">            </span><br><span class="line">        isum[n+<span class="number">1</span>] = issum[n+<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = n; i &gt;= <span class="number">1</span>; i--)</span><br><span class="line">            isum[i] = isum[i+<span class="number">1</span>] + A[i];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = n; i &gt;= <span class="number">1</span>; i--)</span><br><span class="line">            issum[i] = issum[i+<span class="number">1</span>] + isum[i];</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> ret = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="keyword">long</span> <span class="keyword">long</span> suma, a, sumb, b;</span><br><span class="line">            <span class="keyword">if</span>(start[i]) &#123;</span><br><span class="line">                suma = issum[start[i]] - issum[i], a = i - start[i];</span><br><span class="line">                sumb = ssum[sufA[i]<span class="number">-1</span>] - ssum[i], b = sufA[i] - i - <span class="number">1</span>;</span><br><span class="line">                suma -= isum[i] * a;</span><br><span class="line">                sumb -= sum[i] * b;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                suma = issum[preA[i]+<span class="number">1</span>] - issum[i], a = i - preA[i] - <span class="number">1</span>;</span><br><span class="line">                sumb = ssum[sufA[i]<span class="number">-1</span>] - ssum[i], b = sufA[i] - i - <span class="number">1</span>;</span><br><span class="line">                suma -= isum[i] * a;</span><br><span class="line">                sumb -= sum[i] * b;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="comment">//			printf(&quot;index %d\n&quot;, i);</span></span><br><span class="line"><span class="comment">//			printf(&quot;%lld %lld\n&quot;, ssum[sufA[i]-1], ssum[i]);</span></span><br><span class="line"><span class="comment">//			printf(&quot;%lld %lld %lld %lld -- %lld\n&quot;, suma, a, sumb, b, (suma - A[i]*a*(a+1)/2) * (b + 1) + (sumb - A[i]*b*(b+1)/2) * (a + 1));</span></span><br><span class="line">            ret += (suma - A[i]*a*(a+<span class="number">1</span>)/<span class="number">2</span>) * (b + <span class="number">1</span>) + (sumb - A[i]*b*(b+<span class="number">1</span>)/<span class="number">2</span>) * (a + <span class="number">1</span>);</span><br><span class="line"><span class="comment">//			long long test = 0;</span></span><br><span class="line"><span class="comment">//			for(int j = i; j &gt;= 1; j--) &#123;</span></span><br><span class="line"><span class="comment">//				if(A[j] &lt; A[i])</span></span><br><span class="line"><span class="comment">//					break;</span></span><br><span class="line"><span class="comment">//				for(int k = i; k &lt;= n; k++) &#123;</span></span><br><span class="line"><span class="comment">//					if(A[k] &lt; A[i])	break;</span></span><br><span class="line"><span class="comment">//					for(int l = j; l &lt;= k; l++)</span></span><br><span class="line"><span class="comment">//						test += A[l] - A[i];</span></span><br><span class="line"><span class="comment">//				&#125;</span></span><br><span class="line"><span class="comment">//			&#125;</span></span><br><span class="line"><span class="comment">//			printf(&quot;DEBUG %lld\n&quot;, test);</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Case %d: %lld\n&quot;</span>, ++cases, ret);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">1</span></span><br><span class="line"><span class="comment">5</span></span><br><span class="line"><span class="comment">1 2 3 4 5</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">10</span></span><br><span class="line"><span class="comment">10</span></span><br><span class="line"><span class="comment">-7 2 -6 7 -9 5 -5 -3 9 3 </span></span><br><span class="line"><span class="comment">10</span></span><br><span class="line"><span class="comment">1 -7 9 2 4 7 -10 8 0 0 </span></span><br><span class="line"><span class="comment">10</span></span><br><span class="line"><span class="comment">-8 9 4 -8 1 2 -3 2 8 8 </span></span><br><span class="line"><span class="comment">10</span></span><br><span class="line"><span class="comment">-3 -4 0 -2 5 9 -3 -4 2 1 </span></span><br><span class="line"><span class="comment">10</span></span><br><span class="line"><span class="comment">3 -8 -9 -4 8 -9 -7 6 -10 -9 </span></span><br><span class="line"><span class="comment">10</span></span><br><span class="line"><span class="comment">-7 0 -2 8 -6 6 9 -5 -1 -3 </span></span><br><span class="line"><span class="comment">10</span></span><br><span class="line"><span class="comment">1 -10 7 -1 7 -10 5 -1 -10 9 </span></span><br><span class="line"><span class="comment">10</span></span><br><span class="line"><span class="comment">-2 9 -8 8 -7 0 -1 -8 7 -9 </span></span><br><span class="line"><span class="comment">10</span></span><br><span class="line"><span class="comment">-9 2 3 -8 -10 9 7 9 1 3 </span></span><br><span class="line"><span class="comment">10</span></span><br><span class="line"><span class="comment">3 5 1 -4 -6 -3 0 2 -5 -5 </span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-451" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/07/02/oj/uva/uva-451/" class="article-date">
  <time datetime="2014-07-02T01:36:02.000Z" itemprop="datePublished">2014-07-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/07/02/oj/uva/uva-451/">UVa 451 - Poker Solitaire Evaluator</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/07/02/oj/uva/uva-451/" data-id="ckpaivccy00min8vn2jxn55bk" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/07/02/oj/uva/uva-451/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/撲克/">撲克</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>The input will contain several test cases. First line of the input is the an integer which indicate the number of test case followed by a blank line. Each consecutive test case will also separated by a blank line.</p>
<p>Each test case gets 25 cards, 5 cards per line. Each card consists of two characters. The first represents the rank of the card: <code>A&#39;, </code>2’, <code>3&#39;, </code>4’, <code>5&#39;, </code>6’, <code>7&#39;, </code>8’, <code>9&#39;, </code>X’, <code>J&#39;, </code>Q’, <code>K&#39;. The second represents the suit of the card: </code>S’, <code>H&#39;, </code>D’, `C’.</p>
<p>The cards are dealt into a tex2html_wrap_inline44 square. Each row and column is evaluated to determine the highest hand type for which its 5 cards qualify. The hand types, from low to high, are Nothing, Pair, Two Pair, Three of a Kind, Straight, Flush, Full House, Four of a Kind, Straight Flush. A hand qualifies only once, and then only for its highest type. For example, a Four of a Kind does not count as two pair or three of a kind.</p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>For each test case output a list of 9 integers, telling how many hands of each handtype were found. from lowest to highest, being:</p>
<pre><code>Nothing: does not qualify as any of the following. Example: AC, 3H, QS, JD, 7D.

One Pair: contains two cards of the same rank and does not qualify for any of the following. Example: 2C, 3H, 4H, 2H, KD.

Two Pair: contains two cards of one rank and two cards of another and does not qualify for any of the following. Example: 2C, 3H, 4H, 2H, 4D.

Three of a Kind: contains three cards of the same rank and does not qualify for any of the following. Example: QS, KH, 2C, QD, QC.

Straight: the five cards of the hand may be sorted on rank so that an unbroken sequence of 5 ranks is formed and the hand does not qualify for any of the following. There can be cycle through Ace. That is AC, 2H, 4D, 3H, 5S forms a straight, as does JH, XD,QC, KD, AS and QC, KD, AS, 2H, 3D.

Flush: the five cards are all of the same suit and the hand does not qualify for any of the following. Example: 5D, AD, KD, 7D, QD.

Full House: the hand contains three cards of one rank and two cards of another. Example: 3C, QS, QD, 3H, 3S.

Four of a kind: the hand contains four cards of the same rank. Example: AS, AD, AH, 7C, AC.

Straight Flush: the hand meets the criteria for being both a straight and a flush. 
</code></pre>
<p>Two consecutive output will separated by a blank line.</p>
<p>For the example below, the five rows evaluate to Straight Flush, Straight, Pair, Flush, Three of a Kind. The Five columns evaluate to Four of A Kind, Full House, Two Pair, Nothing, and Two Pair.</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line"></span><br><span class="line">AS 2S 3S 4S 5S</span><br><span class="line">AC 2H 3H 5C 4C</span><br><span class="line">AH 2D KC KH 5D</span><br><span class="line">AD 3D KD 9D 8D</span><br><span class="line">XH 3C XC XS 8C</span><br></pre></td></tr></table></figure>

<h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1, 1, 2, 1, 1, 1, 1, 1, 1</span><br></pre></td></tr></table></figure>

<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><blockquote><p>一張撲克牌有花色（Clubs, Diamonds, Hearts, Spades，分別以C，D，H，S來代表）及點數（2,3,4,5,6,7,8,9,10, jack, queen, king, ace，分別以2,3,4,5,6,7,8,9,X,J,Q,K,A來代表）。有一種常見的撲克牌遊戲叫”梭哈”（就是你在電影賭神中常見的那種遊戲），每個人手上有5張牌，並且依照以下的規則給予每手牌1-9的整數值。注意：每手牌只能有一個值（高的那一個），例如：Four of a kind就不能算為two pairs 或 three of a kind.</p>
<ol>
<li>Nothing:（中文翻譯：不知道，就是最爛的就是了）沒有以下任何情況就屬於nothing。例如：AH 9D 7C 3H 2D</li>
<li>One pair:（中文翻譯：1對）有2張牌同一個點數，另3張牌皆不同點數。例如：8H 8D KC 5H 2D</li>
<li>Two pairs:（中文翻譯：2對）有2組2張牌同一個點數，另1張牌不同點數。例如：8H 8D 5C 5H 9D</li>
<li>Three of a kind:（中文翻譯：3條）3張牌同一個點數，另2張牌不同點數。例如：8H 8D 8C AH 9D</li>
<li>Straight:（中文翻譯：順子）5張牌的點數為連續的並且可以A連接2成一圈。（所以：點數T J Q K A是順子，A 2 3 4 5是順子，Q K A 2 3也是順子）例如：8H 9H TH JH QD</li>
<li>Flush:（中文翻譯：同花）5張牌同一花色。例如：6H 9H TH JH QH</li>
<li>Full House:（中文翻譯：葫蘆）3張同一點數，另2張同一點數。例如：8H 8D 8C 7S 7D</li>
<li>Four of a kind:（中文翻譯：4條或鐵枝）4張牌同一個點數。例如：8H 8D 8C 8S 9D</li>
<li>Straight flush: （中文翻譯：同花順）5張牌同一花色，並且形成一個順子。例如：8H 9H TH JH QH</li>
</ol>
<p>給你25張牌排成5*5的樣子。你的任務就是算出5列（橫的）及5欄（直的）這10手牌所形成的統計結果。</p>
<footer><strong>luckycat 翻譯</strong></footer></blockquote>

<p>依序判斷，只能硬暴。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span> </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getSuit</span><span class="params">(<span class="keyword">char</span> c)</span> </span>&#123;</span><br><span class="line">    <span class="built_in"><span class="keyword">switch</span></span>(c) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;C&#x27;</span>: <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;D&#x27;</span>: <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;H&#x27;</span>: <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;S&#x27;</span>: <span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getRank</span><span class="params">(<span class="keyword">char</span> c)</span> </span>&#123;</span><br><span class="line">    <span class="built_in"><span class="keyword">switch</span></span>(c) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;0&#x27;</span> ... <span class="string">&#x27;9&#x27;</span>: <span class="keyword">return</span> c - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;A&#x27;</span>: <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;X&#x27;</span>: <span class="keyword">return</span> <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;J&#x27;</span>: <span class="keyword">return</span> <span class="number">11</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;Q&#x27;</span>: <span class="keyword">return</span> <span class="number">12</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;K&#x27;</span>: <span class="keyword">return</span> <span class="number">13</span>;</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">suitCmp</span><span class="params">(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; x, pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; y)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x.first != y.first)</span><br><span class="line">        <span class="keyword">return</span> x.first &lt; y.first;</span><br><span class="line">    <span class="keyword">return</span> x.second &lt; y.second;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">rankCmp</span><span class="params">(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; x, pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; y)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x.second != y.second)</span><br><span class="line">        <span class="keyword">return</span> x.second &lt; y.second;</span><br><span class="line">    <span class="keyword">return</span> x.first &lt; y.first;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getType</span><span class="params">(vector&lt; pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; &gt; cards)</span> </span>&#123;</span><br><span class="line">    vector&lt; pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; &gt;::iterator it;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">sort</span>(cards.<span class="built_in">begin</span>(), cards.<span class="built_in">end</span>(), suitCmp);</span><br><span class="line">    <span class="keyword">if</span>(cards[<span class="number">0</span>].first == cards[<span class="number">4</span>].first) &#123; <span class="comment">// all same suit</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">13</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> ok = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">5</span>; j++) &#123;</span><br><span class="line">                <span class="keyword">int</span> r = (i + j)%<span class="number">13</span> + <span class="number">1</span>;</span><br><span class="line">                it = <span class="built_in">find</span>(cards.<span class="built_in">begin</span>(), cards.<span class="built_in">end</span>(), <span class="built_in">make_pair</span>(cards[<span class="number">0</span>].first, r));</span><br><span class="line">                ok &amp;= it != cards.<span class="built_in">end</span>();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(ok)</span><br><span class="line">                <span class="keyword">return</span> <span class="number">9</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">sort</span>(cards.<span class="built_in">begin</span>(), cards.<span class="built_in">end</span>(), rankCmp);</span><br><span class="line">    <span class="keyword">if</span>(cards[<span class="number">0</span>].second == cards[<span class="number">3</span>].second ||</span><br><span class="line">        cards[<span class="number">1</span>].second == cards[<span class="number">4</span>].second)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">8</span>;</span><br><span class="line">            </span><br><span class="line">    <span class="built_in">sort</span>(cards.<span class="built_in">begin</span>(), cards.<span class="built_in">end</span>(), rankCmp);</span><br><span class="line">    <span class="keyword">if</span>(cards[<span class="number">0</span>].second == cards[<span class="number">2</span>].second &amp;&amp;</span><br><span class="line">        cards[<span class="number">3</span>].second == cards[<span class="number">4</span>].second)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">7</span>;</span><br><span class="line">    <span class="keyword">if</span>(cards[<span class="number">0</span>].second == cards[<span class="number">1</span>].second &amp;&amp;</span><br><span class="line">        cards[<span class="number">2</span>].second == cards[<span class="number">4</span>].second)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">7</span>;</span><br><span class="line">            </span><br><span class="line">    <span class="built_in">sort</span>(cards.<span class="built_in">begin</span>(), cards.<span class="built_in">end</span>(), suitCmp);</span><br><span class="line">    <span class="keyword">if</span>(cards[<span class="number">0</span>].first == cards[<span class="number">4</span>].first)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">6</span>;</span><br><span class="line">        </span><br><span class="line">    <span class="built_in">sort</span>(cards.<span class="built_in">begin</span>(), cards.<span class="built_in">end</span>(), suitCmp);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">13</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> ok = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">5</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">int</span> r = (i + j)%<span class="number">13</span> + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; <span class="number">4</span>; k++) &#123;</span><br><span class="line">                it = <span class="built_in">find</span>(cards.<span class="built_in">begin</span>(), cards.<span class="built_in">end</span>(), <span class="built_in">make_pair</span>(k, r));</span><br><span class="line">                <span class="keyword">if</span>(it != cards.<span class="built_in">end</span>())</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            ok &amp;= it != cards.<span class="built_in">end</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(ok)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">5</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">sort</span>(cards.<span class="built_in">begin</span>(), cards.<span class="built_in">end</span>(), rankCmp);</span><br><span class="line">    <span class="keyword">if</span>(cards[<span class="number">0</span>].second == cards[<span class="number">2</span>].second ||</span><br><span class="line">        cards[<span class="number">1</span>].second == cards[<span class="number">3</span>].second ||</span><br><span class="line">         cards[<span class="number">2</span>].second == cards[<span class="number">4</span>].second)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">4</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">sort</span>(cards.<span class="built_in">begin</span>(), cards.<span class="built_in">end</span>(), rankCmp);</span><br><span class="line">    <span class="keyword">if</span>(cards[<span class="number">0</span>].second == cards[<span class="number">1</span>].second &amp;&amp;</span><br><span class="line">        cards[<span class="number">2</span>].second == cards[<span class="number">3</span>].second)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">if</span>(cards[<span class="number">0</span>].second == cards[<span class="number">1</span>].second &amp;&amp;</span><br><span class="line">        cards[<span class="number">3</span>].second == cards[<span class="number">4</span>].second)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">if</span>(cards[<span class="number">1</span>].second == cards[<span class="number">2</span>].second &amp;&amp;</span><br><span class="line">        cards[<span class="number">3</span>].second == cards[<span class="number">4</span>].second)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line">            </span><br><span class="line">    <span class="built_in">sort</span>(cards.<span class="built_in">begin</span>(), cards.<span class="built_in">end</span>(), rankCmp);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">        <span class="keyword">if</span>(cards[i].second == cards[i<span class="number">-1</span>].second)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> testcase;</span><br><span class="line">    <span class="keyword">char</span> grid[<span class="number">5</span>][<span class="number">5</span>][<span class="number">5</span>];</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;testcase);</span><br><span class="line">    <span class="keyword">while</span>(testcase--) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">5</span>; j++)</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, grid[i][j]);</span><br><span class="line">        <span class="keyword">int</span> cnt[<span class="number">10</span>] = &#123;&#125;;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">            vector&lt; pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; &gt; cc;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">5</span>; j++)</span><br><span class="line">                cc.<span class="built_in">push_back</span>(<span class="built_in">make_pair</span>(<span class="built_in">getSuit</span>(grid[i][j][<span class="number">1</span>]), <span class="built_in">getRank</span>(grid[i][j][<span class="number">0</span>])));</span><br><span class="line">            <span class="keyword">int</span> f = <span class="built_in">getType</span>(cc);</span><br><span class="line">            cnt[f]++;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">            vector&lt; pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; &gt; cc;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">5</span>; j++)</span><br><span class="line">                cc.<span class="built_in">push_back</span>(<span class="built_in">make_pair</span>(<span class="built_in">getSuit</span>(grid[j][i][<span class="number">1</span>]), <span class="built_in">getRank</span>(grid[j][i][<span class="number">0</span>])));</span><br><span class="line">            <span class="keyword">int</span> f = <span class="built_in">getType</span>(cc);</span><br><span class="line">            cnt[f]++;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">9</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(i &gt; <span class="number">1</span>)	<span class="built_in">printf</span>(<span class="string">&quot;, &quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, cnt[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(testcase)</span><br><span class="line">            <span class="built_in">puts</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">2</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">AS 2S 3S 4S 5S</span></span><br><span class="line"><span class="comment">AC 2H 3H 5C 4C</span></span><br><span class="line"><span class="comment">AH 2D KC KH 5D</span></span><br><span class="line"><span class="comment">AD 3D KD 9D 8D</span></span><br><span class="line"><span class="comment">XH 3C XC XS 8C</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">AS 2S 3S 4S 6S</span></span><br><span class="line"><span class="comment">AC 2H 3H 5C 4C</span></span><br><span class="line"><span class="comment">AH 2D KC KH 5D</span></span><br><span class="line"><span class="comment">AD 3D KD 9D 8D</span></span><br><span class="line"><span class="comment">XH 3C XC XS 8C</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-12697" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/26/oj/uva/uva-12697/" class="article-date">
  <time datetime="2014-06-26T13:09:47.000Z" itemprop="datePublished">2014-06-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/26/oj/uva/uva-12697/">UVa 12697 - Minimal Subarray Length</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/06/26/oj/uva/uva-12697/" data-id="ckpaivccd00jxn8vn1xfphhx0" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/06/26/oj/uva/uva-12697/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/BIT/">BIT</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>You are given an integer sequence of length N and another value X. You have to find a contiguous subsequence of the given sequence such that the sum is greater or equal to<br>X. And you have to find that segment with minimal length.</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">5 4</span><br><span class="line">1 2 1 2 1</span><br><span class="line">6 -2</span><br><span class="line">-5 -6 -7 -8 -9 -10</span><br><span class="line">5 3</span><br><span class="line">-1 1 1 1 -1</span><br></pre></td></tr></table></figure>

<h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">-1</span><br><span class="line">3</span><br></pre></td></tr></table></figure>

<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>** 題目描述： **</p>
<p>找一段長度最小，且該區間總和大於等於指定 X。</p>
<p>** 題目解法： **</p>
<p>離散化後，利用掃描線的思路進行維護。</p>
<p>利用前綴和 SUM[i]，查找小於等於 SUM[i] - X 的最大值。</p>
<p>隨後更新 SUM[i] 位置的值 i。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 5024288</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> A[MAXN], SM[MAXN], SB[MAXN];</span><br><span class="line"><span class="comment">// binary index tree</span></span><br><span class="line"><span class="keyword">int</span> BIT[MAXN&lt;&lt;<span class="number">1</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">modify</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> v, <span class="keyword">int</span> L)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(x &lt;= L) &#123;</span><br><span class="line">        BIT[x] = <span class="built_in">max</span>(BIT[x], v);</span><br><span class="line">        x += x&amp;(-x);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = - INF;</span><br><span class="line">    <span class="keyword">while</span>(x) &#123;</span><br><span class="line">        ret = <span class="built_in">max</span>(ret, BIT[x]);</span><br><span class="line">        x -= x&amp;(-x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> testcase, N, X;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;testcase);</span><br><span class="line">    <span class="keyword">while</span>(testcase--) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;N, &amp;X);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%lld&quot;</span>, A+i);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</span><br><span class="line">            SM[i] = SM[i<span class="number">-1</span>] + A[i];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= N; i++)</span><br><span class="line">            SB[i] = SM[i];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N + <span class="number">1</span>; i++)</span><br><span class="line">            BIT[i] = - INF;</span><br><span class="line">        <span class="built_in">sort</span>(SB, SB + N + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> M = <span class="built_in">unique</span>(SB, SB + N + <span class="number">1</span>) - SB;		</span><br><span class="line">        <span class="keyword">int</span> ret = INF;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= N; i++) &#123;</span><br><span class="line">            <span class="keyword">long</span> <span class="keyword">long</span> v = SM[i] - X;</span><br><span class="line">            <span class="keyword">int</span> pos = <span class="built_in">upper_bound</span>(SB, SB + M, v) - SB;</span><br><span class="line">            <span class="keyword">if</span>(pos - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; i)  &#123;</span><br><span class="line">                ret = <span class="built_in">min</span>(ret, i - <span class="built_in">query</span>(pos));</span><br><span class="line"><span class="comment">//				printf(&quot;query %d\n&quot;, i - query(pos));</span></span><br><span class="line">            &#125;</span><br><span class="line">            pos = <span class="built_in">upper_bound</span>(SB, SB + M, SM[i]) - SB;</span><br><span class="line">            <span class="built_in">modify</span>(pos, i, M);</span><br><span class="line"><span class="comment">//			printf(&quot;%lld %d\n&quot;, v, pos);</span></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, ret == INF ? <span class="number">-1</span> : ret);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">3</span></span><br><span class="line"><span class="comment">5 4</span></span><br><span class="line"><span class="comment">1 2 1 2 1</span></span><br><span class="line"><span class="comment">6 -2</span></span><br><span class="line"><span class="comment">-5 -6 -7 -8 -9 -10</span></span><br><span class="line"><span class="comment">5 3</span></span><br><span class="line"><span class="comment">-1 1 1 1 -1</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-428" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/24/oj/uva/uva-428/" class="article-date">
  <time datetime="2014-06-24T13:24:35.000Z" itemprop="datePublished">2014-06-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/24/oj/uva/uva-428/">UVa 428 - Swamp County Roofs</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/06/24/oj/uva/uva-428/" data-id="ckpaivccy00mhn8vn3y7t0rx6" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/06/24/oj/uva/uva-428/#disqus_thread" class="article-comment-link">Comments</a>
      
      
    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p> The Swamp County Environmental Office is concerned about the number of structures in the county. They have a theory that all the rain water landing on roofs of buildings, parking lots, roads, and highways is going down the sewage system instead of draining to the ecologically sensitive and historically important swamp land the county is famous for.</p>
<p>Your team has been hired to do the analysis of rain water captured by building roofs. The Planning Commission, which processes all building permits, and hence knows the plans of every structure in the county, will provide the data. Their database contains a set of measurements for the roofs of every building on every lot in the county.</p>
<p>The Engineering staff of the Planning Commission has determined that all the roofs in the county can be represented by one or more quadrilaterals. Each quadrilateral has the following characteristics:</p>
<pre><code>length of baseline, in feet;
length of ridgeline, in feet;
distance between baseline and ridgeline, in feet;
and inclination of the roof segment, in degrees. 
</code></pre>
<p>The baseline is always parallel to the ridgeline. A roof segment is always flat, but may be inclined. The inclination of the segment occurs along the baseline or ridgeline axis. A roof segment that is inclined 90 degrees is a wall that is assumed to have negligible thickness, and hence gathers no rain–such a segment will not appear in the data. Assume that the buildings are on level land, and that no roof segment overlaps any other. A roof segment may have either a baseline or ridgeline length of zero (such a segment is actually a triangle). A lot may contain one or more buildings, but your program need only compute the area covered by roofs on a lot-by-lot basis.</p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>Each lot is represented by a series of numbers separated from each other by white space and/or new-lines. The lot size, in square feet, is followed by a list of roof segments. Each roof segment will consist of the length of the baseline, the length of the ridgeline, the distance between the baseline and the ridgeline, and the inclination. Each lot description including the last will end with a blank line.</p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>For each lot compute and print the following statistics: the total roof surface area of buildings in square feet, the total floor space covered by roofs in square feet, and the percentage of rain intercepted by roofs. Print these values in labeled columns, one lot per line, with two digits after the decimal point. Print percent signs after the percentage of rain figures.</p>
<p>At the end of the run compute and print the following statistics: the total roof surface area of all roofs in the county, the total floor space covered by roofs in the county, the overall percentage of rain intercepted by roofs, the average roof surface area on a lot, and the average floor space covered by roofs on a lot. Skip a line after the per-lot listing and print these values on separate lines with appropriate labels.</p>
<p>Print each value with two digits after the decimal point. Print a percent sign after the overall percentage of rain value. Use a report format similar to that of the sample output below.</p>
<p>One of the reasons Swamp County has remained so is the relative lack of wind in the county–you may therefore assume that all rain falls vertically.</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">100 10 10 10 60</span><br><span class="line">10 10 10 60</span><br><span class="line"></span><br><span class="line">200 5 10.5 5 30  10 10 7.5 45</span><br></pre></td></tr></table></figure>

<h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Roof Area     Floor Area     % Covered</span><br><span class="line">---------     ----------     ---------</span><br><span class="line">   200.00         100.00       100.00%</span><br><span class="line">   113.75          86.59        43.30%</span><br><span class="line"> </span><br><span class="line">Total surface area of roofs      313.75</span><br><span class="line">Total area covered by roofs      186.59</span><br><span class="line">Percentage of total area covered by roofs   62.20%</span><br><span class="line">Average roof surface area per lot          156.88</span><br><span class="line">Average floor space covered per lot         93.30</span><br></pre></td></tr></table></figure>

<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>** 題目描述： **</p>
<p>屋頂為一個三維空間的平面，假想成梯形也可以，頃角就是單純地將梯形與平面 x-y 夾角 theta。</p>
<p>分別算出梯形面積和陰影面積。</p>
<p>** 題目解法： **</p>
<p>最坑的就是輸入，其實看了很久都沒有明白到底是怎麼區隔每一組。<br>查閱了討論區給的測資才湊出 AC 代碼。</p>
<p>想辦法讀到每一組測資是 4n + 1 個數字，否則繼續將空白行讀入。</p>
<p>brianfry713’s Input:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">100 10 10 10 60</span><br><span class="line">10 10 10 60</span><br><span class="line"></span><br><span class="line">200 5 10.5 5 30  10 10 7.5 45</span><br><span class="line"></span><br><span class="line">100</span><br><span class="line"></span><br><span class="line">10 10 10</span><br><span class="line">60 10</span><br><span class="line"></span><br><span class="line">10 10 60</span><br><span class="line"></span><br><span class="line">200 5 10.5 5 30  10 10 7.5 45</span><br><span class="line"></span><br><span class="line">100 0 10 7.5 45 10</span><br><span class="line">0 7.5 -135</span><br><span class="line"></span><br><span class="line">300</span><br></pre></td></tr></table></figure>

<p>brianfry713’s Output:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Roof Area     Floor Area     % Covered</span><br><span class="line">---------     ----------     ---------</span><br><span class="line">   200.00         100.00       100.00%</span><br><span class="line">   113.75          86.59        43.30%</span><br><span class="line">     0.00           0.00         0.00%</span><br><span class="line">   600.00         590.88      5908.85%</span><br><span class="line">  7701.25        7133.96     71339.57%</span><br><span class="line">     0.00           0.00         0.00%</span><br><span class="line"></span><br><span class="line">Total surface area of roofs     8615.00</span><br><span class="line">Total area covered by roofs     7911.43</span><br><span class="line">Percentage of total area covered by roofs 1098.81%</span><br><span class="line">Average roof surface area per lot         1435.83</span><br><span class="line">Average floor space covered per lot       1318.57</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> pi = <span class="built_in">acos</span>(<span class="number">-1</span>);</span><br><span class="line"><span class="keyword">double</span> A, B, C, N;</span><br><span class="line"><span class="function"><span class="keyword">char</span>* <span class="title">getLot</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> line[<span class="number">1024</span>], *v;</span><br><span class="line">    string ret = <span class="string">&quot;&quot;</span>, token;</span><br><span class="line">    <span class="keyword">int</span> tokenCnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(tokenCnt%<span class="number">4</span> != <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">while</span>((v = <span class="built_in">gets</span>(line)) &amp;&amp; line[<span class="number">0</span>] != <span class="string">&#x27;\0&#x27;</span>) &#123;</span><br><span class="line">            ret += <span class="string">&quot; &quot;</span>, ret += line;</span><br><span class="line">            <span class="function">stringstream <span class="title">ss</span><span class="params">(line)</span></span>;</span><br><span class="line">            <span class="keyword">while</span>(ss &gt;&gt; token)</span><br><span class="line">                tokenCnt++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!v)</span><br><span class="line">            <span class="keyword">return</span> v;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">stringstream <span class="title">sin</span><span class="params">(ret)</span></span>;</span><br><span class="line">    <span class="keyword">double</span> lotsize, baseline, ridgeline, dist, theta;</span><br><span class="line">    <span class="keyword">double</span> a = <span class="number">0</span>, b = <span class="number">0</span>;</span><br><span class="line">    sin &gt;&gt; lotsize;</span><br><span class="line">    <span class="keyword">while</span>(sin &gt;&gt; baseline &gt;&gt; ridgeline &gt;&gt; dist &gt;&gt; theta) &#123;</span><br><span class="line">        a += (baseline + ridgeline) * dist/<span class="number">2.0</span>;</span><br><span class="line">        b += (baseline + ridgeline) * dist/<span class="number">2.0</span> * <span class="built_in">cos</span>(theta / <span class="number">180.0</span> * pi);	</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%9.2lf     %10.2lf     %8.2lf%%\n&quot;</span>, a, b, b * <span class="number">100</span> /lotsize);</span><br><span class="line">    A += a, B += b, C += lotsize, N++;</span><br><span class="line">    <span class="keyword">return</span> v;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">//	freopen(&quot;in.txt&quot;, &quot;r+t&quot;, stdin);</span></span><br><span class="line"><span class="comment">//	freopen(&quot;out.txt&quot;, &quot;w+t&quot;, stdout);</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">puts</span>(<span class="string">&quot;Roof Area     Floor Area     % Covered&quot;</span>);</span><br><span class="line">    <span class="built_in">puts</span>(<span class="string">&quot;---------     ----------     ---------&quot;</span>);</span><br><span class="line">    <span class="keyword">char</span> line[<span class="number">1024</span>];</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">getLot</span>()) &#123;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">puts</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Total surface area of roofs  %10.2lf\n&quot;</span>, A);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Total area covered by roofs  %10.2lf\n&quot;</span>, B);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Percentage of total area covered by roofs  %6.2lf%%\n&quot;</span>, B*<span class="number">100</span>/C);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Average roof surface area per lot      %10.2lf\n&quot;</span>, A/N);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Average floor space covered per lot    %10.2lf\n&quot;</span>, B/N);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-11855" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/24/oj/uva/uva-11855/" class="article-date">
  <time datetime="2014-06-24T13:09:53.000Z" itemprop="datePublished">2014-06-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/24/oj/uva/uva-11855/">UVa 11855 - Buzzwords</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/06/24/oj/uva/uva-11855/" data-id="ckpaivcbt00hin8vn2h3m91f6" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/06/24/oj/uva/uva-11855/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SA/">SA</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/後綴數組/">後綴數組</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>The word the is the most common three-letter word. It even shows up inside other words, such as “other” and “mathematics”. Sometimes it hides, split between two words, such as “not here”. Have you ever wondered what the most common words of lengths other than three are?</p>
<p>Your task is the following. You will be given a text. In this text, find the most common word of length one. If there are multiple such words, any one will do. Then count how many times this most common word appears in the text. If it appears more than once, output how many times it appears. Then repeat the process with words of length 2, 3, and so on, until you reach such a length that there is no longer any repeated word of that length in the text.</p>
<h2 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification"></a>Input Specification</h2><p>The input consists of a sequence of lines. The last line of input is empty and should not be processed. Each line of input other than the last contains at least one but no more than one thousand uppercase letters and spaces. The spaces are irrelevant and should be ignored.</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">THE OTHER MATHEMATICS NOT HERE</span><br><span class="line">AA</span><br></pre></td></tr></table></figure>

<p>Note that the last line of the sample input is a blank line.</p>
<h2 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification"></a>Output Specification</h2><p>For each line of input, output a sequence of lines, giving the number of repetitions of words of length 1, 2, 3, and so on. When you reach a length such that there are no repeated words of that length, output one blank line, do not output anything further for that input line, and move on to the next line of input.</p>
<h2 id="Output-for-Sample-Input"><a href="#Output-for-Sample-Input" class="headerlink" title="Output for Sample Input"></a>Output for Sample Input</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">5</span><br><span class="line">4</span><br><span class="line">4</span><br><span class="line">2</span><br><span class="line">2</span><br><span class="line"></span><br><span class="line">2</span><br></pre></td></tr></table></figure>

<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>** 題目描述： **</p>
<p>依序將長度為 1, 2, 3, 4 … 其重複出現次數最高的字串次數輸出，只考慮重複次數大於 1 的所有情況。</p>
<p>** 題目解法： **</p>
<p>由於題目只查看大寫字母，忽略空白不計，若存在有空白的行時特別處理，否則在隨後的 trim() 會有輸出錯誤。</p>
<p>直接套上 Suffix Array，使用 Double algorithm 建造法，並且建出高度數組。</p>
<p>建造在 <code>O(n log n)</code>，但是輸出處理最慘會到 <code>O(n^2)</code>。</p>
<p>在其他的做法中，可以看到有人使用 hash function 進行比較 (將每一組單詞丟到同一個欄中，之後在進行比較)，這也是個挺不錯的做法，但是風險還是存在。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">SuffixArray</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> sa[<span class="number">1005</span>], h[<span class="number">1005</span>], n;</span><br><span class="line">    <span class="keyword">int</span> w[<span class="number">1005</span>], ta[<span class="number">1005</span>], tb[<span class="number">1005</span>];</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">1005</span>];</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">sort</span><span class="params">(<span class="keyword">int</span> *x, <span class="keyword">int</span> *y, <span class="keyword">int</span> m)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">static</span> <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; m; i++)</span><br><span class="line">            w[i] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">            w[x[y[i]]]++;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">1</span>; i &lt; m; i++)</span><br><span class="line">            w[i] += w[i<span class="number">-1</span>];</span><br><span class="line">        <span class="keyword">for</span>(i = n<span class="number">-1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">            sa[--w[x[y[i]]]] = y[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">int</span> *r, <span class="keyword">int</span> a, <span class="keyword">int</span> b, <span class="keyword">int</span> l)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(r[a] == r[b]) &#123;</span><br><span class="line">            <span class="keyword">if</span>(a+l &gt;= n || b+l &gt;= n)</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">return</span> r[a+l] == r[b+l];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">build_h</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i, j, k;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n; i++)  ta[sa[i]] = i;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(ta[i] == <span class="number">0</span>) &#123;</span><br><span class="line">                h[ta[i]] = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(i == <span class="number">0</span> || h[ta[i<span class="number">-1</span>]] &lt;= <span class="number">1</span>)</span><br><span class="line">                k = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                k = h[ta[i<span class="number">-1</span>]]<span class="number">-1</span>;</span><br><span class="line">            <span class="keyword">while</span>(str[sa[ta[i]<span class="number">-1</span>]+k] == str[sa[ta[i]]+k])</span><br><span class="line">                k++;</span><br><span class="line">            h[ta[i]] = k;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">()</span> </span>&#123;<span class="comment">// x: rank, y: second key</span></span><br><span class="line">        <span class="keyword">int</span> i, k, m = <span class="number">128</span>, p;</span><br><span class="line">        <span class="keyword">int</span> *x = ta, *y = tb, *z;</span><br><span class="line">        n = <span class="built_in">strlen</span>(str);</span><br><span class="line">        x[n] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">            x[i] = str[i], y[i] = i;</span><br><span class="line">        <span class="built_in">sort</span>(x, y, m);</span><br><span class="line">        <span class="keyword">for</span>(k = <span class="number">1</span>, p = <span class="number">1</span>; p &lt; n; k *= <span class="number">2</span>, m = p) &#123;</span><br><span class="line">            <span class="keyword">for</span>(p = <span class="number">0</span>, i = n-k; i &lt; n; i++)</span><br><span class="line">                y[p++] = i;</span><br><span class="line">            <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(sa[i] &gt;= k) &#123;</span><br><span class="line">                    y[p++] = sa[i]-k;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">sort</span>(x, y, m);</span><br><span class="line">            z = x, x = y, y = z;</span><br><span class="line">            <span class="keyword">for</span>(i = <span class="number">1</span>, p = <span class="number">1</span>, x[sa[<span class="number">0</span>]] = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">                x[sa[i]] = <span class="built_in">cmp</span>(y, sa[i<span class="number">-1</span>], sa[i], k) ? p<span class="number">-1</span> : p++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    SuffixArray in;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">gets</span>(in.str) &amp;&amp; in.str[<span class="number">0</span>] != <span class="string">&#x27;\0&#x27;</span>) &#123;</span><br><span class="line">    	<span class="keyword">int</span> n = <span class="number">0</span>;</span><br><span class="line">    	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; in.str[i]; i++)</span><br><span class="line">    		<span class="keyword">if</span>(in.str[i] != <span class="string">&#x27; &#x27;</span>)</span><br><span class="line">    			in.str[n++] = in.str[i];</span><br><span class="line">    	in.str[n] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">    	</span><br><span class="line">        in.<span class="built_in">build</span>();</span><br><span class="line">        in.<span class="built_in">build_h</span>();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(n == <span class="number">0</span>)</span><br><span class="line">        	<span class="built_in">puts</span>(<span class="string">&quot;0&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= in.n; i++) &#123;</span><br><span class="line">        	<span class="keyword">int</span> cnt = <span class="number">0</span>, ret = <span class="number">0</span>;</span><br><span class="line">        	<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; in.n; j++) &#123;</span><br><span class="line">        		<span class="keyword">if</span>(in.h[j] &gt;= i)</span><br><span class="line">        			cnt++;</span><br><span class="line">        		<span class="keyword">else</span></span><br><span class="line">        			ret = <span class="built_in">max</span>(ret, cnt), cnt = <span class="number">0</span>;</span><br><span class="line">        	&#125;</span><br><span class="line">        	ret = <span class="built_in">max</span>(ret, cnt);</span><br><span class="line">        	<span class="keyword">if</span>(ret &lt;= <span class="number">0</span>)</span><br><span class="line">        		<span class="keyword">break</span>;</span><br><span class="line">        	<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, ret + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-349" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/24/oj/uva/uva-349/" class="article-date">
  <time datetime="2014-06-24T13:02:14.000Z" itemprop="datePublished">2014-06-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/24/oj/uva/uva-349/">UVa 349 - Transferable Voting (II)</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/06/24/oj/uva/uva-349/" data-id="ckpaivccx00men8vn4kv70yxz" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/06/24/oj/uva/uva-349/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/模擬/">模擬</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>The Transferable Vote system for determining the winner of an election requires that a successful candidate obtain an absolute majority of the votes cast, even when there are more than two candidates. To achieve this goal, each voter completes his or her ballot by listing all the candidates in order of preference. Thus if there are five candidates for a single position, each voter’s ballot must contain five choices, from first choice to fifth choice.</p>
<p>In this problem you are to determine the winner, if any, of elections using the Transferable Vote system. If there are c candidates for the single position, then each voter’s ballot will include c distinct choices, corresponding to identifying the voter’s first place, second place, tex2html_wrap_inline32 , and nth place selections. Invalid ballots will be discarded, but their presence will be noted. A ballot is invalid if a voter’s choices are not distinct (choosing the same candidate as first and second choice isn’t permitted) or if any of the choices aren’t legal (that is, in the range 1 to c).</p>
<p>For each election candidates will be assigned sequential numbers starting with 1. The maximum number of voters in this problem will be 100, and the maximum number of candidates will be 5.</p>
<pre><code>                           Table A                 Table B
               -------------------------------    --------- 
               Voter    First   Second  Third
                        Choice  Choice  Choice
                 1        1       2       4
                 2        1       3       2       1   3   2
                 3        3       2       1       3   2   1
                 4        3       2       1       3   2   1
                 5        1       2       3       1   2   3
                 6        2       3       1       3   1
                 7        3       2       1       3   2   1
                 8        3       1       1
                 9        3       2       1       3   2   1
                10        1       2       3       1   2   3
                11        1       3       2       1   3   2
                12        2       3       1       3   1
</code></pre>
<p>Consider a very small election. In Table A are the votes from the 12 voters for the three candidates. Voters 1 and 8 cast invalid ballots; they will not be counted. This leaves 10 valid ballots, so a winning candidate will require at least 6 votes (the least integer value greater than half the number of valid ballots) to win. Candidates 1 and 3 each have 4 first choice votes, and candidate 2 has two. There is no majority, so the candidate with the fewest first choice votes, candidate 2, is eliminated. If there had been several candidates with the fewest first choice votes, any of them, selected at random, could be selected for elimination.</p>
<p>With candidate 2 eliminated, we advance the second and third choice candidates from those voters who voted for candidate 2 as their first choice. The result of this action is shown in Table B. Now candidate 3 has picked up 2 additional votes, giving a total of 6. This is sufficient for election. Note that if voter 12 had cast the ballot <code>2 1 3</code> then there would have been a tie between candidates 1 and 3.</p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>There will be one or more elections to consider. Each will begin with a line containing the number of candidates and the number of voters, c and n. Data for the last election will be followed by a line containing two zeroes.</p>
<p>Following the first line for each election will be n additional lines each containing the choices from a single ballot. Each line will contain only c non-negative integers separated by whitespace.</p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>For each election, print a line identifying the election number (they are numbered sequentially starting with 1). If there were any invalid ballots, print an additional line specifying the number of such. Finally, print a line indicating the winner of the election, if any, or indication of a tie; be certain to identify the candidates who are tied. Look at the samples below for the exact output format.</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">3 12</span><br><span class="line">1 2 4</span><br><span class="line">1 3 2</span><br><span class="line">3 2 1</span><br><span class="line">3 2 1</span><br><span class="line">1 2 3</span><br><span class="line">2 3 1</span><br><span class="line">3 2 1</span><br><span class="line">3 1 1</span><br><span class="line">3 2 1</span><br><span class="line">1 2 3</span><br><span class="line">1 3 2</span><br><span class="line">2 3 1</span><br><span class="line">3 12</span><br><span class="line">1 2 4</span><br><span class="line">1 3 2</span><br><span class="line">3 2 1</span><br><span class="line">3 2 1</span><br><span class="line">1 2 3</span><br><span class="line">2 3 1</span><br><span class="line">3 2 1</span><br><span class="line">3 1 1</span><br><span class="line">3 2 1</span><br><span class="line">1 2 3</span><br><span class="line">1 3 2</span><br><span class="line">2 1 3</span><br><span class="line">4 15</span><br><span class="line">4 3 1 2</span><br><span class="line">4 1 2 3</span><br><span class="line">3 1 4 2</span><br><span class="line">1 3 2 4</span><br><span class="line">4 1 2 3</span><br><span class="line">3 4 2 1</span><br><span class="line">2 4 3 1</span><br><span class="line">3 2 1 4</span><br><span class="line">3 1 4 2</span><br><span class="line">1 4 2 3</span><br><span class="line">3 4 1 2</span><br><span class="line">3 2 1 4</span><br><span class="line">4 1 3 2</span><br><span class="line">3 2 1 4</span><br><span class="line">4 2 1 4</span><br><span class="line">0 0</span><br></pre></td></tr></table></figure>

<h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Election #1</span><br><span class="line">   2 bad ballot(s)</span><br><span class="line">   Candidate 3 is elected.</span><br><span class="line">Election #2</span><br><span class="line">   2 bad ballot(s)</span><br><span class="line">   The following candidates are tied: 1 3</span><br><span class="line">Election #3</span><br><span class="line">   1 bad ballot(s)</span><br><span class="line">   Candidate 3 is elected.</span><br></pre></td></tr></table></figure>

<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>** 題目描述： **</p>
<p>投票時紀錄自願序，接著每一輪刷掉得票數量最小的候選人，直到所有候選人得票數皆相同或者只剩下一個候選人。若自願序中前位者遭到刷掉，則由下一個志願候選人替補。</p>
<p>如果發現志願序中有重複候選人、或者是不存在的候選人則將此票視為廢票。</p>
<p>** 題目解法： **</p>
<p>模擬！</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, m, cases = <span class="number">0</span>, x;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;n, &amp;m) == <span class="number">2</span> &amp;&amp; n+m) &#123;</span><br><span class="line">        <span class="keyword">int</span> bad[<span class="number">1024</span>] = &#123;&#125;, A[<span class="number">1024</span>][<span class="number">16</span>];</span><br><span class="line">        <span class="keyword">int</span> badCount = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> mark[<span class="number">16</span>] = &#123;&#125;;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x);</span><br><span class="line">                A[i][j] = x;</span><br><span class="line">                <span class="keyword">if</span>(x &gt; n || x &lt; <span class="number">1</span>) &#123;</span><br><span class="line">                    bad[i] = <span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                mark[x]++;</span><br><span class="line">                <span class="keyword">if</span>(mark[x] &gt; <span class="number">1</span>)</span><br><span class="line">                    bad[i] = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            badCount += bad[i];</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Election #%d\n&quot;</span>, ++cases);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;   %d bad ballot(s)\n&quot;</span>, badCount);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> Atop[<span class="number">1024</span>] = &#123;&#125;, alive[<span class="number">1024</span>] = &#123;&#125;, aliveCount = n;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> votes[<span class="number">16</span>] = &#123;&#125;, mx = <span class="number">0</span>, del = <span class="number">-1</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(bad[j])	<span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">while</span>(alive[A[j][Atop[j]]])</span><br><span class="line">                    Atop[j]++;</span><br><span class="line">                votes[A[j][Atop[j]]]++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line">                mx = <span class="built_in">max</span>(mx, votes[j]);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(votes[j] &lt; mx &amp;&amp; alive[j] == <span class="number">0</span>)</span><br><span class="line">                    del = j, mx = votes[j];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(del == <span class="number">-1</span>)	<span class="keyword">break</span>;</span><br><span class="line">            alive[del] = <span class="number">1</span>, aliveCount--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(aliveCount == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">                <span class="keyword">if</span>(alive[i] == <span class="number">0</span>)</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;   Candidate %d is elected.\n&quot;</span>, i);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;   The following candidates are tied:&quot;</span>);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">                <span class="keyword">if</span>(alive[i] == <span class="number">0</span>)</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot; %d&quot;</span>, i);</span><br><span class="line">            <span class="built_in">puts</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-302" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/24/oj/uva/uva-302/" class="article-date">
  <time datetime="2014-06-24T12:50:43.000Z" itemprop="datePublished">2014-06-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/24/oj/uva/uva-302/">UVa 302 - John&#39;s trip</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/06/24/oj/uva/uva-302/" data-id="ckpaivccx00mbn8vn2jmdaod7" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/06/24/oj/uva/uva-302/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/尤拉環道/">尤拉環道</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>Little Johnny has got a new car. He decided to drive around the town to visit his friends. Johnny wanted to visit all his friends, but there was many of them. In each street he had one friend. He started thinking how to make his trip as short as possible. Very soon he realized that the best way to do it was to travel through each street of town only once. Naturally, he wanted to finish his trip at the same place he started, at his parents’ house.</p>
<p>The streets in Johnny’s town were named by integer numbers from 1 to n, n &lt; 1995. The junctions were independently named by integer numbers from 1 to m, tex2html_wrap_inline32 . All junctions in the town had different numbers. Each street was connecting exactly two (not necessarily different) junctions. No two streets in the town had the same number. He immediately started to plan his round trip. If there was more than one such round trip, he would have chosen the one which, when written down as a sequence of street numbers is lexicographically the smallest.</p>
<p>But Johnny was not able to find even one such round trip. Help Johnny and write a program which finds the desired shortest round trip. If the round trip does not exist the program should write a message. Assume that Johnny lives at the junction ending the 1st street input with smaller number. All streets in the town are two way. There exists a way from each street to another street in the town. The streets in the town are very narrow and there is no possibility to turn back the car once he is in the street.</p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>Input file consists of several blocks. Each block describes one town. Each line in the block contains three integers x, y, z, where x &gt; 0 and y &gt; 0 are the numbers of junctions which are connected by the street number z. The end of the block is marked by the line containing x = y = 0. At the end of the input file there is an empty block, x = y = 0.</p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>The output file consists of 2 line blocks corresponding to the blocks of the input file. The first line of each block contains the sequence of street numbers (single members of the sequence are separated by space) describing Johnny’s round trip. If the round trip cannot be found the corresponding output block contains the message ``Round trip does not exist.’’. The second line of each block is empty.</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">1 2 1</span><br><span class="line">2 3 2</span><br><span class="line">3 1 6</span><br><span class="line">1 2 5</span><br><span class="line">2 3 3</span><br><span class="line">3 1 4</span><br><span class="line">0 0</span><br><span class="line">1 2 1</span><br><span class="line">2 3 2</span><br><span class="line">1 3 3</span><br><span class="line">2 4 4</span><br><span class="line">0 0</span><br><span class="line">0 0</span><br></pre></td></tr></table></figure>

<h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1 2 3 5 4 6</span><br><span class="line"></span><br><span class="line">Round trip does not exist.</span><br></pre></td></tr></table></figure>

<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>** 題目描述： **</p>
<p>每一條路上都有編號，並且每個編號唯一且個數小於 44。</p>
<p>求一條經過所有邊且不重複的環道。</p>
<p>** 題目解法： **</p>
<p>記得注意起始是第一條邊最小編號的點。</p>
<p>之後對於每一個點相鄰邊根據編號進行排序即可，按著窮舉思路由小開始枚舉即可。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;deque&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> to, label;</span><br><span class="line">    <span class="built_in">edge</span>(<span class="keyword">int</span> a=<span class="number">0</span>, <span class="keyword">int</span> b=<span class="number">0</span>):</span><br><span class="line">        <span class="built_in">to</span>(a), <span class="built_in">label</span>(b) &#123;&#125;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> edge &amp;x) <span class="keyword">const</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> label &lt; x.label;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 2048</span></span><br><span class="line">vector&lt;edge&gt; g[MAXN];</span><br><span class="line"><span class="keyword">int</span> label_used[MAXN];</span><br><span class="line">deque&lt;<span class="keyword">int</span>&gt;	path;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> u)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; g[u].<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(label_used[g[u][i].label] == <span class="number">0</span>) &#123;</span><br><span class="line">        	label_used[g[u][i].label] = <span class="number">1</span>;</span><br><span class="line">            <span class="built_in">dfs</span>(g[u][i].to);</span><br><span class="line">            path.<span class="built_in">push_front</span>(g[u][i].label);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x, y, z;</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">    	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; MAXN; i++)</span><br><span class="line">    		g[i].<span class="built_in">clear</span>();</span><br><span class="line">    	<span class="keyword">int</span> e = <span class="number">0</span>, start = <span class="number">0</span>;</span><br><span class="line">    	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;x, &amp;y) == <span class="number">2</span>) &#123;</span><br><span class="line">    		<span class="keyword">if</span>(x == <span class="number">0</span> &amp;&amp; y == <span class="number">0</span>)</span><br><span class="line">    			<span class="keyword">break</span>;</span><br><span class="line">    		<span class="comment">/* Johnny lives at the junction ending the 1st street </span></span><br><span class="line"><span class="comment">				input with smaller number. */</span></span><br><span class="line">    		<span class="keyword">if</span>(e == <span class="number">0</span>)</span><br><span class="line">    			start = <span class="built_in">min</span>(x, y);</span><br><span class="line">    		<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;z);</span><br><span class="line">    		g[x].<span class="built_in">push_back</span>(<span class="built_in">edge</span>(y, z));</span><br><span class="line">    		g[y].<span class="built_in">push_back</span>(<span class="built_in">edge</span>(x, z));</span><br><span class="line">    		e++;</span><br><span class="line">    	&#125;</span><br><span class="line">    	<span class="keyword">if</span>(e == <span class="number">0</span>)	<span class="keyword">break</span>;</span><br><span class="line">    	</span><br><span class="line">    	<span class="keyword">int</span> odd = <span class="number">1</span>;</span><br><span class="line">    	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; MAXN; i++) &#123;</span><br><span class="line">    		odd &amp;= g[i].<span class="built_in">size</span>()%<span class="number">2</span> == <span class="number">0</span>;</span><br><span class="line">    	&#125;</span><br><span class="line">    	<span class="keyword">if</span>(!odd) &#123;</span><br><span class="line">    		<span class="built_in">puts</span>(<span class="string">&quot;Round trip does not exist.\n&quot;</span>);</span><br><span class="line">    		<span class="keyword">continue</span>;</span><br><span class="line">    	&#125;</span><br><span class="line">    	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; MAXN; i++)</span><br><span class="line">    		<span class="built_in">sort</span>(g[i].<span class="built_in">begin</span>(), g[i].<span class="built_in">end</span>());</span><br><span class="line">    	<span class="built_in">memset</span>(label_used, <span class="number">0</span>, <span class="built_in"><span class="keyword">sizeof</span></span>(label_used));</span><br><span class="line">    	path.<span class="built_in">clear</span>();</span><br><span class="line">    	<span class="built_in">dfs</span>(start);</span><br><span class="line">    	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; path.<span class="built_in">size</span>(); i++) </span><br><span class="line">    		<span class="built_in">printf</span>(<span class="string">&quot;%d%c&quot;</span>, path[i], i == path.<span class="built_in">size</span>()<span class="number">-1</span> ? <span class="string">&#x27;\n&#x27;</span> : <span class="string">&#x27; &#x27;</span>);</span><br><span class="line">    	<span class="built_in">puts</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-11837" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/24/oj/uva/uva-11837/" class="article-date">
  <time datetime="2014-06-24T11:15:39.000Z" itemprop="datePublished">2014-06-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/24/oj/uva/uva-11837/">UVa 11837 - Musical Plagiarism</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/06/24/oj/uva/uva-11837/" data-id="ckpaivcbs00hen8vnftgkb3sw" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/06/24/oj/uva/uva-11837/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/KMP/">KMP</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>The musical notes are the basic units of Western music. Each note is associated with a frequency. Two notes for which the fundamental frequencies have a ratio of power of 2 (one is half of the other, one is double of the other, etc..) are perceived as very similar. Therefore, any notes with that kind of relationship are given the same name, as described below.</p>
<p>There are twelve basic notes in a sequence of increasing frequency, each note separated from the previous note by the same distance in the musical scale (this distance is called a semitone). Seven of these twelve notes are represented by letters of the alphabet (A, B, C, D, E, F and G). The table below shows the distance, in semitones, between the notes.</p>
<p>Notes     A-B     B-C     C-D     D-E     E-F     F-G     G-A<br>Number of semitone     2     1     2     2     1     2     2     </p>
<p>Notice that there are five notes that are not represented by letters of the alphabet: the notes between A and B, between C and D, between D and E, betwen F and G and between G and A.</p>
<p>Notes can be modified by two accidentals, called sharp and flat, represented respectively by the symbols <code>#&#39; and </code>b’. A sharp raises the note a semitone, a flat lowers the note a semitone. A note with an accidental is denoted by the name of the note followed by the accidental symbol. Notice that with this scheme we can represent all twelve notes.</p>
<p>The figure below illustrates the name of the notes in accordance with the scheme described above, in a fragment of a piano keyboard.</p>
<p>A melody can be represented by a sequence of notes. For example,</p>
<p>A A D C# C# D E E E F# A D G# A</p>
<p>is a well known melody. Note however that as the distances between the semitones are always equal, the same melody can be written starting with another note (we say that the melody is in another key):</p>
<p>B B E D# D# E Gb Gb Gb G# B E A# B</p>
<p>Your neighbor is a famous composer who suspects someone has plagiarized one of her songs. She asked your help to write a program that, given the sequence of notes of the melody in her song, and the sequence of notes of a suspicious snippet of melody, determines if the suspicious snippet occurs, in some key, in her song.</p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>The input consists of several test cases. The first line of a test case contains two integers M and T ( 1<span>$\le$</span><!-- Has MathJax -->M<span>$\le$</span><!-- Has MathJax -->105, 1<span>$\le$</span><!-- Has MathJax -->T<span>$\le$</span><!-- Has MathJax -->104, T<span>$\le$</span><!-- Has MathJax -->M), indicating the number of notes in the song suspected of having been plagiarized and in the suspect snippet. Each of the next two lines contains M and T notes, respectively, indicating the notes of the song and of the suspect snippet.</p>
<p>Notes in each line are separated by one space; each note is one among <code>A&#39;, </code>B’, <code>C&#39;, </code>D’, <code>E&#39;, </code>F’ or <code>G&#39;, possibly followed by an accidental sign: </code>#’ for sharp or `b’ for flat.</p>
<p>The last test case is followed by a line containing only two zeros separated by a blank space.</p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>For each test case your program must print a single line containing one character, <code>S&#39; in case the song has been plagiarized by the text, or </code>N’ in case the song has not been plagiarized by the text.</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">16 4</span><br><span class="line">D G A B C D G G G C D E F# G C C</span><br><span class="line">G G C D</span><br><span class="line">12 2</span><br><span class="line">C C# D D# E F F# G G# A A# B</span><br><span class="line">C D</span><br><span class="line">12 2</span><br><span class="line">C Db D Eb E F Gb G Ab A Bb B</span><br><span class="line">C D</span><br><span class="line">4 3</span><br><span class="line">C E G Bb</span><br><span class="line">D F# A</span><br><span class="line">0 0</span><br></pre></td></tr></table></figure>

<h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">S</span><br><span class="line">N</span><br><span class="line">N</span><br><span class="line">S</span><br></pre></td></tr></table></figure>

<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>** 題目描述： **</p>
<blockquote>
<p>音階 全全半全全全半，全音中間夾一個黑/白鍵，半音之間沒有。</p>
</blockquote>
<p>計算是否為旋律中的一部分，計算旋律時只需考慮音符之間的距離即可，與高低幾度偏移沒有關係。</p>
<p>** 題目解法： **</p>
<p>特別小心，查詢的旋律長度為 1 的時候，無法判斷 (雖然以子字串是有在的)。</p>
<p>接著，直接對距離之間取模之後得到兩個整數序列，直接套用 KMP 判斷序列是否在另一個序列中。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">int</span> notes[<span class="number">128</span>] = &#123;&#125;;</span><br><span class="line"><span class="keyword">int</span> kmpTable[<span class="number">500005</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">KMPtable</span><span class="params">(<span class="keyword">int</span> *P, <span class="keyword">int</span> len)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i, j;</span><br><span class="line">    kmpTable[<span class="number">0</span>] = <span class="number">-1</span>, i = <span class="number">1</span>, j = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">while</span>(i &lt; len) &#123;</span><br><span class="line">        <span class="keyword">while</span>(j &gt;= <span class="number">0</span> &amp;&amp; P[j+<span class="number">1</span>] != P[i])</span><br><span class="line">            j = kmpTable[j];</span><br><span class="line">        <span class="keyword">if</span>(P[j+<span class="number">1</span>] == P[i])</span><br><span class="line">            j++;</span><br><span class="line">        kmpTable[i++] = j;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">KMPmatching</span><span class="params">(<span class="keyword">int</span> T[], <span class="keyword">int</span> P[], <span class="keyword">int</span> tlen, <span class="keyword">int</span> plen)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">-1</span>; i &lt; tlen; i++) &#123;</span><br><span class="line">        <span class="keyword">while</span>(j &gt;= <span class="number">0</span> &amp;&amp; P[j+<span class="number">1</span>] != T[i])</span><br><span class="line">            j = kmpTable[j];</span><br><span class="line">        <span class="keyword">if</span>(P[j+<span class="number">1</span>] == T[i])  j++;</span><br><span class="line">        <span class="keyword">if</span>(j == plen<span class="number">-1</span>) &#123;</span><br><span class="line">            j = kmpTable[j];</span><br><span class="line">            <span class="keyword">return</span> i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> M, T;</span><br><span class="line">    <span class="keyword">int</span> A[<span class="number">100005</span>], B[<span class="number">10005</span>];</span><br><span class="line">    <span class="keyword">char</span> s[<span class="number">10</span>];</span><br><span class="line">    notes[<span class="string">&#x27;C&#x27;</span>] = <span class="number">0</span>, notes[<span class="string">&#x27;D&#x27;</span>] = <span class="number">2</span>;</span><br><span class="line">    notes[<span class="string">&#x27;E&#x27;</span>] = <span class="number">4</span>,	notes[<span class="string">&#x27;F&#x27;</span>] = <span class="number">5</span>;</span><br><span class="line">    notes[<span class="string">&#x27;G&#x27;</span>] = <span class="number">7</span>,	notes[<span class="string">&#x27;A&#x27;</span>] = <span class="number">9</span>;</span><br><span class="line">    notes[<span class="string">&#x27;B&#x27;</span>] = <span class="number">11</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;M, &amp;T) == <span class="number">2</span> &amp;&amp; M + T) &#123;</span><br><span class="line">        <span class="keyword">int</span> prev, x;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; M; i++) &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, &amp;s);</span><br><span class="line">            x = (notes[s[<span class="number">0</span>]] + (s[<span class="number">1</span>] == <span class="string">&#x27;#&#x27;</span>) - (s[<span class="number">1</span>] == <span class="string">&#x27;b&#x27;</span>) + <span class="number">12</span>)%<span class="number">12</span>;</span><br><span class="line">            <span class="keyword">if</span>(i)	A[i - <span class="number">1</span>] = (prev - x + <span class="number">12</span>)%<span class="number">12</span>;</span><br><span class="line">            prev = x;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; T; i++) &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, &amp;s);</span><br><span class="line">            x = (notes[s[<span class="number">0</span>]] + (s[<span class="number">1</span>] == <span class="string">&#x27;#&#x27;</span>) - (s[<span class="number">1</span>] == <span class="string">&#x27;b&#x27;</span>) + <span class="number">12</span>)%<span class="number">12</span>;</span><br><span class="line">            <span class="keyword">if</span>(i)	B[i - <span class="number">1</span>] = (prev - x + <span class="number">12</span>)%<span class="number">12</span>;</span><br><span class="line">            prev = x;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">KMPtable</span>(A, M - <span class="number">1</span>);</span><br><span class="line">        <span class="built_in">puts</span>( <span class="built_in">KMPmatching</span>(A, B, M - <span class="number">1</span>, T - <span class="number">1</span>) &gt;= <span class="number">0</span> ? <span class="string">&quot;S&quot;</span> : <span class="string">&quot;N&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-198" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/24/oj/uva/uva-198/" class="article-date">
  <time datetime="2014-06-24T10:55:25.000Z" itemprop="datePublished">2014-06-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/24/oj/uva/uva-198/">UVa 198 - Peter&#39;s Calculator</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/06/24/oj/uva/uva-198/" data-id="ckpaivccu00m1n8vn6lzkhy5k" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/06/24/oj/uva/uva-198/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/五則運算/">五則運算</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>Unfortunately, Peter’s Calculator broke down last week. Now Peter is left with his computer, which has no calculator application, and paper and pencil, which is too tiresome for an engineer. As one of Peter’s friends, you are asked to write him a calculator application. After talking to him, you figure out the following:</p>
<ul>
<li>Peter does only integer arithmetic. The operations he needs are addition, subtraction and multiplication.</li>
<li>He would like to use an arbitrary number of variables whose names are not longer than 50 characters.</li>
<li>His main way of doing calculations are to type in a few formulas and to assign them to variables. Some formulas are complicated expressions, which can refer to yet undefined variables, while other formulas consist of a single number. Then Peter asks for the value of some variables, i.e. he evaluates the formulas.</li>
<li>Peters wants to redefine some variables and then to reevaluate formulas that depend on these variables.  </li>
</ul>
<p>The input strictly adheres to the following syntax (given in EBNF):</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">file = line &#123; line &#125; &lt;EOF&gt;.</span><br><span class="line">line = [ assignment | print | reset ] &lt;CR&gt;.</span><br><span class="line">assignment = var &quot;:=&quot; expression.</span><br><span class="line">print = &quot;PRINT&quot; var.</span><br><span class="line">reset = &quot;RESET&quot;.</span><br><span class="line">expression = term &#123; addop term &#125;.</span><br><span class="line">term = factor &#123; mulop factor &#125;.</span><br><span class="line">factor = &quot;(&quot; expression &quot;)&quot; | var | number.</span><br><span class="line">addop = &quot;+&quot; | &quot;-&quot;.</span><br><span class="line">mulop = &quot;*&quot;.</span><br></pre></td></tr></table></figure>

<p>In the Extended Backus-Naur Formalism (EBNF), A = B C declares that the grammatical construct A consists of a B followed by a C . A = B | C means that A consists of a B or, alternatively, of a C . A = [ B ] defines construct A to be either a B or nothing and A = B tells you that A consists of the concatenation of any number of B’s (including none).</p>
<p>The production var stands for the name of a variable, which starts with a letter followed by up to 49 letters or digits. Letters may be uppercase or lowercase. The production number stands for a integer number. The precise syntax for these productions are given below. The case of letters is important for both variables and statements.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var = letter &#123; letter | digit &#125;.</span><br><span class="line">number = [ &quot;-&quot; ] digit &#123; digit &#125;.</span><br><span class="line">letter = &quot;A&quot; | &quot;B&quot; | ... | &quot;Z&quot; | &quot;a&quot; | &quot;b&quot; | ... | &quot;z&quot;.</span><br><span class="line">digit = &quot;0&quot; | &quot;1&quot; | ... | &quot;8&quot; | &quot;9&quot;.</span><br></pre></td></tr></table></figure>

<p>Between the parts of a grammatical construct but not within the names of variables or integer numbers, any number of spaces may appear. <EOF> stands for the end of the input file and <CR> stands for the new-line character. All lines in the input file are shorter than 200 characters.</p>
<p>The value of a variable is said to be undefined:</p>
<ul>
<li>if it has not yet been defined or it refers to a variable, which has not yet been defined;</li>
<li>if the definition of the variable contains a cycle. </li>
</ul>
<p>Your are to write a program that implements Peter’s calculator. It should store all variable definitions and for each “PRINT” statement evaluate the specified variable based on the latest variable definitions. If your program encounters a “RESET” statement, it should delete all stored variables so that all variables become undefined.</p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>The input file contains calculations adhering to the syntax given above. Each line contains either an assignment to a variable, a “PRINT” statement, a “RESET” statement or nothing.</p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>For each “PRINT” statement found in the input file, your program should output a line containing the numerical value of the specified variable or the word “UNDEF” if the variable is undefined.</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">a := b + c</span><br><span class="line">b := 3</span><br><span class="line">c := 5</span><br><span class="line">PRINT d</span><br><span class="line">PRINT a</span><br><span class="line">b := 8</span><br><span class="line">PRINT a</span><br><span class="line">RESET</span><br><span class="line">PRINT a</span><br></pre></td></tr></table></figure>

<h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">UNDEF</span><br><span class="line">8</span><br><span class="line">13</span><br><span class="line">UNDEF</span><br></pre></td></tr></table></figure>

<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>** 題目描述： **</p>
<p>輸入有一連串的變數函數，適時地打印出詢問的變數值，如果存在循環依靠 (無法推論) 或者是變數尚未定義，直接輸出 UNDEF。</p>
<p>後輸入的變數函數會覆蓋原先的函數。</p>
<p>** 題目解法： **</p>
<p>將每一組函數轉成後序運算式子，爾後再使用深度優先搜索走訪查看是否有環。</p>
<p>著重的問題在於負數的分析，例如 <code>0 - -50</code>, <code>(a + b) - 50</code> 等等。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ctype.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">priority_op</span><span class="params">(<span class="keyword">char</span> c)</span> </span>&#123;</span><br><span class="line">    <span class="built_in"><span class="keyword">switch</span></span>(c) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;(&#x27;</span>:<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;+&#x27;</span>: <span class="keyword">case</span> <span class="string">&#x27;-&#x27;</span>:<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;*&#x27;</span>: <span class="keyword">case</span> <span class="string">&#x27;/&#x27;</span>:<span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isoperator</span><span class="params">(<span class="keyword">char</span> c)</span> </span>&#123;</span><br><span class="line">    <span class="built_in"><span class="keyword">switch</span></span>(c) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;(&#x27;</span>:<span class="keyword">case</span> <span class="string">&#x27;)&#x27;</span>:<span class="keyword">case</span> <span class="string">&#x27;+&#x27;</span>: <span class="keyword">case</span> <span class="string">&#x27;-&#x27;</span>:<span class="keyword">case</span> <span class="string">&#x27;*&#x27;</span>: <span class="keyword">case</span> <span class="string">&#x27;/&#x27;</span>:<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isvariable</span><span class="params">(string token)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">isalpha</span>(token[<span class="number">0</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">trans</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *infix, <span class="keyword">char</span> buffer[])</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len = <span class="built_in">strlen</span>(infix), prevOp = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">char</span> *ptr = buffer;</span><br><span class="line">    stack&lt;<span class="keyword">char</span>&gt; op;</span><br><span class="line">    *ptr = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">isalpha</span>(infix[i]) || <span class="built_in">isdigit</span>(infix[i]) </span><br><span class="line">            || (infix[i] == <span class="string">&#x27;-&#x27;</span> &amp;&amp; <span class="built_in">isdigit</span>(infix[i+<span class="number">1</span>]) &amp;&amp; prevOp)) &#123;</span><br><span class="line">            prevOp = <span class="number">0</span>;</span><br><span class="line">        	<span class="built_in">sprintf</span>(ptr, <span class="string">&quot;%c&quot;</span>, infix[i]), i++;</span><br><span class="line">        	<span class="keyword">while</span>(*ptr)    ptr++;</span><br><span class="line">            <span class="keyword">while</span>(<span class="built_in">isalpha</span>(infix[i]) || <span class="built_in">isdigit</span>(infix[i])) &#123;</span><br><span class="line">            	<span class="built_in">sprintf</span>(ptr, <span class="string">&quot;%c&quot;</span>, infix[i]), i++;</span><br><span class="line">            	<span class="keyword">while</span>(*ptr)    ptr++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">sprintf</span>(ptr, <span class="string">&quot; &quot;</span>), i--;</span><br><span class="line">            <span class="keyword">while</span>(*ptr)		ptr++;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        	prevOp = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span>(infix[i] == <span class="string">&#x27;)&#x27;</span>) &#123;</span><br><span class="line">                <span class="keyword">while</span>(!op.<span class="built_in">empty</span>() &amp;&amp; op.<span class="built_in">top</span>() != <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                    <span class="built_in">sprintf</span>(ptr, <span class="string">&quot;%c &quot;</span>, op.<span class="built_in">top</span>()), op.<span class="built_in">pop</span>();</span><br><span class="line">                    <span class="keyword">while</span>(*ptr) ptr++;</span><br><span class="line">                &#125;</span><br><span class="line">                op.<span class="built_in">pop</span>();</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(infix[i] != <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                    <span class="keyword">while</span>(!op.<span class="built_in">empty</span>() &amp;&amp; <span class="built_in">priority_op</span>(op.<span class="built_in">top</span>()) &gt;= <span class="built_in">priority_op</span>(infix[i])) &#123;</span><br><span class="line">                        <span class="built_in">sprintf</span>(ptr, <span class="string">&quot;%c &quot;</span>, op.<span class="built_in">top</span>()), op.<span class="built_in">pop</span>();</span><br><span class="line">                        <span class="keyword">while</span>(*ptr) ptr++;</span><br><span class="line">                    &#125;</span><br><span class="line">            	&#125;</span><br><span class="line">            	prevOp = <span class="number">1</span>;</span><br><span class="line">                op.<span class="built_in">push</span>(infix[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(!op.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">        <span class="built_in">sprintf</span>(ptr, <span class="string">&quot;%c &quot;</span>, op.<span class="built_in">top</span>()), op.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="keyword">while</span>(*ptr) ptr++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">trimWhiteSpace</span><span class="params">(<span class="keyword">char</span> s[])</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; s[i]; i++)</span><br><span class="line">        <span class="keyword">if</span>(!<span class="built_in">isspace</span>(s[i]))</span><br><span class="line">            s[j++] = s[i];</span><br><span class="line">    s[j] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line">map&lt;string, string&gt; VAL_exp;</span><br><span class="line">map&lt;string, <span class="keyword">int</span>&gt;	VAL_val;</span><br><span class="line">map&lt;string, <span class="keyword">int</span>&gt;	VAL_stk;</span><br><span class="line"><span class="keyword">int</span> error_FLAG;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">calcPostfix</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span>* postfix)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getValue</span><span class="params">(string VAL_name)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!<span class="built_in">isvariable</span>(VAL_name)) &#123;</span><br><span class="line">    	<span class="function">stringstream <span class="title">scin</span><span class="params">(VAL_name)</span></span>;</span><br><span class="line">    	<span class="keyword">int</span> value;</span><br><span class="line">    	scin &gt;&gt; value;</span><br><span class="line">    	<span class="keyword">return</span> value;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(VAL_exp.<span class="built_in">find</span>(VAL_name) == VAL_exp.<span class="built_in">end</span>() || VAL_stk[VAL_name]) &#123;</span><br><span class="line">        error_FLAG = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(VAL_val.<span class="built_in">find</span>(VAL_name) == VAL_val.<span class="built_in">end</span>()) &#123;</span><br><span class="line">        VAL_stk[VAL_name] = <span class="number">1</span>;</span><br><span class="line"><span class="comment">//		cout &lt;&lt; &quot;solving &quot; &lt;&lt; VAL_name &lt;&lt; &quot;, &quot; &lt;&lt; VAL_exp[VAL_name] &lt;&lt; endl; </span></span><br><span class="line">        VAL_val[VAL_name] = <span class="built_in">calcPostfix</span>(VAL_exp[VAL_name].<span class="built_in">c_str</span>());</span><br><span class="line"><span class="comment">//		cout &lt;&lt; &quot;solved &quot; &lt;&lt; VAL_name &lt;&lt; &quot;, val = &quot; &lt;&lt; VAL_val[VAL_name] &lt;&lt; endl;</span></span><br><span class="line">        VAL_stk[VAL_name] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> VAL_val[VAL_name];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">calcPostfix</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span>* postfix)</span> </span>&#123;</span><br><span class="line">    <span class="function">stringstream 	<span class="title">scin</span><span class="params">(postfix)</span></span>;</span><br><span class="line">    stack&lt;<span class="keyword">int</span>&gt; 		stk;</span><br><span class="line">    string			token;</span><br><span class="line">    <span class="keyword">int</span> 			a, b;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(scin &gt;&gt; token) &#123;</span><br><span class="line">    	<span class="keyword">if</span>(token.<span class="built_in">length</span>() == <span class="number">1</span> &amp;&amp; <span class="built_in">isoperator</span>(token[<span class="number">0</span>])) &#123;</span><br><span class="line">            b = stk.<span class="built_in">top</span>(), stk.<span class="built_in">pop</span>();</span><br><span class="line">            a = stk.<span class="built_in">top</span>(), stk.<span class="built_in">pop</span>();</span><br><span class="line">            <span class="built_in"><span class="keyword">switch</span></span>(token[<span class="number">0</span>]) &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&#x27;+&#x27;</span>: a = a+b;<span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&#x27;-&#x27;</span>: a = a-b;<span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&#x27;*&#x27;</span>: a = a*b;<span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&#x27;/&#x27;</span>: a = a/b;<span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            stk.<span class="built_in">push</span>(a);</span><br><span class="line">    	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    		stk.<span class="built_in">push</span>(<span class="built_in">getValue</span>(token));</span><br><span class="line">    	&#125;</span><br><span class="line">    	<span class="keyword">if</span>(error_FLAG)	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> stk.<span class="built_in">top</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printVal</span><span class="params">(string valName)</span> </span>&#123;</span><br><span class="line">    error_FLAG = <span class="number">0</span>;</span><br><span class="line">    VAL_val.<span class="built_in">clear</span>();</span><br><span class="line">    VAL_stk.<span class="built_in">clear</span>();</span><br><span class="line">    <span class="keyword">int</span> val = <span class="built_in">getValue</span>(valName);</span><br><span class="line">    <span class="keyword">if</span>(error_FLAG)</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">&quot;UNDEF&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, val);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">//	freopen(&quot;input.txt&quot;, &quot;r+t&quot;, stdin);</span></span><br><span class="line"><span class="comment">//	freopen(&quot;out.txt&quot;, &quot;w+t&quot;, stdout); </span></span><br><span class="line">    string 	LHS, RHS;</span><br><span class="line">    <span class="keyword">int</span> 	pos;</span><br><span class="line">    <span class="keyword">char</span> 	postfix[<span class="number">32767</span>], lines[<span class="number">32767</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">gets</span>(lines)) &#123;</span><br><span class="line">    	<span class="built_in">trimWhiteSpace</span>(lines);</span><br><span class="line">    	<span class="function">string <span class="title">str</span><span class="params">(lines)</span></span>;</span><br><span class="line">    	<span class="keyword">if</span>(str.<span class="built_in">find</span>(<span class="string">&quot;:=&quot;</span>) != string::npos) &#123;</span><br><span class="line">    		pos = str.<span class="built_in">find</span>(<span class="string">&quot;:=&quot;</span>);</span><br><span class="line">    		LHS = str.<span class="built_in">substr</span>(<span class="number">0</span>, pos);</span><br><span class="line">    		RHS = str.<span class="built_in">substr</span>(pos + <span class="number">2</span>);</span><br><span class="line">    		<span class="built_in">trans</span>(RHS.<span class="built_in">c_str</span>(), postfix);</span><br><span class="line">    		VAL_exp[LHS] = postfix;</span><br><span class="line">    	&#125; <span class="keyword">else</span> <span class="keyword">if</span>(str.<span class="built_in">find</span>(<span class="string">&quot;PRINT&quot;</span>) != string::npos) &#123;</span><br><span class="line">    		pos = str.<span class="built_in">find</span>(<span class="string">&quot;PRINT&quot;</span>);</span><br><span class="line">    		RHS = str.<span class="built_in">substr</span>(pos + <span class="number">5</span>);</span><br><span class="line">    		<span class="built_in">printVal</span>(RHS);</span><br><span class="line">    	&#125; <span class="keyword">else</span> <span class="keyword">if</span>(str.<span class="built_in">find</span>(<span class="string">&quot;RESET&quot;</span>) != string::npos) &#123;</span><br><span class="line">    		VAL_exp.<span class="built_in">clear</span>();</span><br><span class="line">    	&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-11178" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/24/oj/uva/uva-11178/" class="article-date">
  <time datetime="2014-06-24T09:56:23.000Z" itemprop="datePublished">2014-06-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/24/oj/uva/uva-11178/">UVa 11178 - Morley&#39;s Theorem</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/06/24/oj/uva/uva-11178/" data-id="ckpaivcbg00g8n8vn4pzi92ko" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/06/24/oj/uva/uva-11178/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/幾何/">幾何</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>Morley’s theorem states that that the lines trisecting the angles of an arbitrary plane triangle meet at the vertices of an equilateral triangle. For example in the figure below the tri-sectors of angles A, B and C has intersected and created an equilateral triangle DEF. </p>
<p>Of course the theorem has various generalizations, in particular if all of the tri-sectors are intersected one obtains four other equilateral triangles. But in the original theorem only tri-sectors nearest to BC are allowed to intersect to get point D, tri-sectors nearest to CA are allowed to intersect point E and tri-sectors nearest to AB are intersected to get point F. Trisector like BD and CE are not allowed to intersect. So ultimately we get only one equilateral triangle DEF. Now your task is to find the Cartesian coordinates of D, E and F given the coordinates of A, B, and C.</p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>First line of the input file contains an integer N (0&lt;N&lt;5001) which denotes the number of test cases to follow. Each of the next lines contain six integers . This six integers actually indicates that the Cartesian coordinates of point A, B and C are  respectively. You can assume that the area of triangle ABC is not equal to zero,  and the points A, B and C are in counter clockwise order.</p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>For each line of input you should produce one line of output. This line contains six floating point numbers  separated by a single space. These six floating-point actually means that the Cartesian coordinates of D, E and F are  respectively. Errors less than   will be accepted.</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">1 1 2 2 1 2</span><br><span class="line">0 0 100 0 50 50</span><br></pre></td></tr></table></figure>

<h2 id="Output-for-Sample-Input"><a href="#Output-for-Sample-Input" class="headerlink" title="Output for Sample Input"></a>Output for Sample Input</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.316987 1.816987 1.183013 1.683013 1.366025 1.633975</span><br><span class="line">56.698730 25.000000 43.301270 25.000000 50.000000 13.397460</span><br></pre></td></tr></table></figure>

<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>** 題目描述： **</p>
<p>給一個三角形，將每一個角三等分後，交三角形內部三個點，求這三個點座標。</p>
<p>** 題目解法： **</p>
<p>向量旋轉、射線交點。</p>
<p>射線交點的部分採用最簡單的克拉瑪方程求解。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span> </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span> </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> eps 1e-6</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Pt</span> &#123;</span></span><br><span class="line">    <span class="keyword">double</span> x, y;</span><br><span class="line">    <span class="built_in">Pt</span>(<span class="keyword">double</span> a = <span class="number">0</span>, <span class="keyword">double</span> b = <span class="number">0</span>):</span><br><span class="line">    	<span class="built_in">x</span>(a), <span class="built_in">y</span>(b) &#123;&#125;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> Pt &amp;a) <span class="keyword">const</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">fabs</span>(x-a.x) &gt; eps)</span><br><span class="line">            <span class="keyword">return</span> x &lt; a.x;</span><br><span class="line">        <span class="keyword">return</span> y &lt; a.y;</span><br><span class="line">    &#125;</span><br><span class="line">    Pt <span class="keyword">operator</span>-(<span class="keyword">const</span> Pt &amp;a) <span class="keyword">const</span> &#123;</span><br><span class="line">        Pt ret;</span><br><span class="line">        ret.x = x - a.x;</span><br><span class="line">        ret.y = y - a.y;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">dist</span><span class="params">(Pt a, Pt b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">hypot</span>(a.x - b.x, a.y - b.y);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">length</span><span class="params">(Pt a)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">hypot</span>(a.x, a.y);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">dot</span><span class="params">(Pt a, Pt b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.x * b.x + a.y * b.y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">cross2</span><span class="params">(Pt a, Pt b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.x * b.y - a.y * b.x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">cross</span><span class="params">(Pt o, Pt a, Pt b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (a.x-o.x)*(b.y-o.y) - (a.y-o.y)*(b.x-o.x);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">angle</span><span class="params">(Pt a, Pt b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">acos</span>(<span class="built_in">dot</span>(a, b) / <span class="built_in">length</span>(a) / <span class="built_in">length</span>(b));</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Pt <span class="title">rotateRadian</span><span class="params">(Pt a, <span class="keyword">double</span> radian)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">double</span> x, y;</span><br><span class="line">    x = a.x * <span class="built_in">cos</span>(radian) - a.y * <span class="built_in">sin</span>(radian);</span><br><span class="line">    y = a.x * <span class="built_in">sin</span>(radian) + a.y * <span class="built_in">cos</span>(radian);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Pt</span>(x, y);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Pt <span class="title">getIntersection</span><span class="params">(Pt p, Pt l1, Pt q, Pt l2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">double</span> a1, a2, b1, b2, c1, c2;</span><br><span class="line">    <span class="keyword">double</span> dx, dy, d;</span><br><span class="line">    a1 = l1.y, b1 = -l1.x, c1 = a1 * p.x + b1 * p.y;</span><br><span class="line">    a2 = l2.y, b2 = -l2.x, c2 = a2 * q.x + b2 * q.y;</span><br><span class="line">    d = a1 * b2 - a2 * b1;</span><br><span class="line">    dx = b2 * c1 - b1 * c2;</span><br><span class="line">    dy = a1 * c2 - a2 * c1;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Pt</span>(dx / d, dy / d);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Pt <span class="title">solve</span><span class="params">(Pt A, Pt B, Pt C)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">double</span> radABC = <span class="built_in">angle</span>(A - B, C - B);</span><br><span class="line">    <span class="keyword">double</span> radACB = <span class="built_in">angle</span>(A - C, B - C);</span><br><span class="line">    </span><br><span class="line">    Pt vB = <span class="built_in">rotateRadian</span>(C - B, radABC /<span class="number">3</span>);</span><br><span class="line">    Pt vC = <span class="built_in">rotateRadian</span>(B - C, - radACB /<span class="number">3</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">getIntersection</span>(B, vB, C, vC);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> testcase;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;testcase);</span><br><span class="line">    <span class="keyword">while</span>(testcase--) &#123;</span><br><span class="line">        Pt A, B, C, D, E, F;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%lf %lf&quot;</span>, &amp;A.x, &amp;A.y);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%lf %lf&quot;</span>, &amp;B.x, &amp;B.y);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%lf %lf&quot;</span>, &amp;C.x, &amp;C.y);</span><br><span class="line">        D = <span class="built_in">solve</span>(A, B, C);</span><br><span class="line">        E = <span class="built_in">solve</span>(B, C, A);</span><br><span class="line">        F = <span class="built_in">solve</span>(C, A, B);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%lf %lf %lf %lf %lf %lf\n&quot;</span>, D.x, D.y, E.x, E.y, F.x, F.y);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/74/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/73/">73</a><a class="page-number" href="/page/74/">74</a><span class="page-number current">75</span><a class="page-number" href="/page/76/">76</a><a class="page-number" href="/page/77/">77</a><span class="space">&hellip;</span><a class="page-number" href="/page/85/">85</a><a class="extend next" rel="next" href="/page/76/">Next &raquo;</a>
    </nav>
  
</section>
          
          
            <aside id="sidebar">
  <!-- <div id="ukagaka_panel"></div> -->
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/">學校課程</a><span class="category-list-count">115</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/介面設計/">介面設計</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/作業系統/">作業系統</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/即時系統/">即時系統</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/大學專題/">大學專題</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/巨量資料/">巨量資料</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/平行程式/">平行程式</a><span class="category-list-count">43</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/敏捷方法/">敏捷方法</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/數位影像生成/">數位影像生成</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/編譯器/">編譯器</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/自然語言/">自然語言</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/虛擬實境/">虛擬實境</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/計算型智慧/">計算型智慧</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/計算幾何/">計算幾何</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/計算機圖學/">計算機圖學</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/資料庫系統/">資料庫系統</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/資訊安全/">資訊安全</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/通識課程/">通識課程</a><span class="category-list-count">14</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/">工作應用</a><span class="category-list-count">30</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/Java/">Java</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/Meme/">Meme</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/可持久化/">可持久化</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/鬼故事/">鬼故事</a><span class="category-list-count">9</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/手札日記/">手札日記</a><span class="category-list-count">44</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/">網頁設計</a><span class="category-list-count">15</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/About-This-Blog/">About This Blog</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/HTML5/">HTML5</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/JQuery/">JQuery</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/Markdown/">Markdown</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/NodeJs/">NodeJs</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/">解題區</a><span class="category-list-count">633</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/Latex/">Latex</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/出題解題/">出題解題</a><span class="category-list-count">23</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-POJ/">解題區 - POJ</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a><span class="category-list-count">483</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-Zerojudge/">解題區 - Zerojudge</a><span class="category-list-count">77</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-其他題目/">解題區 - 其他題目</a><span class="category-list-count">45</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-未解題目/">解題區 - 未解題目</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/雜言筆記/">雜言筆記</a><span class="category-list-count">4</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a class="text" href="/2021/05/30/java/java-memory-optimization-1/">
              
                <i class="icon-file-o"></i> 
              
            Java 優化內存使用 結構篇</a>
          </li>
        
          <li>
            <a class="text" href="/2021/01/31/diary-202101/">
              
                <i class="icon-file-o"></i> 
              
            二八進展</a>
          </li>
        
          <li>
            <a class="text" href="/2021/01/31/work/meme-file-extension/">
              
                <i class="icon-file-o"></i> 
              
            File Extension</a>
          </li>
        
          <li>
            <a class="text" href="/2021/01/31/work/meme-globl-var/">
              
                <i class="icon-file-o"></i> 
              
            Global Variable</a>
          </li>
        
          <li>
            <a class="text" href="/2021/01/31/work/meme-handover/">
              
                <i class="icon-file-o"></i> 
              
            Handover</a>
          </li>
        
          <li>
            <a class="text" href="/2021/01/31/work/meme-interview-recursion/">
              
                <i class="icon-file-o"></i> 
              
            Interview &amp; Recursion</a>
          </li>
        
          <li>
            <a class="text" href="/2021/01/31/work/meme-job-build/">
              
                <i class="icon-file-o"></i> 
              
            Job Build</a>
          </li>
        
          <li>
            <a class="text" href="/2021/01/31/work/meme-lang/">
              
                <i class="icon-file-o"></i> 
              
            Programming Language Impostors</a>
          </li>
        
          <li>
            <a class="text" href="/2021/01/31/work/meme-machine-learning-newbie/">
              
                <i class="icon-file-o"></i> 
              
            Machine Learning for Newbie</a>
          </li>
        
          <li>
            <a class="text" href="/2021/01/31/work/meme-parallel-gc/">
              
                <i class="icon-file-o"></i> 
              
            Parallel &amp; Garbage Collection</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    <div class="widget-wrap">
    <h3 class="widget-title">Links</h3>
    <div class="widget">   
      	<ul>
	      <li><a href="http://mypaper.pchome.com.tw/zerojudge" target="_blank" title="Old Blog"><i class="icon-star"></i> Morris' Blog (pchome)</a></li>
	      <li><a href="http://flere114.blogspot.tw/" target="_blank" title="蘿莉勿觸"><i class="icon-googles"></i> flere's Blog</a></li>
	      <li><a href="http://dreamoon4.blogspot.tw/" target="_blank" title="夢月"><i class="icon-googles"></i> dreamoon's Blog</a></li>
	      <li><a href="http://m80126colin.github.io" target="_blank" title="許胖們"><i class="icon-github-alt"></i> m80126colin's Blog</a></li>
	      <li><a href="http://sd12582000.blogspot.tw/" target="_blank" title="妮可妮可"><i class="icon-github-alt"></i> Nico's Blog</a></li>
	      <li><a href="http://kuoe0.logdown.com/" target="_blank" title="郭至軒大神"><i class="icon-github-alt"></i> KuoE0's Dots</a></li>
	      <li><a href="http://tyan.io/" title=""><i class="icon-github-alt"></i> Tyan Blog</a></li>
    	</ul>
    </div>
</div>

  
    
<script src="/js/jquery-ui.js"></script>
<script src="/js/ukagaka/jquery.morris.ukagaka.resource.js"></script>
<script src="/js/ukagaka/typed.js"></script>
<script type="text/javascript">
  $('#ukagaka_panel').ukagaka();
</script>
  
  
</aside>
          
        
      </div>
      <footer id="footer">
  
  <div class="outer">    
    <div class="social-group">
      
      <a href="https://github.com/morris821028" target="_blank" title="github"><i class="icon-github"></i></a>
      
      
      <a href="https://www.facebook.com/Morris1028" target="_blank" title="facebook"><i class="icon-facebook-sign"></i></a>
      
      
      <a href="http://uhunt.felix-halim.net/id/46705" target="_blank" title="uhunt" ><span class="icon-uhunt">UVa<span></a>
      
    </div>
    <div id="footer-info" class="inner">
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and Theme by <a href="https://github.com/morris821028/hexo-theme-landscape" target="_blank" title="landscape">landscape</a> &copy; 2021 Shiang-Yun Yang 
    </div>
  </div>
</footer>


    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link"><i class=icon-home ></i>&nbsp&nbspHome</a>
  
    <a href="/about" class="mobile-nav-link"><i class=icon-user ></i>&nbsp&nbspAbout</a>
  
    <a href="/archives" class="mobile-nav-link"><i class=icon-archive ></i>&nbsp&nbspArchives</a>
  
    <a href="/tags" class="mobile-nav-link"><i class=icon-tags ></i>&nbsp&nbspTags</a>
  
    <a href="/picture" class="mobile-nav-link"><i class=icon-camera ></i>&nbsp&nbspPictures</a>
  
    <a href="/works" class="mobile-nav-link"><i class=icon-trophy ></i>&nbsp&nbspWorks</a>
  
</nav>
    
<script>
  var disqus_shortname = 'morris1028';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//go.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/jquery.lazyload.js"></script>
<script src="/js/jquery.als-1.6.js"></script>

<script src="/js/script.js"></script>

  </div><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
</body>
</html>