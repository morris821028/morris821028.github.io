<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <title>Morris&#39; Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Morris&#39; Blog">
<meta property="og:url" content="http://morris821028.github.io/page/85/index.html">
<meta property="og:site_name" content="Morris&#39; Blog">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Morris&#39; Blog">
<link rel="publisher" href="108158678174364350000">
  
    <link rel="alternative" href="/atom.xml" title="Morris&#39; Blog" type="application/atom+xml">
  
  
    <meta name="google-site-verification" content="5mRgj8NanEMpGZuNfHNJNmH90RgNlrnJXsFlTaKD6Gs" />
  
  
    <link rel="shortcut icon" href="/img/f.ico">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <script src="/js/jquery-2.1.0.min.js"></script>
  <link rel="stylesheet" href="/css/style.css">
  
  <link rel="stylesheet" href="http://cdn.oesmith.co.uk/morris-0.5.1.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
<script src="http://cdn.oesmith.co.uk/morris-0.5.1.min.js"></script>
  <!-- <link rel="import" href="/bower_components/app-layout/app-layout.html"> --><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>
<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"><div id="banner-right"></div></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Morris&#39; Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          
            <a class="main-nav-link" href="/"><i class=icon-home title='Home'></i></a>
          
        
          
            <a class="main-nav-link" href="/about"><i class=icon-user title='About'></i></a>
          
        
          
            <a class="main-nav-link" href="/archives"><i class=icon-archive title='Archives'></i></a>
          
        
          
            <a class="main-nav-link" href="/tags"><i class=icon-tags title='Tags'></i></a>
          
        
          
            <a class="main-nav-link" href="/picture"><i class=icon-camera title='Pictures'></i></a>
          
        
          
            <a class="main-nav-link" href="/works"><i class=icon-trophy title='Works'></i></a>
          
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://morris821028.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        
          
          <section id="main">
  
    <article id="post-oj/other/mooc-week9-dex" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/04/22/oj/other/mooc-week9-dex/" class="article-date">
  <time datetime="2014-04-22T12:31:29.000Z" itemprop="datePublished">2014-04-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-其他題目/">解題區 - 其他題目</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/04/22/oj/other/mooc-week9-dex/">程序设计实习 MOOC Week 9 DEX</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/04/22/oj/other/mooc-week9-dex/" data-id="clni4s4ds02rpewvnzdcebipx" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/04/22/oj/other/mooc-week9-dex/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/std-list/">std-list</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/std-set/">std-set</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h1 id="接續上一篇"><a href="#接續上一篇" class="headerlink" title="接續上一篇"></a>接續上一篇</h1><h1 id="D-热血格斗场"><a href="#D-热血格斗场" class="headerlink" title="D - 热血格斗场"></a>D - 热血格斗场</h1><h2 id="題目"><a href="#題目" class="headerlink" title="題目"></a>題目</h2><p>总时间限制: 1000ms    内存限制: 65536kB</p>
<p>描述</p>
<pre><code>为了迎接08年的奥运会，让大家更加了解各种格斗运动，facer新开了一家热血格斗场。格斗场实行会员制，但是新来的会员不需要交入会费，而只要同一名老会员打一场表演赛，证明自己的实力。

我们假设格斗的实力可以用一个正整数表示，成为实力值。另外，每个人都有一个唯一的id，也是一个正整数。为了使得比赛更好看，每一个新队员都会选择与他实力最为接近的人比赛，即比赛双方的实力值之差的绝对值越小越好，如果有两个人的实力值与他差别相同，则他会选择比他弱的那个（显然，虐人必被虐好）。

不幸的是，Facer一不小心把比赛记录弄丢了，但是他还保留着会员的注册记录。现在请你帮facer恢复比赛纪录，按照时间顺序依次输出每场比赛双方的id。
</code></pre><p>输入</p>
<pre><code>第一行一个数n(0 &lt; n &lt;=100000)，表示格斗场新来的会员数（不包括facer）。以后n行每一行两个数，按照入会的时间给出会员的id和实力值。一开始，facer就算是会员，id为1，实力值1000000000。输入保证两人的实力值不同。
</code></pre><p>输出</p>
<pre><code>N行，每行两个数，为每场比赛双方的id，新手的id写在前面。
</code></pre><p>样例输入</p>
<pre><code>3
2 1
3 3
4 2
</code></pre><p>样例输出</p>
<pre><code>2 1
3 2
4 2
</code></pre><h2 id="解法"><a href="#解法" class="headerlink" title="解法"></a>解法</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// http://cxsjsxmooc.openjudge.cn/</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> oo 0x3f3f3f3f</span></div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> n, id, power; <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n) == <span class="number">1</span>;) &#123;</div><div class="line">        <span class="built_in">set</span>&lt; pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; &gt; S;</div><div class="line">        S.insert(make_pair(<span class="number">1000000000</span>, <span class="number">1</span>));</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)	 &#123;</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;id, &amp;power);</div><div class="line">            S.insert(make_pair(power, id));</div><div class="line">            <span class="built_in">set</span>&lt; pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; &gt;::iterator it;</div><div class="line">            it = S.find(make_pair(power, id));</div><div class="line">            pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; f1, f2;</div><div class="line">            f1 = make_pair(-oo, <span class="number">0</span>);</div><div class="line">            f2 = make_pair(oo, <span class="number">0</span>);</div><div class="line">            <span class="keyword">if</span>(it != S.begin()) &#123;</div><div class="line">                it--;</div><div class="line">                f1 = *it;</div><div class="line">                it++;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span>(it != S.end()) &#123;</div><div class="line">                it++;</div><div class="line">                f2 = *it;</div><div class="line">                it--;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span>(<span class="built_in">abs</span>(f2.first - power) &lt; <span class="built_in">abs</span>(f1.first - power))</div><div class="line">                f1 = f2;</div><div class="line">            <span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>, id, f1.second);</div><div class="line">        &#125;</div><div class="line">    &#125;	</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<h1 id="E-priority-queue练习题"><a href="#E-priority-queue练习题" class="headerlink" title="E - priority queue练习题"></a>E - priority queue练习题</h1><h2 id="題目-1"><a href="#題目-1" class="headerlink" title="題目"></a>題目</h2><p>总时间限制: 2500ms    内存限制: 131072kB</p>
<p>描述</p>
<pre><code>我们定义一个正整数a比正整数b优先的含义是：
*a的质因数数目（不包括自身）比b的质因数数目多；
*当两者质因数数目相等时，数值较大者优先级高。

现在给定一个容器，初始元素数目为0，之后每次往里面添加10个元素，每次添加之后，要求输出优先级最高与最低的元素，并把该两元素从容器中删除。
</code></pre><p>输入</p>
<pre><code>第一行: num (添加元素次数，num &lt;= 30)

下面10*num行，每行一个正整数n（n &lt; 10000000).
</code></pre><p>输出</p>
<pre><code>每次输入10个整数后，输出容器中优先级最高与最低的元素，两者用空格间隔。
</code></pre><p>样例输入</p>
<pre><code>1
10 7 66 4 5 30 91 100 8 9
</code></pre><p>样例输出</p>
<pre><code>66 5
</code></pre><h2 id="解法-1"><a href="#解法-1" class="headerlink" title="解法"></a>解法</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// http://cxsjsxmooc.openjudge.cn/</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">getPF</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i*i &lt;= n; i++) &#123;</div><div class="line">        <span class="keyword">if</span>(n%i == <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">while</span>(n /= i, n%i == <span class="number">0</span>);</div><div class="line">            ret++;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span>(n != <span class="number">1</span> &amp;&amp; ret &gt; <span class="number">0</span>)	ret++;</div><div class="line">    <span class="keyword">return</span> ret;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> n; <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n) == <span class="number">1</span>;) &#123;</div><div class="line">        <span class="built_in">multiset</span>&lt; pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; &gt; S;</div><div class="line">        <span class="keyword">while</span>(n--) &#123;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>, x; i &lt; <span class="number">10</span>; i++) &#123;</div><div class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;x);</div><div class="line">                S.insert(make_pair(getPF(x), x));</div><div class="line">            &#125;			</div><div class="line">            <span class="built_in">multiset</span>&lt; pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; &gt;::iterator it;</div><div class="line">            <span class="built_in">multiset</span>&lt; pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; &gt;::iterator jt;</div><div class="line">            it = S.begin();</div><div class="line">            jt = S.end();</div><div class="line">            jt--;</div><div class="line">            <span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>, (*jt).second, (*it).second);</div><div class="line">            S.erase(it);</div><div class="line">            S.erase(jt);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<h1 id="X-思考题最后一题，不计分，供测试"><a href="#X-思考题最后一题，不计分，供测试" class="headerlink" title="X - 思考题最后一题，不计分，供测试"></a>X - 思考题最后一题，不计分，供测试</h1><h2 id="題目-2"><a href="#題目-2" class="headerlink" title="題目"></a>題目</h2><p>总时间限制: 1000ms    内存限制: 65536kB</p>
<p>描述</p>
<pre><code>请补齐下面程序，使得补齐后的程序，对于下面指定的输入数据，能产生指定的输出。
</code></pre><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></div><div class="line"><span class="class"><span class="title">class</span> <span class="title">CMyistream_iterator</span></span></div><div class="line"><span class="class">&#123;</span></div></pre></td></tr></table></figure>
<p>// 在此处补充你的代码<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span>  </span></div><div class="line"><span class="function"></span>&#123; </div><div class="line">     </div><div class="line">     <span class="keyword">int</span> t;</div><div class="line">     <span class="built_in">cin</span> &gt;&gt; t;</div><div class="line">     <span class="keyword">while</span> (t--) &#123;</div><div class="line">     	 CMyistream_iterator&lt;<span class="keyword">int</span>&gt; inputInt(<span class="built_in">cin</span>);</div><div class="line">         <span class="keyword">int</span> n1,n2,n3;</div><div class="line">         n1 = * inputInt;</div><div class="line">         <span class="keyword">int</span> tmp = * inputInt; </div><div class="line">         <span class="built_in">cout</span> &lt;&lt; tmp &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">         inputInt ++;   </div><div class="line">         n2 = * inputInt; </div><div class="line">         inputInt ++;   </div><div class="line">         n3 = * inputInt; </div><div class="line">         <span class="built_in">cout</span> &lt;&lt; n1 &lt;&lt; <span class="string">","</span> &lt;&lt; n2&lt;&lt; <span class="string">","</span> &lt;&lt; n3 &lt;&lt; <span class="string">","</span>;</div><div class="line">         CMyistream_iterator&lt;<span class="built_in">string</span>&gt; inputStr(<span class="built_in">cin</span>);</div><div class="line">         <span class="built_in">string</span> s1,s2;</div><div class="line">         s1 = * inputStr; </div><div class="line">         inputStr ++;     </div><div class="line">         s2 = * inputStr; </div><div class="line">         <span class="built_in">cout</span> &lt;&lt; s1 &lt;&lt; <span class="string">","</span> &lt;&lt; s2 &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;  </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>输入</p>
<pre><code>第一行是整数t,表示有t组数据。
每组数据由三个整数和两个字符串组成。整数都是小于220的正整数，字符串中间没有空格
</code></pre><p>输出</p>
<pre><code>对每组输入数据，输出两行。
第一行是输入的第一个整数。
第二行依次输出输入的各项，用逗号&quot;,&quot;分隔。
</code></pre><p>样例输入</p>
<pre><code>2
79 90 20 hello me
21 375 45 Jack good
</code></pre><p>样例输出</p>
<pre><code>79
79,90,20,hello,me
21
21,375,45,Jack,good
</code></pre><h2 id="解法-2"><a href="#解法-2" class="headerlink" title="解法"></a>解法</h2><p>這裡要特別小心串流處理，這裡仍是用指針去維護。</p>
<p>Pointer Type(*) 和 Reference Type(&amp;) 使用上也要明白差別。</p>
<ul>
<li><p>假使宣告 <code>istream &amp;mcin;</code><br>  一定要用 <code>CMyistream_iterator(istream&amp; m): mcin(m)</code>    搭配 <code>mcin &gt;&gt; front</code></p>
<ul>
<li><p>為什麼 <code>mcin = m</code> 不能取代 <code>mcin(m)</code> ?<br>  雖然我不太明白，但是 Reference Type 一定要在宣告的時候就決定取的位址，也就是說 mcin 再也不能跟動對應的位址，與指標不同的地方就在這裡。</p>
<p>  通常會這個寫來降低複雜度 <code>int&amp; ret = MAP[index];</code> 其中 <code>ret</code> 再也不能更動位址，當然也許再 C++11 之後的版本會有所不同。</p>
</li>
</ul>
</li>
<li><p>假使宣告 <code>istream *mcin;</code><br>  彈性就很大，但使用時都要用 <code>*mcin &gt;&gt; front</code></p>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></div><div class="line"><span class="class"><span class="title">class</span> <span class="title">CMyistream_iterator</span></span></div><div class="line"><span class="class">&#123;</span></div><div class="line">    <span class="keyword">public</span>:</div><div class="line">        CMyistream_iterator(istream&amp; m): mcin(&amp;m) &#123;</div><div class="line">            *mcin &gt;&gt; front;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">void</span> <span class="keyword">operator</span> ++(<span class="keyword">int</span>) &#123;</div><div class="line">            *mcin &gt;&gt; front;</div><div class="line">        &#125;</div><div class="line">        T <span class="keyword">operator</span> * () &#123;</div><div class="line">            <span class="keyword">return</span> front;</div><div class="line">        &#125;</div><div class="line">    <span class="keyword">private</span>:</div><div class="line">        istream *mcin;</div><div class="line">        T front;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span>  </span></div><div class="line"><span class="function"></span>&#123; </div><div class="line">     </div><div class="line">     <span class="keyword">int</span> t;</div><div class="line">     <span class="built_in">cin</span> &gt;&gt; t;</div><div class="line">     <span class="keyword">while</span> (t--) &#123;</div><div class="line">     	 CMyistream_iterator&lt;<span class="keyword">int</span>&gt; inputInt(<span class="built_in">cin</span>);</div><div class="line">         <span class="keyword">int</span> n1,n2,n3;</div><div class="line">         n1 = * inputInt;</div><div class="line">         <span class="keyword">int</span> tmp = * inputInt; </div><div class="line">         <span class="built_in">cout</span> &lt;&lt; tmp &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">         inputInt ++;   </div><div class="line">         n2 = * inputInt; </div><div class="line">         inputInt ++;   </div><div class="line">         n3 = * inputInt; </div><div class="line">         <span class="built_in">cout</span> &lt;&lt; n1 &lt;&lt; <span class="string">","</span> &lt;&lt; n2&lt;&lt; <span class="string">","</span> &lt;&lt; n3 &lt;&lt; <span class="string">","</span>;</div><div class="line">         CMyistream_iterator&lt;<span class="built_in">string</span>&gt; inputStr(<span class="built_in">cin</span>);</div><div class="line">         <span class="built_in">string</span> s1,s2;</div><div class="line">         s1 = * inputStr; </div><div class="line">         inputStr ++;     </div><div class="line">         s2 = * inputStr; </div><div class="line">         <span class="built_in">cout</span> &lt;&lt; s1 &lt;&lt; <span class="string">","</span> &lt;&lt; s2 &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/other/mooc-week9-abc" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/04/22/oj/other/mooc-week9-abc/" class="article-date">
  <time datetime="2014-04-22T12:31:29.000Z" itemprop="datePublished">2014-04-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-其他題目/">解題區 - 其他題目</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/04/22/oj/other/mooc-week9-abc/">程序设计实习 MOOC Week 9 ABC</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/04/22/oj/other/mooc-week9-abc/" data-id="clni4s4du02rrewvn1rtd7jru" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/04/22/oj/other/mooc-week9-abc/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/std-list/">std-list</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/std-set/">std-set</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h1 id="關於這一周"><a href="#關於這一周" class="headerlink" title="關於這一周"></a>關於這一周</h1><p>練習 STL 的語法。 <a href="http://cxsjsxmooc.openjudge.cn/" target="_blank" rel="external">題目來源</a></p>
<p>好久沒有練 C++ 程序，這是一個訓練 STL 的題單。</p>
<h2 id="練習項目"><a href="#練習項目" class="headerlink" title="練習項目"></a>練習項目</h2><h3 id="std-list"><a href="#std-list" class="headerlink" title="std::list"></a>std::list</h3><ul>
<li><code>list.merge(other_list)</code><br>  將 other_list 內容搬運到 list 後，other_list 清空。</li>
<li><code>list.sort()</code><br>  不依賴 std::sort, 自己內部有一個 sort()。</li>
<li><code>list.unique()</code><br>  跟另外一套的有點相似，一樣是要在排序後才能運行當作去重複。</li>
</ul>
<h3 id="std-set-amp-std-multiset"><a href="#std-set-amp-std-multiset" class="headerlink" title="std::set &amp; std::multiset"></a>std::set &amp; std::multiset</h3><ul>
<li><code>insert()</code></li>
<li><code>find()</code><br>  查找，後回傳 set&lt;&gt;::iterator 的型態。</li>
<li><code>set&lt;&gt;::iterator</code><br>  <code>begin()</code> 和 <code>end()</code> 的型態。</li>
<li><code>set&lt;&gt;::reverse_iterator</code><br>  <code>rbegin()</code> 和 <code>rend()</code> 的型態。</li>
<li><code>erase()</code><br>  特別小心這個，傳入如果是 iterator 的話，就只會刪除單一元素，如果對於 multiset 來說，傳入一般的值(不是迭代器指針) 則會將所有相同的都刪除。</li>
</ul>
<h3 id="std-string"><a href="#std-string" class="headerlink" title="std::string"></a>std::string</h3><ul>
<li><code>find(str [, start_pos])</code><br>  正向搜索 str 這個字串從 start_pos 開始算起。</li>
<li><code>rfind()</code><br>  逆向搜索 str 這個字串。</li>
<li><code>substr(start_post, sub_length)</code><br>  從某個位置開始，截出一段長度。</li>
</ul>
<h1 id="A-List"><a href="#A-List" class="headerlink" title="A - List"></a>A - List</h1><h2 id="題目"><a href="#題目" class="headerlink" title="題目"></a>題目</h2><p>总时间限制: 4000ms    内存限制: 65536kB</p>
<p>描述</p>
<pre><code>写一个程序完成以下命令：
new id ——新建一个指定编号为id的序列(id&lt;10000)
add id num——向编号为id的序列加入整数num
merge id1 id2——合并序列id1和id2中的数，并将id2清空
unique id——去掉序列id中重复的元素
out id ——从小到大输出编号为id的序列中的元素，以空格隔开
</code></pre><p>输入</p>
<pre><code>第一行一个数n，表示有多少个命令( n &lt;= 200000)。以后 n 行每行一个命令。
</code></pre><p>输出</p>
<pre><code>按题目要求输出。
</code></pre><p>样例输入</p>
<pre><code>16
new 1
new 2
add 1 1
add 1 2
add 1 3
add 2 1
add 2 2
add 2 3
add 2 4
out 1
out 2
merge 1 2
out 1
out 2
unique 1
out 1
</code></pre><p>样例输出</p>
<pre><code>1 2 3 
1 2 3 4
1 1 2 2 3 3 4

1 2 3 4
</code></pre><h2 id="解法"><a href="#解法" class="headerlink" title="解法"></a>解法</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// http://cxsjsxmooc.openjudge.cn/</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> n; <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n) == <span class="number">1</span>; )  &#123;</div><div class="line">        <span class="keyword">char</span> cmd[<span class="number">10</span>];</div><div class="line">        <span class="keyword">int</span> id, num, aid;</div><div class="line">        <span class="built_in">map</span>&lt; <span class="keyword">int</span>, <span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt; &gt; S;</div><div class="line">        <span class="keyword">while</span>(n--) &#123;</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%s"</span>, cmd);</div><div class="line">            <span class="keyword">if</span>(cmd[<span class="number">0</span>] == <span class="string">'n'</span>) &#123; <span class="comment">// new</span></div><div class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;id);</div><div class="line">                S[id] = <span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;();</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(cmd[<span class="number">0</span>] == <span class="string">'a'</span>) &#123; <span class="comment">// add</span></div><div class="line">                <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;id, &amp;num);</div><div class="line">                S[id].push_back(num);</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(cmd[<span class="number">0</span>] == <span class="string">'m'</span>) &#123; <span class="comment">// merge</span></div><div class="line">                <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;id, &amp;aid);</div><div class="line">                S[id].merge(S[aid]);</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(cmd[<span class="number">0</span>] == <span class="string">'u'</span>) &#123; <span class="comment">// unique</span></div><div class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;id);</div><div class="line">                S[id].sort();</div><div class="line">                S[id].unique();</div><div class="line">            &#125; <span class="keyword">else</span> &#123; <span class="comment">// out</span></div><div class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;id);</div><div class="line">                S[id].sort();</div><div class="line">                <span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;::iterator it, jt;</div><div class="line">                it = S[id].begin(), jt = S[id].end();</div><div class="line">                <span class="keyword">int</span> f = <span class="number">0</span>;</div><div class="line">                <span class="keyword">for</span>(; it != jt; it++) &#123;</div><div class="line">                    <span class="keyword">if</span>(f)	<span class="built_in">putchar</span>(<span class="string">' '</span>);</div><div class="line">                    f = <span class="number">1</span>;</div><div class="line">                    <span class="built_in">printf</span>(<span class="string">"%d"</span>, *it);</div><div class="line">                &#125;</div><div class="line">                <span class="built_in">puts</span>(<span class="string">""</span>);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<h1 id="B-Set"><a href="#B-Set" class="headerlink" title="B - Set"></a>B - Set</h1><h2 id="題目-1"><a href="#題目-1" class="headerlink" title="題目"></a>題目</h2><p>总时间限制: 5000ms    内存限制: 100000kB</p>
<p>描述</p>
<pre><code>现有一整数集（允许有重复元素），初始为空。我们定义如下操作：
add x 把x加入集合
del x 把集合中所有与x相等的元素删除
ask x 对集合中元素x的情况询问
对每种操作，我们要求进行如下输出。
add 输出操作后集合中x的个数
del 输出操作前集合中x的个数
ask 先输出0或1表示x是否曾被加入集合（0表示不曾加入），再输出当前集合中x的个数，中间用空格格开。
</code></pre><p>输入</p>
<pre><code>第一行是一个整数n，表示命令数。0&lt;=n&lt;=100000。
后面n行命令，如Description中所述。
</code></pre><p>输出</p>
<pre><code>共n行，每行按要求输出。
</code></pre><p>样例输入</p>
<pre><code>7
add 1
add 1
ask 1
ask 2
del 2
del 1
ask 1
</code></pre><p>样例输出</p>
<pre><code>1
2
1 2
0 0
0
2
1 0
</code></pre><h2 id="解法-1"><a href="#解法-1" class="headerlink" title="解法"></a>解法</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// http://cxsjsxmooc.openjudge.cn/</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> n, x; <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n) == <span class="number">1</span>;) &#123;</div><div class="line">        <span class="keyword">char</span> cmd[<span class="number">10</span>];</div><div class="line">        <span class="built_in">multiset</span>&lt;<span class="keyword">int</span>&gt; S;</div><div class="line">        <span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt; I;</div><div class="line">        <span class="keyword">while</span>(n--) &#123;</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%s"</span>, cmd);</div><div class="line">            <span class="keyword">if</span>(cmd[<span class="number">0</span>] == <span class="string">'a'</span> &amp;&amp; cmd[<span class="number">1</span>] == <span class="string">'d'</span>) &#123; <span class="comment">// add</span></div><div class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;x);</div><div class="line">                I.insert(x);</div><div class="line">                S.insert(x);</div><div class="line">                <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, S.count(x));</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(cmd[<span class="number">0</span>] == <span class="string">'a'</span> &amp;&amp; cmd[<span class="number">1</span>] == <span class="string">'s'</span>) &#123; <span class="comment">// ask</span></div><div class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;x);</div><div class="line">                <span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>, I.find(x) != I.end(), S.count(x));</div><div class="line">            &#125; <span class="keyword">else</span> &#123; <span class="comment">// del</span></div><div class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;x);</div><div class="line">                <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, S.count(x));</div><div class="line">                S.erase(x);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<h1 id="C-字符串操作"><a href="#C-字符串操作" class="headerlink" title="C - 字符串操作"></a>C - 字符串操作</h1><h2 id="題目-2"><a href="#題目-2" class="headerlink" title="題目"></a>題目</h2><p>总时间限制: 1000ms    内存限制: 65536kB</p>
<p>描述</p>
<pre><code>给定n个字符串（从1开始编号），每个字符串中的字符位置从0开始编号，长度为1-500，现有如下若干操作：

    copy N X L：取出第N个字符串第X个字符开始的长度为L的字符串。
    add S1 S2：判断S1，S2是否为0-99999之间的整数，若是则将其转化为整数做加法，若不是，则作字符串加法，返回的值为一字符串。
    find S N：在第N个字符串中从左开始找寻S字符串，返回其第一次出现的位置，若没有找到，返回字符串的长度。
    rfind S N：在第N个字符串中从右开始找寻S字符串，返回其第一次出现的位置，若没有找到，返回字符串的长度。
    insert S N X：在第N个字符串的第X个字符位置中插入S字符串。
    reset S N：将第N个字符串变为S。
    print N：打印输出第N个字符串。
    printall：打印输出所有字符串。
    over：结束操作。

其中N，X，L可由find与rfind操作表达式构成，S，S1，S2可由copy与add操作表达式构成。
</code></pre><p>输入</p>
<pre><code>第一行为一个整数n（n在1-20之间）

接下来n行为n个字符串，字符串不包含空格及操作命令等。

接下来若干行为一系列操作，直到over结束。
</code></pre><p>输出</p>
<pre><code>根据操作提示输出对应字符串。
</code></pre><p>样例输入</p>
<pre><code>3
329strjvc
Opadfk48
Ifjoqwoqejr
insert copy 1 find 2 1 2 2 2
print 2
reset add copy 1 find 3 1 3 copy 2 find 2 2 2 3
print 3
insert a 3 2
printall
over
</code></pre><p>样例输出</p>
<pre><code>Op29adfk48
358
329strjvc
Op29adfk48
35a8
</code></pre><h2 id="解法-2"><a href="#解法-2" class="headerlink" title="解法"></a>解法</h2><p>這一題算是裡面最繁瑣的一題，一部分是因為其輸入的規則需要遞歸分析。<br>而為了實現遞歸分析，需要可以偷看輸入的下一個 token，因此先把每一個 token 切出來放在 queue 裏頭。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// http://cxsjsxmooc.openjudge.cn/</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sstream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ctype.h&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">char</span> s[<span class="number">32</span>][<span class="number">512</span>], lineStr[<span class="number">1024</span>];</div><div class="line"><span class="built_in">string</span> str[<span class="number">32</span>];</div><div class="line"><span class="keyword">int</span> strSize;</div><div class="line"><span class="built_in">queue</span>&lt;<span class="built_in">string</span>&gt; tokenQ;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">str2num</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> atoi(s.c_str());</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="built_in">string</span> <span class="title">num2str</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">  	<span class="built_in">string</span> s;</div><div class="line">  	<span class="function"><span class="built_in">stringstream</span> <span class="title">ss</span><span class="params">(s)</span></span>;</div><div class="line">  	ss &lt;&lt; n;</div><div class="line">    <span class="keyword">return</span> ss.str();</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">isValidNum</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++) &#123;</div><div class="line">        <span class="keyword">if</span>(!<span class="built_in">isdigit</span>(s[i]))</div><div class="line">            <span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line">        ret = ret * <span class="number">10</span> + s[i] - <span class="string">'0'</span>;</div><div class="line">        <span class="keyword">if</span>(ret &gt; <span class="number">99999</span>)</div><div class="line">            <span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ret;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="built_in">string</span> <span class="title">parsing</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="built_in">string</span> p = tokenQ.front();</div><div class="line">    tokenQ.pop();</div><div class="line">    <span class="keyword">if</span>(p == <span class="string">"copy"</span>)  &#123;</div><div class="line">        <span class="built_in">string</span> N, X, L;</div><div class="line">        <span class="keyword">int</span> n, x, l;</div><div class="line">        <span class="keyword">if</span>(tokenQ.front() == <span class="string">"find"</span> || tokenQ.front() == <span class="string">"rfind"</span>) &#123;</div><div class="line">            N = parsing();</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            N = tokenQ.front(), tokenQ.pop();</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(tokenQ.front() == <span class="string">"find"</span> || tokenQ.front() == <span class="string">"rfind"</span>) &#123;</div><div class="line">            X = parsing();</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            X = tokenQ.front(), tokenQ.pop();</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(tokenQ.front() == <span class="string">"find"</span> || tokenQ.front() == <span class="string">"rfind"</span>) &#123;</div><div class="line">            L = parsing();</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            L = tokenQ.front(), tokenQ.pop();</div><div class="line">        &#125;</div><div class="line">        n = str2num(N), x = str2num(X), l = str2num(L);</div><div class="line">        </div><div class="line">        <span class="keyword">return</span> str[n].substr(x, l);</div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(p == <span class="string">"add"</span>) &#123;</div><div class="line">        <span class="built_in">string</span> S1, S2;</div><div class="line">        <span class="keyword">int</span> s1, s2;</div><div class="line">        <span class="keyword">if</span>(tokenQ.front() == <span class="string">"copy"</span> || tokenQ.front() == <span class="string">"add"</span>) &#123;</div><div class="line">            S1 = parsing();</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            S1 = tokenQ.front(), tokenQ.pop();</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(tokenQ.front() == <span class="string">"copy"</span> || tokenQ.front() == <span class="string">"add"</span>) &#123;</div><div class="line">            S2 = parsing();</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            S2 = tokenQ.front(), tokenQ.pop();</div><div class="line">        &#125;</div><div class="line">        s1 = isValidNum(S1), s2 = isValidNum(S2);</div><div class="line">        <span class="keyword">if</span>(s1 &lt; <span class="number">0</span> || s2 &lt; <span class="number">0</span>)</div><div class="line">            <span class="keyword">return</span> S1 + S2;</div><div class="line">        <span class="keyword">else</span></div><div class="line">            <span class="keyword">return</span> num2str(s1 + s2);</div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(p == <span class="string">"find"</span>) &#123;</div><div class="line">        <span class="built_in">string</span> S, N;</div><div class="line">        <span class="keyword">int</span> s, n;</div><div class="line">        <span class="keyword">if</span>(tokenQ.front() == <span class="string">"copy"</span> || tokenQ.front() == <span class="string">"add"</span>) &#123;</div><div class="line">            S = parsing();</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            S = tokenQ.front(), tokenQ.pop();</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(tokenQ.front() == <span class="string">"find"</span> || tokenQ.front() == <span class="string">"rfind"</span>) &#123;</div><div class="line">            N = parsing();</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            N = tokenQ.front(), tokenQ.pop();</div><div class="line">        &#125;</div><div class="line">        n = str2num(N);</div><div class="line">        <span class="keyword">int</span> pos = str[n].find(S);</div><div class="line">        </div><div class="line">        <span class="keyword">if</span>(pos != <span class="built_in">string</span>::npos) &#123;</div><div class="line">            <span class="keyword">return</span> num2str(pos);</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">return</span> num2str(str[n].length());</div><div class="line">        &#125;</div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(p == <span class="string">"rfind"</span>) &#123;</div><div class="line">        <span class="built_in">string</span> S, N;</div><div class="line">        <span class="keyword">int</span> s, n;</div><div class="line">        <span class="keyword">if</span>(tokenQ.front() == <span class="string">"copy"</span> || tokenQ.front() == <span class="string">"add"</span>) &#123;</div><div class="line">            S = parsing();</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            S = tokenQ.front(), tokenQ.pop();</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(tokenQ.front() == <span class="string">"find"</span> || tokenQ.front() == <span class="string">"rfind"</span>) &#123;</div><div class="line">            N = parsing();</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            N = tokenQ.front(), tokenQ.pop();</div><div class="line">        &#125;</div><div class="line">        n = str2num(N);</div><div class="line">        <span class="keyword">int</span> pos = str[n].rfind(S);</div><div class="line">        <span class="keyword">if</span>(pos != <span class="built_in">string</span>::npos) &#123;</div><div class="line">            <span class="keyword">return</span> num2str(pos);</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">return</span> num2str(str[n].length());</div><div class="line">        &#125;</div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(p == <span class="string">"insert"</span>) &#123;</div><div class="line">        <span class="built_in">string</span> S, N, X;</div><div class="line">        <span class="keyword">int</span> s, n, x;</div><div class="line">        <span class="keyword">if</span>(tokenQ.front() == <span class="string">"copy"</span> || tokenQ.front() == <span class="string">"add"</span>) &#123;</div><div class="line">            S = parsing();</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            S = tokenQ.front(), tokenQ.pop();</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(tokenQ.front() == <span class="string">"find"</span> || tokenQ.front() == <span class="string">"rfind"</span>) &#123;</div><div class="line">            N = parsing();</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            N = tokenQ.front(), tokenQ.pop();</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(tokenQ.front() == <span class="string">"find"</span> || tokenQ.front() == <span class="string">"rfind"</span>) &#123;</div><div class="line">            X = parsing();</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            X = tokenQ.front(), tokenQ.pop();</div><div class="line">        &#125;</div><div class="line">        n = str2num(N), x = str2num(X);</div><div class="line">        str[n].insert(x, S);</div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(p == <span class="string">"reset"</span>) &#123;</div><div class="line">        <span class="built_in">string</span> S, N, X;</div><div class="line">        <span class="keyword">int</span> s, n, x;</div><div class="line">        <span class="keyword">if</span>(tokenQ.front() == <span class="string">"copy"</span> || tokenQ.front() == <span class="string">"add"</span>) &#123;</div><div class="line">            S = parsing();</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            S = tokenQ.front(), tokenQ.pop();</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(tokenQ.front() == <span class="string">"find"</span> || tokenQ.front() == <span class="string">"rfind"</span>) &#123;</div><div class="line">            N = parsing();</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            N = tokenQ.front(), tokenQ.pop();</div><div class="line">        &#125;</div><div class="line">        n = str2num(N);</div><div class="line">        str[n] = S;</div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(p == <span class="string">"print"</span>) &#123;</div><div class="line">        <span class="built_in">string</span> S, N, X;</div><div class="line">        <span class="keyword">int</span> s, n, x;</div><div class="line">        <span class="keyword">if</span>(tokenQ.front() == <span class="string">"find"</span> || tokenQ.front() == <span class="string">"rfind"</span>) &#123;</div><div class="line">            N = parsing();</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            N = tokenQ.front(), tokenQ.pop();</div><div class="line">        &#125;</div><div class="line">        n = str2num(N);</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%s\n"</span>, str[n].c_str());</div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(p == <span class="string">"printall"</span>) &#123;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= strSize; i++)</div><div class="line">            <span class="built_in">printf</span>(<span class="string">"%s\n"</span>, str[i].c_str());</div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(p == <span class="string">"over"</span>) &#123;</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="string">""</span>;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> n; <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n) == <span class="number">1</span>;) &#123;</div><div class="line">        <span class="keyword">int</span> N, X, L, S1, S2, S;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%s"</span>, s[i]);</div><div class="line">            str[i] = s[i];</div><div class="line">        &#125;</div><div class="line">        strSize = n;</div><div class="line">        <span class="keyword">while</span>(getchar() != <span class="string">'\n'</span>);</div><div class="line">        <span class="keyword">while</span>(gets(lineStr)) &#123;</div><div class="line">            <span class="function"><span class="built_in">stringstream</span> <span class="title">sin</span><span class="params">(lineStr)</span></span>;</div><div class="line">            <span class="built_in">string</span> token;</div><div class="line">            <span class="keyword">while</span>(<span class="built_in">sin</span> &gt;&gt; token)</div><div class="line">                tokenQ.push(token);</div><div class="line">            parsing();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-web/magic-circle" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/04/22/web/magic-circle/" class="article-date">
  <time datetime="2014-04-21T23:45:58.000Z" itemprop="datePublished">2014-04-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/網頁設計/">網頁設計</a>/<a class="article-category-link" href="/categories/網頁設計/JQuery/">JQuery</a>
  </div>

  </div>
  <div class="article-inner ">
    
<div class="article-gallery">
  <div class="article-gallery-photos">
    
      <a class="article-gallery-img fancybox" href="/img/magic-circle.png" rel="gallery_clni4s48b02kaewvn86f0bt8z">
        <img src="/img/magic-circle.png" itemprop="image">
      </a>
    
  </div>
</div>

    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/04/22/web/magic-circle/">JQuery 魔法陣製作 Magic Circle</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/04/22/web/magic-circle/" data-id="clni4s48b02kaewvn86f0bt8z" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/04/22/web/magic-circle/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jquery/">jquery</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/magic-circle/">magic-circle</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/中二病/">中二病</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h1 id="製作起源"><a href="#製作起源" class="headerlink" title="製作起源"></a>製作起源</h1><p><a href="http://gigazine.net/news/20140417-magic-ring/" target="_blank" rel="external">魔法陣字型出處</a> </p>
<p>也是因為在 2014-04-17 出了一款魔法陣字型，在藉由惡友們的催促下，不，是誘導下嘗試做了 jquery 的插件來完成魔法陣的製作。當然沒有網址中做得那麼好看。</p>
<p>不過具體下也努力去完成了。附圖如下：</p>
<h1 id="製作"><a href="#製作" class="headerlink" title="製作"></a>製作</h1><h2 id="前置作業"><a href="#前置作業" class="headerlink" title="前置作業"></a>前置作業</h2><ul>
<li>JQuery</li>
<li>CSS 旋轉和陰影配置</li>
</ul>
<h2 id="開始"><a href="#開始" class="headerlink" title="開始"></a>開始</h2><ul>
<li><p>配置多層圓，可以參考 <a href="http://css-tricks.com/set-text-on-a-circle/" target="_blank" rel="external">這裡</a>，先將內容拆成 <code>&lt;span&gt;A&lt;/span&gt;</code> 的形式。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">h1 span &#123;</div><div class="line">  font: 24px myFirstFont, Monaco, MonoSpace;</div><div class="line">  height: 300px;</div><div class="line">  position: absolute;</div><div class="line">  width: 20px;</div><div class="line">  left: 50%;</div><div class="line">  top: 0;</div><div class="line">  -webkit-transform-origin: 50% 50%;</div><div class="line">  -moz-transform-origin: 50% 50%;</div><div class="line">  -ms-transform-origin: 50% 50%;</div><div class="line">  -o-transform-origin: 50% 50%;</div><div class="line">  transform-origin: 50% 50%;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>將每個 <code>&lt;span&gt;</code> 設置成絕對座標配置，乍看下是一個長條形，並且使用 <code>transform-origin 50% 50%</code> 設置旋轉中心，也就是長條形的正中間。<code>rgba(177, 17, 22, 1)</code> 為血紅色</p>
</li>
</ul>
<h1 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h1><ul>
<li><p>接著要計算字距，來方便每一個字符偏轉角度。而且每一層圓的偏轉角度還有所不同，這裡我並沒有詳細去計算。</p>
</li>
<li><p><code>transform rotate(50 deg)</code> 用來旋轉</p>
</li>
<li><p>光暈效果呈現 <code>box-shadow 0px 0px 10px rgba(177, 17, 22, 1)</code> 於外部產生陰影。</p>
<ul>
<li>至於內部效果沒有做得很好看。</li>
</ul>
</li>
</ul>
<p>在 <strong> 山田かみら </strong> 的建議下，進行的大幅度地修改，同時也發現之前的版本有過度延遲的問題，原因都發生於過多的 for each 計算。</p>
<ul>
<li>先修正過於愚蠢的 CSS，加入比較好的 class 處理，來達到可以物件化。</li>
<li>原本文字的處理仍需要使用旋轉的方式運作，而考慮將每一個圈放到同一個正方形內，直接對正方形作旋轉即可，剩下的操作交給瀏覽器去進行計算。因此，做了架構上的分層。</li>
</ul>
<h3 id="關於代碼"><a href="#關於代碼" class="headerlink" title="關於代碼"></a>關於代碼</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  $(function() &#123;</div><div class="line">      $(&quot;#test1&quot;).magicsquare(&apos;fire&apos;, &#123;radius: 500, radius_padding: 150,</div><div class="line">            radius_center: 200,	duration: 10&#125;);</div><div class="line"></div><div class="line">      $(&quot;#test2&quot;).magicsquare(&apos;fire&apos;, &#123;radius: 300, radius_padding: 50,</div><div class="line">            radius_center: 50,	duration: 30&#125;);</div><div class="line"></div><div class="line">      $(&quot;#test1&quot;).draggable();</div><div class="line">      $(&quot;#test2&quot;).draggable();</div><div class="line">      $(&quot;.center-content&quot;).click(function() &#123;</div><div class="line">          $(&quot;#test1&quot;).magicsquare(&apos;boom&apos;);</div><div class="line">          $(&quot;#test2&quot;).magicsquare(&apos;boom&apos;);</div><div class="line">      &#125;);</div><div class="line">    &#125;);</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<p>不知道 CSS3 穩定了沒有，在動畫處理引用 animate.css。</p>
<p>但是如果要完成連續型的動畫播放，單純 CSS 目前不想去研究能不能寫腳本。所以在定秒處理之後呼叫 <code>callback()</code> 去進行下一個動畫放置 (仍以 jquery 為主)。</p>
<p>剩下的交給 <strong> 山田君 </strong> 了。</p>
<h2 id="Demo-amp-下載"><a href="#Demo-amp-下載" class="headerlink" title="Demo &amp; 下載"></a>Demo &amp; 下載</h2><p><img src="/img/demo.gif" alt="very old version demo gif"><br><a href="http://morris821028.github.io/jquery-magic-circle/">demo link</a></p>
<p><a href="https://github.com/morris821028/jquery-magic-circle" target="_blank" rel="external">repo jquery-magic-circle on Github</a><br><script type="text/javascript" src="http://morris821028.github.io/hexo-tag-oj/jquery.githubRepoWidget.js"></script><div class="github-widget" data-repo="morris821028/jquery-magic-circle"></div></p>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><ul>
<li><a href="http://css-tricks.com/set-text-on-a-circle/" target="_blank" rel="external">http://css-tricks.com/set-text-on-a-circle/</a></li>
</ul>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-lesson/new-methodology" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/04/21/lesson/new-methodology/" class="article-date">
  <time datetime="2014-04-21T08:09:04.000Z" itemprop="datePublished">2014-04-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/學校課程/">學校課程</a>/<a class="article-category-link" href="/categories/學校課程/敏捷方法/">敏捷方法</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/04/21/lesson/new-methodology/">軟體開發方法論(翻譯部分內容)</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/04/21/lesson/new-methodology/" data-id="clni4s42l02dhewvne9cn1ucv" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/04/21/lesson/new-methodology/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/軟體開發/">軟體開發</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h1 id="長篇大論"><a href="#長篇大論" class="headerlink" title="長篇大論"></a>長篇大論</h1><p>只求軟體開發的工程方法，最近上敏捷方法，教授開始講到了始祖 …</p>
<p>於是上演了輪番翻譯的戲碼，讓各種同學參與這份大型工程，關於翻譯的同時，深刻地理解到這也是為什麼無法接觸國外的最新資訊啊，曲解、誤解、亂解 …</p>
<blockquote>
<p>我的語言記憶體如此小，卻搭載世界最複雜的語言。</p>
</blockquote>
<h2 id="序"><a href="#序" class="headerlink" title="序"></a>序</h2><blockquote><p>In the past few years there’s been a blossoming of a new style of software methodology - referred to as agile methods. Alternatively characterized as an antidote to bureaucracy or a license to hack they’ve stirred up interest all over the software landscape. In this essay I explore the reasons for agile methods, focusing not so much on their weight but on their adaptive nature and their people-first orientation. </p>
<footer><strong>Martin Fowler</strong><cite><a href="http://www.martinfowler.com/articles/newMethodology.html" target="_blank" rel="external">The New Methodology</a></cite></footer></blockquote>
<p>Probably the most noticeable change to software process thinking in the last few years has been the appearance of the word ‘agile’. We talk of agile software methods, of how to introduce agility into a development team, or of how to resist the impending storm of agilists determined to change well-established practices.</p>
<p>也許在這過去幾年最引人注目對軟件過程的思考的改變 - “敏捷 agile” 一詞的出現。我們將談論如何將敏捷軟體方法(agile software method)引入到開發團隊，或者如何抗拒即將到來的敏捷提倡者所帶來的風暴，這風暴將改變原先建立的好的業界實踐方法。</p>
<p>This new movement grew out of the efforts of various people who dealt with software process in the 1990s, found them wanting, and looked for a new approach to software process. Most of the ideas were not new, indeed many people believed that much successful software had been built that way for a long time. There was, however, a view that these ideas had been stifled and not been treated seriously enough, particularly by people interested in software process.</p>
<p>這新運動來自于 1990 年起不同人對於軟體程序的努力，他們發現和找到一個新的軟體程序。大多數敏捷方法的想法並不新，大多數人認為很多成功的軟件本來就有內置這種方式很久了，的確是有的，然而有一觀點指出，這些想法對於對軟體過程感興趣的人眼中並沒有受到重視，甚至被受到抑制。</p>
<p>This essay was originally part of this movement. I originally published it in July 2000. I wrote it, like most of my essays, as part of trying to understand the topic. At that time I’d used Extreme Programming for several years after I was lucky enough to work with Kent Beck, Ron Jeffries, Don Wells, and above all the rest of the Chrysler C3 team in 1996. I had since had conversations and read books from other people who had similar ideas about software process, but had not necessarily wanted to take the same path as Extreme Programming. So in the essay I wanted to explore what were the similarities and differences between these methodologies.</p>
<p>這篇文章也是新運動的起源一部份，最初發表于 2000 年 7 月。作為嘗試了解這文章一部份，您必須知曉這篇文章的風格如同其他大多數我寫的文章。在很幸運地與 Kent Beck, Ron Jeffries, Don Wells 共事後，我已經使用極限編程 (Extreme Programming) 好幾年。從 1996 年的 Chrysler C3 team 那時。我有機會與別人互相交流資訊和書籍來得到他們對於軟體過程中的類似想法，但即使是極限編程 (Extreme Programming) 也沒有一定要採用一樣的走法，所以在這篇文章中，我想要探索這些方法間的異同。</p>
<p>My conclusion then, which I still believe now, is that there were some fundamental principles that united these methodologies, and these principles were a notable contrast from the assumptions of the established methodologies.</p>
<p>以我的話來說，我至今仍相信那些方法一定有一些共同的基本原則，這些原則可能會從原本既有的(主流)方法假設中有明顯地對比。</p>
<p>This essay has continued to be one of the most popular essays on my website, which means I feel somewhat bidden to keep it up to date. In its original form the essay both explored these differences in principles and provided a survey of agile methods as I then understood them. Too much has happened with agile methods since for me to keep up with the survey part, although I do provide some links to continue your explorations. The differences in principles still remain, and this discussion I’ve kept.</p>
<p>這篇文章將會一直是一篇這個網站最熱門的文章，也意味者我會感到使命去保持這篇文章的更新。在文章原始架構中，會探討我所了解的這些原則的差異和提供敏捷方法的調查。當我在調查的同時，敏捷方法已經發生了變動，但仍我也提供一些鏈結供您探索，這些原則的差異和討論內容仍會保留在這篇文章中。</p>
<p>Most software development is a chaotic activity, often characterized by the phrase “code and fix”. The software is written without much of an underlying plan, and the design of the system is cobbled together from many short term decisions. This actually works pretty well as the system is small, but as the system grows it becomes increasingly difficult to add new features to the system. Furthermore bugs become increasingly prevalent and increasingly difficult to fix. A typical sign of such a system is a long test phase after the system is “feature complete”. Such a long test phase plays havoc with schedules as testing and debugging is impossible to schedule. </p>
<p>大多數軟體開發是一個混亂的開始，常常以一句話代以概括 ”撰寫！修復！“，這些軟體在撰寫時不用事先有基礎的計劃，也不用系統架構，將由短期項目討論就可以拼湊起來。這確切在系統很小時可以運作，但當系統越大時將會變得相當困難去增加新的功能。此外，BUG 也會越來越普遍見到，且越來越難除錯。這典型系統是在功能齊備後，才經由長時間的測試階段。這麼長時間的測試階段將嚴重破壞測試和除錯的行程，使得行程根本無法安排。試階段起著嚴重破壞的時間表為測試和調試是不可能的安排。</p>
<p>The original movement to try to change this introduced the notion of methodology. These methodologies impose a disciplined process upon software development with the aim of making software development more predictable and more efficient. They do this by developing a detailed process with a strong emphasis on planning inspired by other engineering disciplines - which is why I like to refer to them as engineering methodologies (another widely used term for them is plan-driven methodologies). </p>
<p>起源運動將要改變這種方法的概念，這些方法論所施加的紀律，將協助軟體開發變得更可預測和更有效率。他們將透過製定詳細的過程，這些過程特別強調設計，靈感來自于其他工程學門- 這就是為什麼我喜歡稱呼它們為 ”工程方法 enginerring methodologies“ (對於他們來說，另一個廣泛使用的術語為 “計劃驅動方法 plan-driven methodologies”)</p>
<p>Engineering methodologies have been around for a long time. They’ve not been noticeable for being terribly successful. They are even less noted for being popular. The most frequent criticism of these methodologies is that they are bureaucratic. There’s so much stuff to do to follow the methodology that the whole pace of development slows down. </p>
<p>工程方法已經存有一段歷史，它們都沒有被注目那背後可怕的成功，它們相當少被認為是受流行的，常見的批評為 ”它們是官僚政治的“ // 相當死板的 ？ 。有相當多的項目都遵循這套方法論使用緩慢的發展步伐。</p>
<p><strong> Agile methodologies </strong> developed as a reaction to these methodologies. For many people the appeal of these agile methodologies is their reaction to the bureaucracy of the engineering methodologies. These new methods attempt a useful compromise between no process and too much process, providing just enough process to gain a reasonable payoff. </p>
<p>敏捷方法的發展就是反映這些工程方法論，對于大多數的人而言，敏捷方法的吸引力是反映出工程方法的官僚主義，這些新方法是在沒有進展和太多進展中的折衷妥協方案，提供一種恰當的過程來獲得合理回饋。</p>
<p>The result of all of this is that agile methods have some significant changes in emphasis from engineering methods. The most immediate difference is that they are less document-oriented, usually emphasizing a smaller amount of documentation for a given task. In many ways they are rather code-oriented: following a route that says that the key part of documentation is source code. </p>
<p>這一切的結過是，敏捷方法從工程方法中有顯的改變。最明顯的差異是少寫文件(文件導向)，通常強調少量文件的工作，在許多說法上，它們更偏向代碼導向(code-oriented: 文件的關鍵部分是源代碼 source code)</p>
<h1 id="糟透的軟體開發"><a href="#糟透的軟體開發" class="headerlink" title="糟透的軟體開發"></a>糟透的軟體開發</h1><p>在土木工程中，建造一個橋來說，通常在設計草圖完成後，即使換了別的公司繼續接按下去做，一樣能按照這個設計草圖完成。如果在施工過程中遇到問題，通常問題也不會太難，而且非常容易被解決。</p>
<p>在了解這些設計草圖後，可以發現勞心者和勞力者的工作是分開的，設計由專家耗費心力完成，而實作能由工人來按照草圖，因此這些設計草圖是確保工人們能看得懂，但是在軟體工程中，大部分都是勞心者和勞力者集一人之中。</p>
<p>施工是一個相當耗費成本的工作，在早期的軟體工程開發專家，希望能將土木工程的方法轉移到軟體工程上。讓專家進行設計，再讓低成本的工作人員來完成實作，設計費用通常比實作費用來的低，工程師仍有高低薪之分，新一代的低薪工程師呢！</p>
<p>專家寫出來的設計草圖，要讓 programmer 看得懂，通常是非常困難的。即使是 UML 圖，雖然在紙(草圖)上看起來相當不錯，但是實作上的問題卻相當多，土木工程的設計圖可以經過數學模型去測試，但是軟體工程的設計圖只能由人腦去找到邏輯BUG，即使是設計熟練的專家，要設計出不會有實作問題的草圖也是常發生的。</p>
<p>接續著剛剛討論的造橋問題，設計費用只占了全部花費的十分之一，按照草圖寫 code 是相當簡單的，根據 McConnell 調查大型專案，只有 15% 的成本進行程式撰寫和測試(這裡我們需要勞力成本比例越高越好)。即使把其他成本混在一起，設計仍占了 50% 的成本比例。軟體工程只是工程分枝中之一，這其中一定有蹊蹺。</p>
<p>結論</p>
<ul>
<li>軟體的建造相當便宜，甚至於免費(只淤需要電腦和編譯器，沒有實體。)</li>
<li>軟體受設計影響，因此需要有創造力和有天賦的人。</li>
<li>俱有創新的程序不容易去規劃，可預測的性質甚至變成不可能。</li>
<li>我們需要不同於傳統工程的方法，來解決這詭異的軟體工程的開發程序。</li>
</ul>
<p>常常有開發者收到客戶不斷地改變需求，但是改變需求是常態，但是對於開發者而言卻是想不透的謎。這表示當初需求並沒有弄完整，但是也不能說像客戶簽訂契約——表示在軟體完成前，需求都不會改變。需求改變是很正常的，這客戶來說這個契約反而不合理。</p>
<p>按需求收費，加什麼功能要多少錢？估算收費也是不好量化，也會根據產品使用的方式和使用者有關，因此品質的水準與費用是不好預估。客戶以為“軟”體容易修改，但並不是每個需求都容易修改，通常會耗費大量的時間去滿足客戶的需求。</p>
<p>如果需求不穩定，就得不到可預測的計劃去完成軟體。</p>
<h1 id="真的不可預測？"><a href="#真的不可預測？" class="headerlink" title="真的不可預測？"></a>真的不可預測？</h1><p>在 NASA 太空軟體開發中，他們的計劃是可以預測的，但這也只是一個特別的例子，主要原因是長期時間，龐大的團隊，穩定的需求。</p>
<p>更可怕的是，如果客戶需求不穩定，卻告知有可預測的計劃，這樣自欺欺人的行為相當令人詬病。</p>
<p>”可預測“是令人相當渴望的，這導致一開始擬定的計劃越飄越遠，最後計劃將會分崩離析。</p>
<p>按照方法論運行總是美好的，但是在軟體開發上必須要捨棄掉，但這樣的舉動相當困難，要捨棄一直以來處理事情的方式，但也並不是讓事情處理變得無法控制的混沌，捨棄“預測”吧！</p>
<h1 id="控制-“不可預測”程序"><a href="#控制-“不可預測”程序" class="headerlink" title="控制 “不可預測”程序"></a>控制 “不可預測”程序</h1><p>使用迭代方式，並且將計劃越短越好，看起來就是多方面失敗的開始，但卻有機會看來進步的地方，當計劃越短，就能越早知道反饋(feedback)。</p>
<p>文件可以隱藏缺失，沒有經過測試將會有更多的缺失。</p>
<p>XP 一周或兩周，SCRUM 一個月之類的，越熟練則會越短時間。</p>
<p>=====</p>
<p>並不是每個工程師都像零件，換個人就可以繼續運行。</p>
<p>不可更換的人零件都跑了，也就是最有創意的人力都走了，可更換的人卻留下了。</p>
<h1 id="Programmer-是有責任的專業人員？"><a href="#Programmer-是有責任的專業人員？" class="headerlink" title="Programmer 是有責任的專業人員？"></a>Programmer 是有責任的專業人員？</h1><p>早期是工廠的運行模式，希望能讓工人多做一點事情，來讓成本降低。</p>
<p>每個 programmer 是獨特的，產出的代碼也都不同，每一個人的創意不同，把人當資源就錯了。</p>
<p>施工和設計能不能分開？施工只是由編譯器來，因此軟體全是文創業，算是設計類型的職業。</p>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-lesson/consumption-mid-item-report" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/04/19/lesson/consumption-mid-item-report/" class="article-date">
  <time datetime="2014-04-19T09:53:51.000Z" itemprop="datePublished">2014-04-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/學校課程/">學校課程</a>/<a class="article-category-link" href="/categories/學校課程/通識課程/">通識課程</a>
  </div>

  </div>
  <div class="article-inner ">
    
<div class="article-gallery">
  <div class="article-gallery-photos">
    
      <a class="article-gallery-img fancybox" href="/img/10263492_10201085618622191_1102770277_o.jpg" rel="gallery_clni4s41r02cmewvnnhijnxsd">
        <img src="/img/10263492_10201085618622191_1102770277_o.jpg" itemprop="image">
      </a>
    
  </div>
</div>

    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/04/19/lesson/consumption-mid-item-report/">《刺激消費，我是主角》心得</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/04/19/lesson/consumption-mid-item-report/" data-id="clni4s41r02cmewvnnhijnxsd" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/04/19/lesson/consumption-mid-item-report/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/通識/">通識</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h1 id="當代消費文化與社會-期中報告"><a href="#當代消費文化與社會-期中報告" class="headerlink" title="當代消費文化與社會 期中報告"></a>當代消費文化與社會 期中報告</h1><p>閱讀書名：《刺激消費，我是主角》<br>書目作者：日野佳惠子</p>
<p>對於當今社會物質富裕已經為大多數人的基礎，因此消費行為也越來越特異化，從注重環保以及各種責任意義，消費的著重點也有所不同。</p>
<p>如何聰明消費？或者說消費出聰明的價值？的確有一股取向，有錢人的消費模式在於大批購買，而我們這種一般人對於聰明的消費是相當自豪的，聰明消費能夠展現自己能在低價購入高品質的產品，這裡的低價就不單單只是低消費額，是一個相對於產品應有的價值之下。在這股潮流之下，依賴情報消費真的很重要，因此也易受於口碑品牌的影響。就如比特幣剛出時，大批人覺得是一個未來重要的貨幣商品而大量購買 … 等。</p>
<p>如果徵才也是互動型的消費，文中說明消費者若有貢獻出一己之力的機會，將會更容易讓其主動消費，例如廣告為『我們想像身為家庭主婦的您，購買做家事的能力與烹飪能力』比起『時薪 OO 徵才』好太多了，文中所提的例子相當有感，能對別人有所助益，即使中間的過程是消費的一環，也是相當具有自願性的行為。不單單只是為了個人去購買商品，同時也是為了其他外界因素而進行消費。如同當初 Firefox 打擊微軟的 IE 手法，提供開源代碼的方式，希望其他人參與這場攻防戰，願意幫助這個軟體更完善，在不花一毛錢的情況下，這個組織靠著消費者活到了至今。</p>
<p>模仿身邊的人進行消費，如果這個商品是對於土豪們為取向，那麼消費族群也總是那一群，需要靠身邊親朋好友的消費習慣來渲染自己，如果身邊沒有人這麼消費，那要成為第一個購買者的機會是相當低的，因此企業常會用親民的代表人物來推銷自己的商品。我相信在相同處境下，需求是彼此靠攏的。這有點粒子群聚算法的感覺。</p>
<p>『對於不懂得使用方法的人，不了解真正含義的人，無法因商品獲得快樂的人而言，即使技術再進步，一切都是毫無意義。』看到這一句話，越來越明白消費的同時也是在教導，如果單純只是想要擴張客源，沒有好好教導消費者如何使用也是不行的。</p>
<p>『消費者也是加工者，開創低價商品交給消費者加工，並且銷售宣傳』由於消費者不喜歡與別人相同，又想要做出自己的風格，低價商品的拓展性就變得相當高了，低價商品通常有著量多便宜的特性，譬喻成大自然的元素也不為過。想到這一點，有人開發出有前景的軟硬體，通常會湧出一批人去購買，並且修正或運用然後進行傳播，這影響力堪稱指數擴張。這也應對消費者也是企業的助手，一群消費者就是一大群的應援團，將與企業或產品一同發展。</p>
<p>『不消費的智慧』雖然使得商品沒有利益，但是這也表示新的消費可能再也不是利益，而是商品後頭的智慧，看著越來越多的消費手法，沒有智慧學習的商品，除了一般生活所需外，在未來可能很難遍及市場，娛樂市場又是另外一回事。</p>
<p>『把整個環境一同賣給你』即使商品單獨具有高性能，沒有環境展現其性能事件很糟糕的事情，就如蘋果電腦和軟體總是整包出售，兩項缺一不可。而最近微軟最近正有著附上環境出售的趨勢，不過搭配性不強，跟裸機差不多。</p>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/zj/a007" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/04/18/oj/zj/a007/" class="article-date">
  <time datetime="2014-04-18T13:20:35.000Z" itemprop="datePublished">2014-04-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-Zerojudge/">解題區 - Zerojudge</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/04/18/oj/zj/a007/">a007. 判斷質數</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/04/18/oj/zj/a007/" data-id="clni4s5cc03quewvna6x9dev0" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/04/18/oj/zj/a007/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Miller-Rabin-Algorithm/">Miller-Rabin Algorithm</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/判斷質數/">判斷質數</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h1 id="題目"><a href="#題目" class="headerlink" title="題目"></a>題目</h1><h2 id="內容："><a href="#內容：" class="headerlink" title="內容："></a>內容：</h2><p>請判斷某數是否為質數 </p>
<h2 id="輸入說明："><a href="#輸入說明：" class="headerlink" title="輸入說明："></a>輸入說明：</h2><p>輸入有多組測試資料（以EOF結尾），每組測試資料占一行，只包含一個整數x, 2 ≦ x ≦ 2147483647。</p>
<h2 id="輸出說明："><a href="#輸出說明：" class="headerlink" title="輸出說明："></a>輸出說明：</h2><p>對於每組測試資料，如果輸入的x為質數，則輸出一行「質數」（不含引號）；否則輸出一行「非質數」（不含引號）。詳見範例測試資料。</p>
<h2 id="範例輸入："><a href="#範例輸入：" class="headerlink" title="範例輸入："></a>範例輸入：</h2><pre><code>13
14
</code></pre><h2 id="範例輸出："><a href="#範例輸出：" class="headerlink" title="範例輸出："></a>範例輸出：</h2><pre><code>質數
非質數
</code></pre><hr>
<h1 id="解法"><a href="#解法" class="headerlink" title="解法"></a>解法</h1><ul>
<li>作法：<br>  Miller-Rabin Algorithm</li>
</ul>
<figure class="highlight cpp"><figcaption><span>a007.cpp</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**********************************************************************************/</span></div><div class="line"><span class="comment">/*  Problem: a007 "判斷質數"                                                  */</span></div><div class="line"><span class="comment">/*  Language: CPP (715 Bytes)                                                     */</span></div><div class="line"><span class="comment">/*  Result: AC(0.2s, 224KB) judge by this@ZeroJudge                               */</span></div><div class="line"><span class="comment">/*  Author: morris1028 at 2014-04-18 20:25:42                                     */</span></div><div class="line"><span class="comment">/**********************************************************************************/</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">Pow</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> x, <span class="keyword">int</span> n, <span class="keyword">long</span> <span class="keyword">long</span> mod)</span> </span>&#123;</div><div class="line">    <span class="keyword">long</span> <span class="keyword">long</span> Ans = <span class="number">1</span>, t = x;</div><div class="line">    <span class="keyword">while</span>(n) &#123;</div><div class="line">        <span class="keyword">if</span>(n&amp;<span class="number">1</span>)</div><div class="line">            Ans *= t, Ans %= mod;</div><div class="line">        t *= t, t %= mod, n &gt;&gt;= <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> (<span class="keyword">int</span>)Ans;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">JudgePrime</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span>(n == <span class="number">2</span> || n == <span class="number">3</span>)    <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">    <span class="keyword">if</span>(n == <span class="number">1</span>)    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    <span class="keyword">if</span>(!(n&amp;<span class="number">1</span>))    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    <span class="keyword">int</span> a, x, flag = <span class="number">1</span>, t;</div><div class="line">    <span class="keyword">for</span>(a = <span class="number">0</span>; a &lt; <span class="number">2</span>; a++) &#123;</div><div class="line">        x = rand()%(n<span class="number">-4</span>)+<span class="number">2</span>;</div><div class="line">        t = Pow(x, n<span class="number">-1</span>, n);</div><div class="line">        <span class="keyword">if</span>(t != <span class="number">1</span>)    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> n;</div><div class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n) == <span class="number">1</span>) &#123;</div><div class="line">        <span class="keyword">if</span>(JudgePrime(n))    <span class="built_in">puts</span>(<span class="string">"質數"</span>);</div><div class="line">        <span class="keyword">else</span>    <span class="built_in">puts</span>(<span class="string">"非質數"</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/zj/a576" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/04/18/oj/zj/a576/" class="article-date">
  <time datetime="2014-04-18T13:20:35.000Z" itemprop="datePublished">2014-04-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-Zerojudge/">解題區 - Zerojudge</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/04/18/oj/zj/a576/">a576. No Cheating</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/04/18/oj/zj/a576/" data-id="clni4s5cv03r7ewvncisgic3k" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/04/18/oj/zj/a576/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/最大獨立集/">最大獨立集</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h1 id="題目"><a href="#題目" class="headerlink" title="題目"></a>題目</h1><h2 id="內容："><a href="#內容：" class="headerlink" title="內容："></a>內容：</h2><p>有個學校想辦一場考試，提供了 T 間教室。每間教室的座位都是 M×N 的矩陣(不同教室的 M, N 可以不一樣)，而有的座位壞掉了不能坐。此外，為了避免學生作弊，如下圖，對任何一個學生而言，他的左方、左前方、右方、右前方都不可以有人坐。請問每間教室所能容納的學生數最多為何？ </p>
<h2 id="輸入說明："><a href="#輸入說明：" class="headerlink" title="輸入說明："></a>輸入說明：</h2><p>第一行有一個數字 T，代表學校有 T 間教室。接下來會有每個教室的資料，每筆資料會有在同一行兩個正整數 M, N，代表座位的配置是 M×N。接下來的 M 行，每行有 N 個字元，’.’代表那個座位是好的，而’x’則代表那個座位壞了。 </p>
<h2 id="輸出說明："><a href="#輸出說明：" class="headerlink" title="輸出說明："></a>輸出說明：</h2><p>對於每間教室，輸出”Case #X: Y”, 其中 X 代表這是第幾間教室，而 Y 則代表這間教室能容納的學生數最大值。</p>
<h2 id="範例輸入："><a href="#範例輸入：" class="headerlink" title="範例輸入："></a>範例輸入：</h2><pre><code>4
2 3
...
...
2 3
x.x
xxx
2 3
x.x
x.x
10 10
....x.....
..........
..........
..x.......
..........
x...x.x...
.........x
...x......
........x.
.x...x....
</code></pre><h2 id="範例輸出："><a href="#範例輸出：" class="headerlink" title="範例輸出："></a>範例輸出：</h2><pre><code>Case #1: 4
Case #2: 1
Case #3: 2
Case #4: 46
</code></pre><hr>
<h1 id="解法"><a href="#解法" class="headerlink" title="解法"></a>解法</h1><ul>
<li>作法：<br>  按列黑白染色，會發現不能連的位置恰好可以化成二分圖，求最大獨立集即可。<br>  <strong> 最大獨立集 = 點個數 - 最大匹配數 </strong></li>
</ul>
<figure class="highlight cpp"><figcaption><span>a576.cpp</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**********************************************************************************/</span></div><div class="line"><span class="comment">/*  Problem: a576 "No Cheating" from GCJ 2008 Round 3 C                           */</span></div><div class="line"><span class="comment">/*  Language: CPP (3826 Bytes)                                                    */</span></div><div class="line"><span class="comment">/*  Result: AC(0.1s, 1.2MB) judge by this@ZeroJudge                               */</span></div><div class="line"><span class="comment">/*  Author: morris1028 at 2014-04-18 18:09:46                                     */</span></div><div class="line"><span class="comment">/**********************************************************************************/</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span> &#123;</span></div><div class="line">    <span class="keyword">int</span> x, y, v;<span class="comment">// x-&gt;y, v</span></div><div class="line">    <span class="keyword">int</span> next;</div><div class="line">&#125; edge[<span class="number">65536</span>];</div><div class="line"><span class="keyword">int</span> e, head[<span class="number">6500</span>], prev[<span class="number">6500</span>], record[<span class="number">6500</span>];</div><div class="line"><span class="keyword">int</span> level[<span class="number">6500</span>], visited[<span class="number">6500</span>];</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">addEdge</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> v)</span> </span>&#123;</div><div class="line">    edge[e].x = x, edge[e].y = y, edge[e].v = v;</div><div class="line">    edge[e].next = head[x], head[x] = e++;</div><div class="line">    edge[e].x = y, edge[e].y = x, edge[e].v = <span class="number">0</span>;</div><div class="line">    edge[e].next = head[y], head[y] = e++;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">buildLevelGraph</span><span class="params">(<span class="keyword">int</span> s, <span class="keyword">int</span> t)</span> </span>&#123;</div><div class="line">    <span class="built_in">memset</span>(level, <span class="number">0</span>, <span class="keyword">sizeof</span>(level));</div><div class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; Q;</div><div class="line">    Q.push(s), level[s] = <span class="number">1</span>;</div><div class="line">    <span class="keyword">while</span>(!Q.empty()) &#123;</div><div class="line">        <span class="keyword">int</span> tn = Q.front();</div><div class="line">        Q.pop();</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = head[tn]; i != <span class="number">-1</span>; i = edge[i].next) &#123;</div><div class="line">            <span class="keyword">int</span> y = edge[i].y;</div><div class="line">            <span class="keyword">if</span>(edge[i].v &gt; <span class="number">0</span> &amp;&amp; level[y] == <span class="number">0</span>) &#123;</div><div class="line">                level[y] = level[tn] + <span class="number">1</span>;</div><div class="line">                Q.push(y);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> level[t] &gt; <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">constructBlockingFlow</span><span class="params">(<span class="keyword">int</span> s, <span class="keyword">int</span> t)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</div><div class="line">    <span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; stk;</div><div class="line">    <span class="built_in">memset</span>(visited, <span class="number">0</span>, <span class="keyword">sizeof</span>(visited));</div><div class="line">    stk.push(s);</div><div class="line">    <span class="keyword">while</span>(!stk.empty()) &#123;</div><div class="line">        <span class="keyword">int</span> now = stk.top();</div><div class="line">        <span class="keyword">if</span>(now != t) &#123;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = head[now]; i != <span class="number">-1</span>; i = edge[i].next) &#123;</div><div class="line">                <span class="keyword">int</span> y = edge[i].y;</div><div class="line">                <span class="keyword">if</span>(visited[y] || level[y] != level[now] + <span class="number">1</span>)</div><div class="line">                    <span class="keyword">continue</span>;</div><div class="line">                <span class="keyword">if</span>(edge[i].v &gt; <span class="number">0</span>) &#123;</div><div class="line">                    stk.push(y), prev[y] = now, record[y] = i;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span>(stk.top() == now)</div><div class="line">                stk.pop(), visited[now] = <span class="number">1</span>;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">int</span> flow = <span class="number">1e+9</span>, bottleneck;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = t; i != s; i = prev[i]) &#123;</div><div class="line">                <span class="keyword">int</span> ri = record[i];</div><div class="line">                flow = min(flow, edge[ri].v);</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = t; i != s; i = prev[i]) &#123;</div><div class="line">                <span class="keyword">int</span> ri = record[i];</div><div class="line">                edge[ri].v -= flow;</div><div class="line">                edge[ri^<span class="number">1</span>].v += flow;</div><div class="line">                <span class="keyword">if</span>(edge[ri].v == <span class="number">0</span>)</div><div class="line">                    bottleneck = prev[i];</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">while</span>(!stk.empty() &amp;&amp; stk.top() != bottleneck)</div><div class="line">                stk.pop();</div><div class="line">            ret += flow;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ret;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">maxflowDinic</span><span class="params">(<span class="keyword">int</span> s, <span class="keyword">int</span> t)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> flow = <span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span>(buildLevelGraph(s, t))</div><div class="line">        flow += constructBlockingFlow(s, t);</div><div class="line">    <span class="keyword">return</span> flow;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> n, m;</div><div class="line">    <span class="keyword">int</span> testcase, cases = <span class="number">0</span>;</div><div class="line">    <span class="keyword">int</span> i, j, k, x, y;</div><div class="line">    <span class="keyword">char</span> g[<span class="number">128</span>][<span class="number">128</span>];</div><div class="line">    <span class="keyword">int</span> id[<span class="number">128</span>][<span class="number">128</span>];</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;testcase);</div><div class="line">    <span class="keyword">while</span>(testcase--) &#123;</div><div class="line">        e = <span class="number">0</span>;</div><div class="line">        <span class="built_in">memset</span>(head, <span class="number">-1</span>, <span class="keyword">sizeof</span>(head));</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;n, &amp;m);</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%s"</span>, g[i]);</div><div class="line">        <span class="keyword">int</span> ST[<span class="number">2</span>] = &#123;<span class="number">0</span>, <span class="number">0</span>&#125;;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j++) &#123;</div><div class="line">                <span class="keyword">if</span>(g[i][j] == <span class="string">'.'</span>) &#123;</div><div class="line">                    id[i][j] = ST[j&amp;<span class="number">1</span>]++;</div><div class="line">                &#125; <span class="keyword">else</span> &#123;</div><div class="line">                    id[i][j] = <span class="number">-1</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125; </div><div class="line">        <span class="keyword">int</span> source = ST[<span class="number">0</span>] + ST[<span class="number">1</span>];</div><div class="line">        <span class="keyword">int</span> sink = source + <span class="number">1</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; ST[<span class="number">0</span>]; i++)</div><div class="line">            addEdge(source, i, <span class="number">1</span>);</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; ST[<span class="number">1</span>]; i++)</div><div class="line">            addEdge(i + ST[<span class="number">0</span>], sink, <span class="number">1</span>);</div><div class="line">        <span class="keyword">int</span> dx[] = &#123;<span class="number">-1</span>, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>&#125;;</div><div class="line">        <span class="keyword">int</span> dy[] = &#123;<span class="number">-1</span>, <span class="number">1</span>, <span class="number">-1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">-1</span>&#125;;</div><div class="line">        <span class="keyword">int</span> tx, ty, u, v;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j += <span class="number">2</span>) &#123;</div><div class="line">                <span class="keyword">if</span>(id[i][j] == <span class="number">-1</span>)  </div><div class="line">                    <span class="keyword">continue</span>;</div><div class="line">                v = id[i][j];</div><div class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; <span class="number">6</span>; k++) &#123;</div><div class="line">                    tx = i + dx[k];</div><div class="line">                    ty = j + dy[k];</div><div class="line">                    <span class="keyword">if</span>(tx &lt; <span class="number">0</span> || ty &lt; <span class="number">0</span> || tx &gt;= n || ty &gt;= m)</div><div class="line">                        <span class="keyword">continue</span>;</div><div class="line">                    u = id[tx][ty];</div><div class="line">                    <span class="keyword">if</span>(u == <span class="number">-1</span>)</div><div class="line">                        <span class="keyword">continue</span>;</div><div class="line">                    addEdge(v, u + ST[<span class="number">0</span>], <span class="number">1</span>);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> ret = maxflowDinic(source, sink);</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"Case #%d: %d\n"</span>, ++cases, ST[<span class="number">0</span>] + ST[<span class="number">1</span>] - ret);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/zj/a858" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/04/18/oj/zj/a858/" class="article-date">
  <time datetime="2014-04-18T13:20:35.000Z" itemprop="datePublished">2014-04-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-Zerojudge/">解題區 - Zerojudge</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/04/18/oj/zj/a858/">a858. 數三角形</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/04/18/oj/zj/a858/" data-id="clni4s5d303rdewvngp23yvbu" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/04/18/oj/zj/a858/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/排容原理/">排容原理</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/數三角形/">數三角形</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h1 id="題目"><a href="#題目" class="headerlink" title="題目"></a>題目</h1><h2 id="內容："><a href="#內容：" class="headerlink" title="內容："></a>內容：</h2><p>你有一個大小為N的完全圖，這N(N-1)/2條邊可能是紅色或黑色。任三個不同的點都形成一個三角形，請問三邊同色的三角形有幾個？ </p>
<h2 id="輸入說明："><a href="#輸入說明：" class="headerlink" title="輸入說明："></a>輸入說明：</h2><p>第一行輸入一個正整數N，其中N&lt;=1,000。接下來的N行，每行有N個數字，其中第i行的第j個數字代表邊(i,j)的顏色，紅色用1表示，黑色用2表示，i=j時則用0表示。</p>
<h2 id="輸出說明："><a href="#輸出說明：" class="headerlink" title="輸出說明："></a>輸出說明：</h2><p>請輸出同色三角形的數目。</p>
<h2 id="範例輸入："><a href="#範例輸入：" class="headerlink" title="範例輸入："></a>範例輸入：</h2><pre><code>4
0 1 2 1
1 0 1 1
2 1 0 2
1 1 2 0
</code></pre><h2 id="範例輸出："><a href="#範例輸出：" class="headerlink" title="範例輸出："></a>範例輸出：</h2><pre><code>1
</code></pre><hr>
<h1 id="解法"><a href="#解法" class="headerlink" title="解法"></a>解法</h1><ul>
<li>作法：<br>  分治，將輸入 n 個劃分成兩堆，分別窮舉所有可能，採用合併的方式去運算。</li>
</ul>
<figure class="highlight cpp"><figcaption><span>a858.cpp</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**********************************************************************************/</span></div><div class="line"><span class="comment">/*  Problem: a858 "數三角形" from                                             */</span></div><div class="line"><span class="comment">/*  Language: CPP (462 Bytes)                                                     */</span></div><div class="line"><span class="comment">/*  Result: AC(0.1s, 264KB) judge by this@ZeroJudge                               */</span></div><div class="line"><span class="comment">/*  Author: morris1028 at 2014-04-17 11:06:20                                     */</span></div><div class="line"><span class="comment">/**********************************************************************************/</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> n, x;</div><div class="line">    <span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n) == <span class="number">1</span>) &#123;</div><div class="line">        <span class="keyword">int</span> p = (n) * (n<span class="number">-1</span>) * (n<span class="number">-2</span>) / <span class="number">6</span>;</div><div class="line">        <span class="keyword">int</span> s = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</div><div class="line">            <span class="keyword">int</span> b = <span class="number">0</span>, r = <span class="number">0</span>;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</div><div class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;x);</div><div class="line">                r += x == <span class="number">1</span>;</div><div class="line">                b += x == <span class="number">2</span>;</div><div class="line">            &#125;</div><div class="line">            s += r * b;</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, p - s/<span class="number">2</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/zj/a962" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/04/18/oj/zj/a962/" class="article-date">
  <time datetime="2014-04-18T13:20:35.000Z" itemprop="datePublished">2014-04-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-Zerojudge/">解題區 - Zerojudge</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/04/18/oj/zj/a962/">a962. 新專輯</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/04/18/oj/zj/a962/" data-id="clni4s5dc03rkewvna2yzcavm" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/04/18/oj/zj/a962/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/數學/">數學</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/逆元/">逆元</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h1 id="題目"><a href="#題目" class="headerlink" title="題目"></a>題目</h1><h2 id="內容："><a href="#內容：" class="headerlink" title="內容："></a>內容：</h2><p>給定正整數N，請求出(N除以1的餘數)+(N除以2的餘數)+(N除以3的餘數)+…+(N除以N的餘數)。  </p>
<h2 id="輸入說明："><a href="#輸入說明：" class="headerlink" title="輸入說明："></a>輸入說明：</h2><p>輸入只有一個正整數N，其中1&lt;=N&lt;=1014。</p>
<h2 id="輸出說明："><a href="#輸出說明：" class="headerlink" title="輸出說明："></a>輸出說明：</h2><p>為了避免要寫大數，你只要輸出這個奇怪的和除以1000000009的餘數就好了。</p>
<h2 id="範例輸入："><a href="#範例輸入：" class="headerlink" title="範例輸入："></a>範例輸入：</h2><pre><code>10
</code></pre><h2 id="範例輸出："><a href="#範例輸出：" class="headerlink" title="範例輸出："></a>範例輸出：</h2><pre><code>13
</code></pre><hr>
<h1 id="解法"><a href="#解法" class="headerlink" title="解法"></a>解法</h1><ul>
<li>作法：<br>  各種方式要避免 mod 運算。</li>
</ul>
<figure class="highlight cpp"><figcaption><span>a962.cpp</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**********************************************************************************/</span></div><div class="line"><span class="comment">/*  Problem: a962 "新專輯" from TIOJ 1674                                      */</span></div><div class="line"><span class="comment">/*  Language: CPP (1612 Bytes)                                                    */</span></div><div class="line"><span class="comment">/*  Result: AC(0.8s, 272KB) judge by this@ZeroJudge                               */</span></div><div class="line"><span class="comment">/*  Author: morris1028 at 2014-04-18 20:11:19                                     */</span></div><div class="line"><span class="comment">/**********************************************************************************/</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> MOD 1000000009LL</span></div><div class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">inv</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> n, <span class="keyword">long</span> <span class="keyword">long</span> m)</span> </span>&#123; <span class="comment">// get n*? = 1 (mod m)</span></div><div class="line">    <span class="keyword">long</span> <span class="keyword">long</span> la = <span class="number">1</span>, lb = <span class="number">0</span>, ra = <span class="number">0</span>, rb = <span class="number">1</span>;</div><div class="line">    <span class="keyword">long</span> <span class="keyword">long</span> i = <span class="number">0</span>, t, mod = m;</div><div class="line">    <span class="keyword">while</span>(n%m) &#123;</div><div class="line">        <span class="keyword">if</span>(!i) &#123;</div><div class="line">            la -= n/m*ra;</div><div class="line">            lb -= n/m*rb;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            ra -= n/m*la;</div><div class="line">            rb -= n/m*lb;</div><div class="line">        &#125;</div><div class="line">        i = !i;</div><div class="line">        t = n, n = m, m = t%m;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span>(i)</div><div class="line">        <span class="keyword">return</span> (la%mod+mod)%mod;</div><div class="line">    <span class="keyword">return</span> (ra%mod+mod)%mod;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">long</span> <span class="keyword">long</span> inv2 = inv(<span class="number">2</span>, MOD);</div><div class="line">    <span class="keyword">long</span> <span class="keyword">long</span> n;</div><div class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%lld"</span>, &amp;n) == <span class="number">1</span>) &#123;</div><div class="line">        <span class="keyword">long</span> <span class="keyword">long</span> ret = <span class="number">0</span>, hret = <span class="number">0</span>;</div><div class="line">        <span class="keyword">long</span> <span class="keyword">long</span> half = (<span class="keyword">long</span> <span class="keyword">long</span>)<span class="built_in">sqrt</span>(n)/<span class="number">5</span>;</div><div class="line">        <span class="keyword">long</span> <span class="keyword">long</span> u = <span class="number">-1</span>, v = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(half = <span class="number">1</span>; u != v; half++, u = v, v = n/half) &#123;</div><div class="line">            hret += n%half;</div><div class="line">        &#125;</div><div class="line">        hret -= n%(half - <span class="number">1</span>);</div><div class="line">        hret %= MOD;</div><div class="line">        <span class="keyword">long</span> <span class="keyword">long</span> l = half - <span class="number">1</span>, r, div;</div><div class="line">        <span class="keyword">long</span> <span class="keyword">long</span> a0, d, tn, buff;</div><div class="line">        <span class="keyword">while</span>(l &lt;= n) &#123;</div><div class="line">            div = n / l;</div><div class="line">            r = n / div;</div><div class="line">            a0 = n % l, d = -div, tn = r - l + <span class="number">1</span>;</div><div class="line">            <span class="keyword">if</span>(tn &gt;= MOD)   tn %= MOD;</div><div class="line">            <span class="keyword">if</span>(d &gt;= MOD)    d %= MOD;</div><div class="line">            <span class="keyword">if</span>(a0 &gt;= MOD)   a0 %= MOD;</div><div class="line">            buff = (a0 * <span class="number">2</span> + (tn - <span class="number">1</span>)*d);</div><div class="line">            <span class="keyword">if</span>(buff &lt; <span class="number">0</span> || buff &gt;= MOD) buff %= MOD;</div><div class="line">            buff *= tn;</div><div class="line">            <span class="keyword">if</span>(buff &lt; <span class="number">0</span> || buff &gt;= MOD) buff %= MOD;</div><div class="line">            ret += buff;</div><div class="line">            l = r + <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        ret %= MOD;</div><div class="line">        ret = (ret * inv2)%MOD;</div><div class="line">        ret = (ret + hret + MOD)%MOD;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, ret);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">100000000000000</span></div><div class="line"><span class="comment">*/</span></div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/zj/a981" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/04/17/oj/zj/a981/" class="article-date">
  <time datetime="2014-04-17T13:20:35.000Z" itemprop="datePublished">2014-04-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-Zerojudge/">解題區 - Zerojudge</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/04/17/oj/zj/a981/">a981. 求和問題</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/04/17/oj/zj/a981/" data-id="clni4s5d803rgewvnyzjdu5rm" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/04/17/oj/zj/a981/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/分治算法/">分治算法</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h1 id="題目"><a href="#題目" class="headerlink" title="題目"></a>題目</h1><h2 id="內容："><a href="#內容：" class="headerlink" title="內容："></a>內容：</h2><p>給你N個正整數, 試求哪幾個之和剛好為M, 印出所有合條件的解, 如有多組解, 請按由小到大的順序印出(格式可參考樣例輸出)</p>
<h2 id="輸入說明："><a href="#輸入說明：" class="headerlink" title="輸入說明："></a>輸入說明：</h2><p>n  m  (1&lt;=n&lt;=30, 1&lt;=m&lt;=100000000) n個正整數, 全部以空格分開 </p>
<h2 id="輸出說明："><a href="#輸出說明：" class="headerlink" title="輸出說明："></a>輸出說明：</h2><ul>
<li>其和剛好等於m的數, 如果有多組解則按由小到大全部印出, 如果無解則印出 <code>-1</code></li>
</ul>
<h2 id="範例輸入："><a href="#範例輸入：" class="headerlink" title="範例輸入："></a>範例輸入：</h2><pre><code>10 100
10 20 40 30 50 80 60 70 5 15
</code></pre><h2 id="範例輸出："><a href="#範例輸出：" class="headerlink" title="範例輸出："></a>範例輸出：</h2><pre><code>5 10 15 20 50
5 10 15 30 40
5 10 15 70
5 15 20 60
5 15 30 50
5 15 80
10 20 30 40
10 20 70
10 30 60
10 40 50
20 30 50
20 80
30 70
40 60
</code></pre><hr>
<h1 id="解法"><a href="#解法" class="headerlink" title="解法"></a>解法</h1><ul>
<li>作法：<br>  分治，將輸入 n 個劃分成兩堆，分別窮舉所有可能，採用合併的方式去運算。</li>
</ul>
<figure class="highlight cpp"><figcaption><span>a981.cpp</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> n, m;</div><div class="line">    <span class="keyword">int</span> A[<span class="number">35</span>];</div><div class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;n, &amp;m) == <span class="number">2</span>) &#123;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;A[i]);</div><div class="line">        sort(A, A + n, greater&lt;<span class="keyword">int</span>&gt;());</div><div class="line">        <span class="keyword">int</span> h1Cnt = n / <span class="number">2</span>, h2Cnt = n - h1Cnt;</div><div class="line">        <span class="built_in">map</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; h1, h2;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = (<span class="number">1</span>&lt;&lt;h1Cnt)<span class="number">-1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</div><div class="line">            <span class="keyword">long</span> <span class="keyword">long</span> sum = <span class="number">0</span>;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; h1Cnt; j++) &#123;</div><div class="line">                <span class="keyword">if</span>((i&gt;&gt;j)&amp;<span class="number">1</span>)	sum += A[j];</div><div class="line">            &#125;</div><div class="line">            h1[sum].push_back(i);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = (<span class="number">1</span>&lt;&lt;h2Cnt)<span class="number">-1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</div><div class="line">            <span class="keyword">long</span> <span class="keyword">long</span> sum = <span class="number">0</span>;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; h2Cnt; j++) &#123;</div><div class="line">                <span class="keyword">if</span>((i&gt;&gt;j)&amp;<span class="number">1</span>)	sum += A[j + h1Cnt];</div><div class="line">            &#125;</div><div class="line">            h2[sum].push_back(i&lt;&lt;h1Cnt);</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt; ret;</div><div class="line">        <span class="keyword">for</span>(<span class="built_in">map</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt;::iterator it = h1.begin();</div><div class="line">            it != h1.end(); it++) &#123;</div><div class="line">            <span class="keyword">long</span> <span class="keyword">long</span> f = (<span class="keyword">long</span> <span class="keyword">long</span>)m - it-&gt;first;</div><div class="line">            <span class="built_in">map</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt;::iterator jt = h2.find(f);</div><div class="line">            <span class="keyword">if</span>(jt != h2.end()) &#123;</div><div class="line">                <span class="keyword">for</span>(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator iv = it-&gt;second.begin();</div><div class="line">                    iv != it-&gt;second.end(); iv++) &#123;</div><div class="line">                    <span class="keyword">for</span>(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator jv = jt-&gt;second.begin();</div><div class="line">                        jv != jt-&gt;second.end(); jv++) &#123;</div><div class="line">                        ret.insert(*iv| *jv);</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(ret.size() == <span class="number">0</span>)</div><div class="line">            <span class="built_in">puts</span>(<span class="string">"-1"</span>);</div><div class="line">        <span class="keyword">for</span>(<span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt;::reverse_iterator it = ret.rbegin();</div><div class="line">            it != ret.rend(); it++) &#123;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = n<span class="number">-1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</div><div class="line">                <span class="keyword">if</span>(((*it)&gt;&gt;i)&amp;<span class="number">1</span>) &#123;</div><div class="line">                    <span class="built_in">printf</span>(<span class="string">"%d "</span>, A[i]);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            <span class="built_in">puts</span>(<span class="string">""</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/84/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/83/">83</a><a class="page-number" href="/page/84/">84</a><span class="page-number current">85</span><a class="page-number" href="/page/86/">86</a><a class="page-number" href="/page/87/">87</a><a class="extend next" rel="next" href="/page/86/">Next &raquo;</a>
    </nav>
  
</section>
          
          
            <aside id="sidebar">
  <!-- <div id="ukagaka_panel"></div> -->
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/">學校課程</a><span class="category-list-count">115</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/介面設計/">介面設計</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/作業系統/">作業系統</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/即時系統/">即時系統</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/大學專題/">大學專題</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/巨量資料/">巨量資料</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/平行程式/">平行程式</a><span class="category-list-count">43</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/敏捷方法/">敏捷方法</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/數位影像生成/">數位影像生成</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/編譯器/">編譯器</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/自然語言/">自然語言</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/虛擬實境/">虛擬實境</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/計算型智慧/">計算型智慧</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/計算幾何/">計算幾何</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/計算機圖學/">計算機圖學</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/資料庫系統/">資料庫系統</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/資訊安全/">資訊安全</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/通識課程/">通識課程</a><span class="category-list-count">14</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/">工作應用</a><span class="category-list-count">40</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/Java/">Java</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/Meme/">Meme</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/其他/">其他</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/可持久化/">可持久化</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/鬼故事/">鬼故事</a><span class="category-list-count">16</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/手札日記/">手札日記</a><span class="category-list-count">62</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/">網頁設計</a><span class="category-list-count">15</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/About-This-Blog/">About This Blog</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/HTML5/">HTML5</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/JQuery/">JQuery</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/Markdown/">Markdown</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/NodeJs/">NodeJs</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/">解題區</a><span class="category-list-count">633</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/Latex/">Latex</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/出題解題/">出題解題</a><span class="category-list-count">23</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-POJ/">解題區 - POJ</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a><span class="category-list-count">483</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-Zerojudge/">解題區 - Zerojudge</a><span class="category-list-count">77</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-其他題目/">解題區 - 其他題目</a><span class="category-list-count">45</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-未解題目/">解題區 - 未解題目</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/雜言筆記/">雜言筆記</a><span class="category-list-count">4</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a class="text" href="/2023/10/09/work/company-ghost-story-16/">
              
                <i class="icon-file-o"></i> 
              
            Company Ghost Story 公司鬼故事 16</a>
          </li>
        
          <li>
            <a class="text" href="/2023/04/02/note/diary-20230402/">
              
                <i class="icon-file-o"></i> 
              
            同舟共濟</a>
          </li>
        
          <li>
            <a class="text" href="/2022/06/20/note/diary-20220620/">
              
                <i class="icon-file-o"></i> 
              
            維護作業</a>
          </li>
        
          <li>
            <a class="text" href="/2022/06/19/work/company-ghost-story-15/">
              
                <i class="icon-file-o"></i> 
              
            Company Ghost Story 公司鬼故事 15</a>
          </li>
        
          <li>
            <a class="text" href="/2022/03/27/note/diary-20220327/">
              
                <i class="icon-file-o"></i> 
              
            規劃 ‧ 生活</a>
          </li>
        
          <li>
            <a class="text" href="/2022/01/03/note/diary-20220103-encrypt/">
              
                <i class="icon-file-o"></i> 
              
            《批改娘串起得那段經歷·玖 冬暄》</a>
          </li>
        
          <li>
            <a class="text" href="/2022/01/02/note/diary-20220102-encrypt/">
              
                <i class="icon-file-o"></i> 
              
            《批改娘串起得那段經歷·捌 風暴》</a>
          </li>
        
          <li>
            <a class="text" href="/2022/01/01/note/diary-20220101-encrypt/">
              
                <i class="icon-file-o"></i> 
              
            《批改娘串起得那段經歷·柒 暗潮》</a>
          </li>
        
          <li>
            <a class="text" href="/2022/01/01/note/diary-20220101/">
              
                <i class="icon-file-o"></i> 
              
            二八 ‧ 年尾</a>
          </li>
        
          <li>
            <a class="text" href="/2022/01/01/note/clove-letter/">
              
                <i class="icon-file-o"></i> 
              
            《獻給某工程師的情書》</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    <div class="widget-wrap">
    <h3 class="widget-title">Links</h3>
    <div class="widget">   
        <ul>
          <li><a href="http://mypaper.pchome.com.tw/zerojudge" target="_blank" title="Old Blog"><i class="icon-star"></i> Morris' Blog (pchome)</a></li>
        </ul>
    </div>
</div>

  
    
<script src="/js/jquery-ui.js"></script>
<script src="/js/ukagaka/jquery.morris.ukagaka.resource.js"></script>
<script src="/js/ukagaka/typed.js"></script>
  
  
</aside>
          
        
      </div>
      <footer id="footer">
  
  <div class="outer">    
    <div class="social-group">
      
      <a href="https://github.com/morris821028" target="_blank" title="github"><i class="icon-github"></i></a>
      
      
      <a href="https://www.facebook.com/Morris1028" target="_blank" title="facebook"><i class="icon-facebook-sign"></i></a>
      
      
      <a href="http://uhunt.felix-halim.net/id/46705" target="_blank" title="uhunt" ><span class="icon-uhunt">UVa<span></a>
      
    </div>
    <div id="footer-info" class="inner">
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and Theme by <a href="https://github.com/morris821028/hexo-theme-landscape" target="_blank" title="landscape">landscape</a> &copy; 2023 Shiang-Yun Yang 
    </div>
  </div>
</footer>


    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link"><i class=icon-home ></i>&nbsp&nbspHome</a>
  
    <a href="/about" class="mobile-nav-link"><i class=icon-user ></i>&nbsp&nbspAbout</a>
  
    <a href="/archives" class="mobile-nav-link"><i class=icon-archive ></i>&nbsp&nbspArchives</a>
  
    <a href="/tags" class="mobile-nav-link"><i class=icon-tags ></i>&nbsp&nbspTags</a>
  
    <a href="/picture" class="mobile-nav-link"><i class=icon-camera ></i>&nbsp&nbspPictures</a>
  
    <a href="/works" class="mobile-nav-link"><i class=icon-trophy ></i>&nbsp&nbspWorks</a>
  
</nav>
    
<script>
  var disqus_shortname = 'morris1028';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//go.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/jquery.lazyload.js"></script>
<script src="/js/jquery.als-1.6.js"></script>

<script src="/js/script.js"></script>

  </div><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
</body>
</html>