<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <title>Category: 學校課程 | Morris&#39; Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Morris&#39; Blog">
<meta property="og:url" content="http://morris821028.github.io/categories/學校課程/page/8/index.html">
<meta property="og:site_name" content="Morris&#39; Blog">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Morris&#39; Blog">
<link rel="publisher" href="108158678174364350000">
  
    <link rel="alternative" href="/atom.xml" title="Morris&#39; Blog" type="application/atom+xml">
  
  
    <meta name="google-site-verification" content="5mRgj8NanEMpGZuNfHNJNmH90RgNlrnJXsFlTaKD6Gs" />
  
  
    <link rel="shortcut icon" href="/img/f.ico">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <script src="/js/jquery-2.1.0.min.js"></script>
  <link rel="stylesheet" href="/css/style.css">
  
  <link rel="stylesheet" href="http://cdn.oesmith.co.uk/morris-0.5.1.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
<script src="http://cdn.oesmith.co.uk/morris-0.5.1.min.js"></script>
  <link rel="import" href="/bower_components/app-layout/app-layout.html"><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>
<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"><div id="banner-right"></div></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Morris&#39; Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          
            <a class="main-nav-link" href="/"><i class=icon-home title='Home'></i></a>
          
        
          
            <a class="main-nav-link" href="/about"><i class=icon-user title='About'></i></a>
          
        
          
            <a class="main-nav-link" href="/archives"><i class=icon-archive title='Archives'></i></a>
          
        
          
            <a class="main-nav-link" href="/tags"><i class=icon-tags title='Tags'></i></a>
          
        
          
            <a class="main-nav-link" href="/picture"><i class=icon-camera title='Pictures'></i></a>
          
        
          
            <a class="main-nav-link" href="/works"><i class=icon-trophy title='Works'></i></a>
          
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://morris821028.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        
          
          <section id="main">
  
    <article id="post-bigdata-page-rank" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/03/09/bigdata-page-rank/" class="article-date">
  <time datetime="2015-03-09T00:00:15.000Z" itemprop="datePublished">2015-03-09</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/學校課程/">學校課程</a>/<a class="article-category-link" href="/categories/學校課程/巨量資料/">巨量資料</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/03/09/bigdata-page-rank/">Page Rank 迭代計算 C++</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2015/03/09/bigdata-page-rank/" data-id="ckgyo559900133cvr2wscpd3l" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2015/03/09/bigdata-page-rank/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/馬可夫過程/">馬可夫過程</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>每一個網站都有超連結 (hyperlink) 到另一個網頁，因此會貢獻一部分的 page rank 給另一個網站，假想移動是隨機的，那麼轉移機會是 <code>1 / 出度</code>。</p>
<p>把網站之間的關係轉為 Graph，問題可以轉換成馬可夫過程。光是馬可夫過程，很容易造成 page rank 失算，因為有些點並沒有出度 (連接到別的網站)，數值就會隨著迭代集中到這個孤島上 (或者說蜘蛛網)，造成其他點的 page rank 皆為 0。為了防止這一點，給予 page rank 的總和<span>$S$</span><!-- Has MathJax -->，並且要求馬可夫過程，轉移只有<span>$\beta$</span><!-- Has MathJax --> 的信任度，剩餘的<span>$1 - \beta$</span><!-- Has MathJax --> 將隨機選擇全局的網站進行轉移。</p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>每組第一行輸入兩個實數<span>$\beta$</span><!-- Has MathJax -->,<span>$S$</span><!-- Has MathJax -->。</p>
<p>第二行輸入一個整數 N，表示有多少個點。接下來會有 N 行，每一行的第一個數字，表示 i-th 點會連到其他網站的個數<span>$m_{i}$</span><!-- Has MathJax -->，接著同一行會有<span>$m_{i}$</span><!-- Has MathJax --> 個數字，表示連入的網站編號。</p>
<p>所有網站編號應為 0 … N-1。</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">0.7 3</div><div class="line">3</div><div class="line">2 1 2</div><div class="line">1 2</div><div class="line">1 2</div><div class="line">   </div><div class="line">0.85 3</div><div class="line">3</div><div class="line">2 1 2</div><div class="line">1 2</div><div class="line">1 0</div></pre></td></tr></table></figure>
<h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">A 0.300</div><div class="line">B 0.405</div><div class="line">C 2.295</div><div class="line">   </div><div class="line">A 1.163</div><div class="line">B 0.644</div><div class="line">C 1.192</div></pre></td></tr></table></figure>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>以下是簡單實作的結果。迭代 100 次，就能收斂程度就相當足夠。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt; </span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="comment">// Markov process, math</span></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">64</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXIT = <span class="number">100</span>;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Matrix</span> &#123;</span></div><div class="line">    <span class="keyword">double</span> v[MAXN][MAXN];</div><div class="line">    <span class="keyword">int</span> row, col; <span class="comment">// row x col</span></div><div class="line">    Matrix(<span class="keyword">int</span> n, <span class="keyword">int</span> m, <span class="keyword">int</span> a = <span class="number">0</span>) &#123;</div><div class="line">        <span class="built_in">memset</span>(v, <span class="number">0</span>, <span class="keyword">sizeof</span>(v));</div><div class="line">        row = n, col = m;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; row &amp;&amp; i &lt; col; i++)</div><div class="line">            v[i][i] = a;</div><div class="line">    &#125;</div><div class="line">    Matrix <span class="keyword">operator</span>*(<span class="keyword">const</span> Matrix&amp; x) <span class="keyword">const</span> &#123;</div><div class="line">        <span class="function">Matrix <span class="title">ret</span><span class="params">(row, x.col)</span></span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; row; i++) &#123;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; col; k++) &#123;</div><div class="line">                <span class="keyword">if</span> (v[i][k])</div><div class="line">                    <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; x.col; j++) &#123;</div><div class="line">                        ret.v[i][j] += v[i][k] * x.v[k][j];</div><div class="line">                    &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> ret;</div><div class="line">    &#125;</div><div class="line">    Matrix <span class="keyword">operator</span>+(<span class="keyword">const</span> Matrix&amp; x) <span class="keyword">const</span> &#123;</div><div class="line">        <span class="function">Matrix <span class="title">ret</span><span class="params">(row, col)</span></span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; row; i++) &#123;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; col; j++) &#123;</div><div class="line">                ret.v[i][j] = v[i][j] + x.v[i][j];</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> ret;</div><div class="line">    &#125;</div><div class="line">    Matrix <span class="keyword">operator</span>^(<span class="keyword">const</span> <span class="keyword">int</span>&amp; n) <span class="keyword">const</span> &#123;</div><div class="line">        Matrix ret(row, col, 1), x = *this;</div><div class="line">        <span class="keyword">int</span> y = n;</div><div class="line">        <span class="keyword">while</span>(y) &#123;</div><div class="line">            <span class="keyword">if</span>(y&amp;<span class="number">1</span>)	ret = ret * x;</div><div class="line">            y = y&gt;&gt;<span class="number">1</span>, x = x * x;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> ret;</div><div class="line">    &#125;</div><div class="line">    <span class="function">Matrix <span class="title">powsum</span><span class="params">(<span class="keyword">int</span> k)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (k == <span class="number">0</span>) <span class="keyword">return</span> Matrix(row, col, <span class="number">0</span>);</div><div class="line">        Matrix vv = powsum(k/<span class="number">2</span>);</div><div class="line">        <span class="keyword">if</span> (k&amp;<span class="number">1</span>) &#123;</div><div class="line">            <span class="keyword">return</span> vv * (Matrix(row, col, <span class="number">1</span>) + vv) + vv;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">return</span> vv * (Matrix(row, col, <span class="number">1</span>) + vv);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> eps 1e-6</span></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">cmpZero</span><span class="params">(<span class="keyword">double</span> x)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (<span class="built_in">fabs</span>(x) &lt; eps)</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    <span class="keyword">return</span> x &lt; <span class="number">0</span> ? <span class="number">-1</span> : <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> N;</div><div class="line">    <span class="keyword">double</span> beta, S;</div><div class="line">    <span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%lf %lf"</span>, &amp;beta, &amp;S) == <span class="number">2</span>) &#123;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; g[MAXN], invg[MAXN];</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;N);</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++) &#123;</div><div class="line">            <span class="keyword">int</span> M, x;</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;M);</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; M; j++) &#123;</div><div class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;x);</div><div class="line">                g[i].push_back(x);</div><div class="line">                invg[x].push_back(i);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="function">Matrix <span class="title">r</span><span class="params">(N, <span class="number">1</span>)</span></span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</div><div class="line">            r.v[i][<span class="number">0</span>] = <span class="number">1.0</span> / N;</div><div class="line">        </div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> it = <span class="number">0</span>; it &lt; MAXIT; it++) &#123;</div><div class="line">            <span class="function">Matrix <span class="title">next_r</span><span class="params">(N, <span class="number">1</span>)</span></span>;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++) &#123;</div><div class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; invg[i].size(); j++) &#123;</div><div class="line">                    <span class="keyword">int</span> x = invg[i][j];</div><div class="line">                    next_r.v[i][<span class="number">0</span>] += beta * r.v[x][<span class="number">0</span>] / g[x].size();</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            </div><div class="line">            <span class="keyword">double</span> sum = <span class="number">0</span>;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</div><div class="line">                sum += next_r.v[i][<span class="number">0</span>];</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</div><div class="line">                next_r.v[i][<span class="number">0</span>] += (S - sum) / N;</div><div class="line">            r = next_r;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</div><div class="line">            <span class="built_in">printf</span>(<span class="string">"%c %.3lf\n"</span>, i + <span class="string">'A'</span>, r.v[i][<span class="number">0</span>]);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">0.7 3</span></div><div class="line"><span class="comment">3</span></div><div class="line"><span class="comment">2 1 2</span></div><div class="line"><span class="comment">1 2</span></div><div class="line"><span class="comment">1 2</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">0.85 3</span></div><div class="line"><span class="comment">3</span></div><div class="line"><span class="comment">2 1 2</span></div><div class="line"><span class="comment">1 2</span></div><div class="line"><span class="comment">1 0</span></div><div class="line"><span class="comment">*/</span></div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-lesson/NLP-project" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/01/16/lesson/NLP-project/" class="article-date">
  <time datetime="2015-01-16T00:15:31.000Z" itemprop="datePublished">2015-01-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/學校課程/">學校課程</a>/<a class="article-category-link" href="/categories/學校課程/自然語言/">自然語言</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/01/16/lesson/NLP-project/">自然語言處理 Project</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2015/01/16/lesson/NLP-project/" data-id="ckgyo56kp02953cvrvysf0013" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2015/01/16/lesson/NLP-project/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/自然語言/">自然語言</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h1 id="Polarity-Analysis-for-Sentiment-Classification"><a href="#Polarity-Analysis-for-Sentiment-Classification" class="headerlink" title="Polarity Analysis for Sentiment Classification"></a>Polarity Analysis for Sentiment Classification</h1><h2 id="Stop-Word-List"><a href="#Stop-Word-List" class="headerlink" title="Stop Word List"></a>Stop Word List</h2><p>This stopword list is probably the most widely used stopword list. It covers a wide number of stopwords without getting too aggressive and including too many words which a user might search upon. This wordlist contains only 11 words.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">the</div><div class="line">i</div><div class="line">it</div><div class="line">he</div><div class="line">she</div><div class="line">they</div><div class="line">we</div><div class="line">you</div><div class="line">-</div><div class="line">a</div><div class="line">an</div></pre></td></tr></table></figure>
<p>比起其他網路上的 stop word list 少了很多介系詞，原因是這樣的，例如 <code>who, whom, where, ...</code> 這些詞作為描述對象的主體，這些主體通常不可省略。例如在描述『演員很不錯，但是電影劇本很糟糕。』這段話時，根據實驗的幾種模型，如果忽略主體的存在，很容易造成描述的需求面向錯誤。必然地，無法將 <code>movie, film</code> 過濾掉，主體是相當重要的，即使他在單一詞的極性上不夠明確。</p>
<h2 id="Parsing-Sentence"><a href="#Parsing-Sentence" class="headerlink" title="Parsing Sentence"></a>Parsing Sentence</h2><p>首先，必須把所有縮寫單位展開，當然有可能把錯誤的 <code>Bob&#39;s</code> 展開成錯誤的意思，實驗上不構成多大的影響，但以下的操作會更明確地把潛在的 feature 更清楚地劃分，而不會挑到已經重複的。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">`can&apos;t` = `can not`</div><div class="line">`n&apos;t` = ` not`</div><div class="line">`&apos;re` = ` are`</div><div class="line">`&apos;m` = ` am`</div><div class="line">`&apos;s` = ` is`</div><div class="line">`&apos;ve` = ` have`</div><div class="line">`&apos;ll` = ` will`</div><div class="line">... maybe more</div></pre></td></tr></table></figure>
<p>再來，必須針對符號轉英詞，有可能是在描述電影名稱會用到 <code>&amp;</code>，一律將其轉換成 <code>and</code> 會更有效。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">`&amp;` = ` and`</div></pre></td></tr></table></figure>
<p>最後，語法上的變換統一。這可能會遭遇到描述『過去的版本很好，現在這個版本很糟。』也許規則應該對時間做點細部劃分。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">`am, are, is, was, were` = `be`</div><div class="line">`no` = `not`</div><div class="line">`film` = `movie`</div></pre></td></tr></table></figure>
<p>更多的口語描述，例如 <code>uuuuuuuugggggggggglllllllllllyyyyyyy = ugly</code> 的可能，特別針對 long duplicate word 特別處理，查看濃縮之後，是否會在字典中。狀聲詞 <code>oh, wow, ah, ...</code> 可能是一個極性指標，在此就不濾掉這幾個單詞。</p>
<p>當使用 stop word 過濾某一個句子時，剩餘的詞應該串在一起成為新的句子，而不以 stop word 分開成新的句子。</p>
<h2 id="Filter-N-grams-Feature"><a href="#Filter-N-grams-Feature" class="headerlink" title="Filter N-grams Feature"></a>Filter N-grams Feature</h2><p>在挑選 n-grams 時，根據給定的公式，從 800 正向評論、800 反向評論中，大約會得到 50M ~ 100M 不同的 n-grams。當我們篩選 n = 3 時，<code>bad</code> 將可能被儲存為 <code>(bad, null, null)</code>。挑選時，必須保障 high order n-grams 佔有一定的數量，大約落在 <code>n-grams : (n+1)-grams = 7 : 3</code>。</p>
<p>評分時，額外增加 high order 的評分權重，以下是程式中使用的分配。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">N-grams Bonus = &#123;1, 1.02, 1.03, 1.04, 1.05, 1.06, 1.07&#125;;</div></pre></td></tr></table></figure>
<p>這麼做確保實驗上有保留之前的優良，同時也增加新的元素進去。</p>
<p>當挑選 K-top feature 時，必須將正反兩方的 feature N-grams 分別佔有約 50%，並且去掉同時挑到的情況。</p>
<p>更多的策略，例如 <code>(bad, too, null)</code> 可以視為 <code>(too, bad, null)</code>，使用 dag 的方式紀錄 N-grams。</p>
<h2 id="How-To-Decide-K-top"><a href="#How-To-Decide-K-top" class="headerlink" title="How To Decide K-top"></a>How To Decide K-top</h2><p>明顯地觀察到，K 越大時，Language Model 越穩定，平均效能穩定，但最好效能可能會下降，對於 Winnow algorithm 或者是 Passive-Aggressive algorithm 來說，feature vector 會非常大，造成在找到合適的參數會消耗更多的時間，並且難在有限的迭代次數中找到好的切平面。</p>
<p>當 K 很大時，部分的 n-grams 甚至只出現在某些的 training set 中，這造成訓練 Winnow, Passive-Aggressive 的結果並不好，過於分配無用的權重給只出現在 training set 的 feature。在實驗中，挑選 K = 30000 與 K = 50000 的差異並不大，挑選的比例約為 5% 以內。</p>
<h3 id="Improve"><a href="#Improve" class="headerlink" title="Improve"></a>Improve</h3><h4 id="LM-Classifier"><a href="#LM-Classifier" class="headerlink" title="LM Classifier"></a>LM Classifier</h4><p>關於論文中提到的 LM filter，試圖去替除掉一些主觀句子，根據每一個句子進行閥值的評測，實驗中測試到非常低的值作為閥值才具有較好的可能性，由於太高、太低都會使得準確度下降，估計這個閥值的調整不具有普遍性。</p>
<p>而其他的 Classifier 並沒有做這類的主客觀篩選，也許可以藉由主客觀句子的判斷做一套分類器，說不定可以改善另外兩個分類器的語意判斷能力。</p>
<h4 id="Combine-Classifier"><a href="#Combine-Classifier" class="headerlink" title="Combine Classifier"></a>Combine Classifier</h4><p>發現到 Winnow, Passive-Aggressive (PA) 都是以閥值作為判斷標準，因此當得到靠近閥值的數據下，判斷能力是相當脆弱。雖然 PA 在平均表現最好，大約落在 85% 附近，遠比 LM 和 Winnow 多了 5% ~ 10% 的準確度，如何加強？ </p>
<p>將四個 Classifier 串在一起，並且用八個 attribute 作為一個 feature vector，接著訓練這一個感知機。這八個 attribute 分別是每一個 Classifier 的判斷強度。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(LM_POS, LM_NEG, WINNOW_POS, WINNOW_NEG, PA_POS, PA_NEG, SIMPLE_POS, SIMPLE_NEG)</div></pre></td></tr></table></figure>
<p>其中由於 Language Model (LM) 的機率不好量化，因此單純採用 0/1 的方式表示。嘗試過取 log 發現仍然並不好。</p>
<ul>
<li>LM_POS : if LM.classify(x) = POS, then LM_POS = 1. Otherwise LM_POS = 0</li>
<li>LM_NEG : if LM.classify(x) = NEG, then LM_NEG = 1. Otherwise LM_POS = 0</li>
<li>WINNOW_POS : if Winnow.classify(x) = POS, the WINNOW_POS = Winnow.strongClassify(x).</li>
<li>WINNOW_NEG : if Winnow.classify(x) = NEG, the WINNOW_NEG = Winnow.strongClassify(x).</li>
</ul>
<p>strongClassify(x) 從 training data 中得到 h(x) 的出現的最大值，然後根據將判斷的函數大小得到，<code>strongClassify(x) = h(x) / TRAINING_MAX_H_VALUE</code>，之所以不直接使用 <code>strongClassify(x) = h(x)</code> 是因為很容易造成 overflow 或者是過度的調整判斷。在實驗結果後，將後者公式調整為前者所使用的。</p>
<p>當然可以訓練多台，並且串在一起，但是這種串法必須盡可能有所歧異性，並不是串越多越好，可以藉較少次的迭代次數、洗牌後的訓練序列來達到歧異性。PA 具有良好的適應性，在訓練集與測資集大小、差異不大時，效能仍然可以保持著線性關係，相當具有魯棒性。 </p>
<p>在實驗觀察中可以明白感知器在越少 feature 下，可以在越少迭代次數中訓練完成，相對地適應能力就會隨差異嚴重波動，實驗中使用的幾個感知機模型，都能在 vector 得到後的幾秒內完成訓練，不用勞費 SVM 的數個小時。Language Model 則會因為 feature 越多，展現更加穩定的效能，即便如此，LM 在負面評論的辨識率仍然不高，這一點從論文中也可以看得出具有相同的現象。</p>
<p>藉此把 LM 對於負面評論辨識率很差的特性，才將其判斷與其他的感知機串在一起使用。這一類的串許多的分類器的算法，可以參照 Adaboost (Adaptive Boosting) 的想法。</p>
<h4 id="N-grams-Score"><a href="#N-grams-Score" class="headerlink" title="N-grams Score"></a>N-grams Score</h4><p>特別小心公式的計算，雖然有很多乘除法，可以使用 <code>Math.log</code> 降下來，防止 overflow 的可能，但同時也會造成嚴重的浮點數誤差。所以使用恰當的 <code>double</code> 運算即可，即使遇到 <code>NaN</code> 也沒有關係。</p>
<p>論文中提及的公式，額外增加變成</p>
<span>$\chi^{2}(t, c) = \frac{N \times (AD - CB)^{2} }{(A+C)\times (B + D) \times (A + B) \times (C + D)} \times Weight[t.getSize()] \times Score(t)$</span><!-- Has MathJax -->
<p>其中，<code>Weight[t.getSize()]</code> 正如上述的 <code>N-grams Bonus</code>，當最大上為 <code>n = 5</code> 時，部分 unigram、bigram 仍然有用。而 <code>Score(t)</code> 則是取額外資料中的 <code>AFINN-111.txt</code> 單詞正反面的絕對值權重和，有可能正負兩個詞合併成 bigram 來描述更強烈的負面，因此必須取絕對值。</p>
<h4 id="Vector"><a href="#Vector" class="headerlink" title="Vector"></a>Vector</h4><p>選擇 K-top feature n-grams 後，感知機的 Vector 如何放置權重仍然是個困難，從實驗中，單純拿 <code>n-grams appear times</code> 作為一個 attribute weight 效果並不好，於是嘗試拿 <code>Math.log(n-grams appear times)</code>，但是效果並不好，有可能是浮點數誤差造成的差異並不大，而 <code>Math.log</code> 本身就很小，尤其是 <code>n-grams appear times = 1</code> 的時候會變成 0，額外加上一個基底 base 來補足也拿以取捨。</p>
<p>最後取用</p>
<span>$vector[i] = Score(ngrams(i)) + \sqrt{n-grams(i) \text{ appear times}}$</span><!-- Has MathJax -->
<p>這部分仍然要做實驗，<code>Score(ngrams(i))</code> 大約落在 <code>1 ~ 10</code> 之間。</p>
<h4 id="Process"><a href="#Process" class="headerlink" title="Process"></a>Process</h4><p>經過幾次的 cross validation 後，每一次會挑到不同的 feature n-grams，藉由交叉驗證得到不同的精準度 P，同時也將挑選的 n-grams 增加 P 的權重，在實驗中總共做了 5 次 cross validation，針對同一組 800 資料，進行 <code>1 : 1</code> 的劃分。原本預期挑選 40K 個不同的 n-grams 作為 feature，但是經過 5 次實驗，總共得到 50K 個不同的 n-grams，根據累加的 P 值進行由大排到小，挑選 1/5 的 n-grams 出來，最後挑了少於 10K 個做為 feature。</p>
<p>針對已知的 1600 筆資料進行 <code>3 : 1</code> 的劃分，先對數量較多的資料重訓練，隨後才將數量較少放在一起做第二次訓練。防止過度的訓練，導致感知器針對訓練集的已知資訊分配過多的權重，反而針對未知的元素不足以判斷。</p>
<h2 id="extra-data-support"><a href="#extra-data-support" class="headerlink" title="extra data support"></a>extra data support</h2><ul>
<li>AFINN-111.txt</li>
<li>positive word list (ignore) 毫無幫助</li>
<li>negative word list (ignore) 毫無幫助</li>
<li>negation not (ignore) 目前發現只會更糟糕</li>
</ul>
<h1 id="程式撰寫"><a href="#程式撰寫" class="headerlink" title="程式撰寫"></a>程式撰寫</h1><h2 id="N-grams-Storing"><a href="#N-grams-Storing" class="headerlink" title="N-grams Storing"></a>N-grams Storing</h2><p><code>string</code> 轉 <code>integer</code> 標記。</p>
<h2 id="How-to-improve-experiment"><a href="#How-to-improve-experiment" class="headerlink" title="How to improve experiment"></a>How to improve experiment</h2><p>先用同一份資料訓練、測試，查看是否接近 <code>P = R = 100%</code>，接著放入未知的資料，找到挑選 feature n-grams 之間的差異。</p>
<p>列出幾個可能的差異後，從訓練的感知機中得到每一項的權重，由於是線性分類器，權重的大小即可作為是否具有特色，通常差距會達到 10 ~ 100 倍之間。即使從 N-grams score 得到較高的分數，從感知機中會發現到未必是較大的權重，有可能是某幾篇相關的電影所造成的一面倒。</p>
<h2 id="Pseudocode"><a href="#Pseudocode" class="headerlink" title="Pseudocode"></a>Pseudocode</h2><h3 id="preprocess"><a href="#preprocess" class="headerlink" title="preprocess"></a>preprocess</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">gobal_record(n-grams, score)</div><div class="line">for i  = 0 to CROSS_VALIDATION_MAX</div><div class="line">    shuffle_order(training_data)</div><div class="line">    (ttraining, ttest) = split(training_data, 1 : 1)</div><div class="line">    Vectraining = n-grams_sieve(ttraining)</div><div class="line">    (LM, Winnow, PA) = training(Vectraining)</div><div class="line">    P = test(LM, Winnow, PA, Vectraining)</div><div class="line">    gobal_record.add(P, Vectraining)</div><div class="line"> </div><div class="line">sort gobal_record(n-grams, score) by descending order.</div><div class="line">shuffle_order(training_data)</div><div class="line"></div><div class="line">(ttraining, tretain) = split(training_data, 4 : 1)</div><div class="line">N-gramsTable = gobel_record.sublist(K)</div><div class="line">Vectraining = parsingInput(ttraining,, N-gramsTable)</div><div class="line">Vecretain= parsingInput(tretain,, N-gramsTable)</div><div class="line"></div><div class="line">(LM, Winnow, PA) = training(Vectraining)</div><div class="line">(LM, Winnow, PA) = retraining(Vecretain)</div><div class="line"></div><div class="line">simpleTest(testdata, LM, Winnow, PA)</div><div class="line">onlineTest(testdata, LM, Winnow, PA)</div></pre></td></tr></table></figure>
<h3 id="online-test"><a href="#online-test" class="headerlink" title="online test"></a>online test</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">GROUP_SIZE = 50</div><div class="line">groups = splitEach(testdata, GROUP_SIZE)</div><div class="line">foreach(group : groups)</div><div class="line">    appear set = find(group, N-gramsTable)</div><div class="line">    (LM, Winnow, PA) = retrainingLimited(Vectraining, appear set)</div><div class="line">    foreach(data : group)</div><div class="line">        classify(LM, Winnow, PA, data)</div></pre></td></tr></table></figure>
<h3 id="fail-online-test-idea"><a href="#fail-online-test-idea" class="headerlink" title="fail online test idea"></a>fail online test idea</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">GROUP_SIZE = 10</div><div class="line">groups = splitEach(testdata, GROUP_SIZE)</div><div class="line">foreach(group : groups)</div><div class="line">    backtracking 210 possible solution</div><div class="line">        training &amp; test</div><div class="line">        if (better performance)</div><div class="line">            record solution.</div><div class="line">Work, but not helpful.</div></pre></td></tr></table></figure>
<h3 id="Support-N-grams-Sieve"><a href="#Support-N-grams-Sieve" class="headerlink" title="Support N-grams Sieve"></a>Support N-grams Sieve</h3><ul>
<li>AFINN-111.txt<br>The file AFINN-111.txt contains a list of sentiment scores</li>
<li>Stop word list<br>Small set, |S| &lt; 20</li>
<li>Synonymous “Not” list<br>unused</li>
<li>Abbreviation list<br>Rule, |R| &lt; 10</li>
<li>No CRF, No Parsing tree, No Subjective filter </li>
</ul>
<h1 id="To-Do"><a href="#To-Do" class="headerlink" title="To Do"></a>To Do</h1><p>增加兩個不在 top feature 中的 attribute，但是在 pos/neg word weight 中的 n-grams 所評分的結果。在量化這些 n-grams 的分數時，不管正反面的強度，一律取絕對值進行加總，有可能一個正面單詞跟一個負面單詞合併在一起來表示一個更強烈的正面或反面資訊。</p>
<p>Training Classifier with 5000 subjective and 5000 objective processed sentences.</p>
<p>實作判斷主觀、客觀的分類器。</p>
<p><a href="http://www.cs.cornell.edu/People/pabo/movie-review-data/" target="_blank" rel="external">http://www.cs.cornell.edu/People/pabo/movie-review-data/</a></p>
<h1 id="Github"><a href="#Github" class="headerlink" title="Github"></a>Github</h1><script type="text/javascript" src="http://morris821028.github.io/hexo-tag-oj/jquery.githubRepoWidget.js"></script><div class="github-widget" data-repo="morris821028/NLP-SentimentClassification"></div>
<p>感謝。</p>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-lesson/civilization-project" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/01/14/lesson/civilization-project/" class="article-date">
  <time datetime="2015-01-14T13:38:54.000Z" itemprop="datePublished">2015-01-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/學校課程/">學校課程</a>/<a class="article-category-link" href="/categories/學校課程/通識課程/">通識課程</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/01/14/lesson/civilization-project/">[通識] 文明的進程 小組報告 2</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2015/01/14/lesson/civilization-project/" data-id="ckgyo56m502a63cvr81ccqrw9" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2015/01/14/lesson/civilization-project/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/通識/">通識</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h1 id="文明競逐與衝突－原住民的文化問題"><a href="#文明競逐與衝突－原住民的文化問題" class="headerlink" title="文明競逐與衝突－原住民的文化問題"></a>文明競逐與衝突－原住民的文化問題</h1><h2 id="悠久文明－原住民文化"><a href="#悠久文明－原住民文化" class="headerlink" title="悠久文明－原住民文化"></a>悠久文明－原住民文化</h2><ul>
<li>約 15000 年以前移入台灣</li>
<li>南島語系、祖靈信仰</li>
<li>文化特色：屋架構築、火耕、黥面、輪舞…等</li>
<li>音樂、工藝與神話文學</li>
<li>各族各部落間有不同的祭典文化</li>
</ul>
<p>根據以前讀的歷史，台灣目前出土最古老的是長濱文化，時間至少在 15000 年前。而產出的古物到底能不能證明是否是原住民的祖先？雖然在文化特質上相當相似，即便如此，能說明的是有密切關聯。</p>
<p>南島語族的語言高達 1200 種，相比漢語、英語可說是毫不遜色，可以說是雄霸海洋的偉大民族。其文化特色有屋架構築，常聽到的有石板屋、以竹、茅草、檜木搭建半穴居，火耕，在生活習慣上都是依靠大自然所擁有的。</p>
<ul>
<li>清領時期：</li>
<li>封山：土牛番界</li>
<li>開山撫番：破庄滅族、喪身滅社</li>
<li>日治時期：</li>
<li>理蕃：政壓、同化、皇民化</li>
</ul>
<p>從清領時期開始，密切地接觸外來的文化與新住民。分別在清領時期有所謂的封山，避免原住民和漢人之間的衝突，或者是作為怕漢人與原住民相結反清。</p>
<p>而到清領後期，開山撫番主要為開闢道路，積極地經營與原住民之間的關係。其中當時最有名的是開拓的道路－八通關古道。而在隨後的日治時期也受到所謂的理番，也就是霧社事件發生的時機點，關於細節可以在電影賽德克拉萊中看到。</p>
<ul>
<li>國民政府～<br>認為「<strong> 山地同胞 </strong>」遲早會被同化為與一般的漢人無異，當時並不認為原住民是個問題。如果是種不正視其存在，落入一種傲慢態度。<ul>
<li>「民族自決」<br>人民可以自由決定他們的政治地位，並自由謀求他們的經濟、社會和文化的發展。對於 <strong> 現代國際體系 </strong> 中，處理原住民事務的原則。</li>
<li>「原住民族基本法」<br>為保障原住民族基本權利，促進原住民族生存發展，建立共存共榮之族群關係。<strong> 落實不佳 </strong>。</li>
<li>「原住民族政策白皮書」<br>民國 99 年擬定，<strong> 更凸顯漢人與原住民之間的差異 </strong>。</li>
</ul>
</li>
</ul>
<p>在國民政府遷台後，民生問題就越來越受到漢人所掌管。</p>
<p>一開始認為 <strong> 山地同胞 </strong>，光是這一 <strong> 同胞 </strong> 一詞就帶有一點點的認同感，即使原住民不這麼認為，所以並不認為原住民是個問題。這表示著什麼？如果是種不正視其存在，落入一種傲慢態度是有可能的，而不去認為是問題，也帶有一點多元文化的精神。</p>
<p>在 <strong> 民族自決 </strong> 一詞出現後，對於現代的國際體系中，民族自決對於處理原住民事務的原則，政府也依序做了幾項政策。其中「原住民族基本法」為保障原住民族基本權利，促進原住民族生存發展，建立共存共榮之族群關係。雖然基本法定義的早，但是實施上仍然沒有執行力。</p>
<p>而隨後在 99 年擬定「原住民族政策白皮書」，更加地區分了漢人與原住民之間的差異，也有人說擴大 <strong> 漢人沙文主義 </strong> 的優越意識。</p>
<p>為什麼這一段時間會開始注意到原住民？甚至還分給它們原住民身分？其一，為了顯示出自己國家的文明，按照民族自決的原則實施政策，其二，更可以做為執政者的政見，這一無傷大雅的政策，不就是撥點尊重認同給他們，就能討好他們，更能獲得大量的支持。這也是一種 <strong> 操弄手法 </strong>，正如同支持同志婚姻於美國，可以作為一個文明的現象。</p>
<p>做一點不同的舉動，就覺得文明就可以顯得更高尚。</p>
<h2 id="文明衝突－蘭嶼的小七決策"><a href="#文明衝突－蘭嶼的小七決策" class="headerlink" title="文明衝突－蘭嶼的小七決策"></a>文明衝突－蘭嶼的小七決策</h2><ul>
<li>漢人身分－劉克襄說道<br>「慎思啊！小七，別繼核廢料後，又成為漢人帶給蘭嶼的另一個惡靈！」認為小七進來勢必以物質思維、貨幣數據，取代傳統以物分享、回饋與共勞的社會結構。</li>
<li>在「了解對方」之後，才能共同決定別人的前途，但網路自由、資訊豐富不足作為「了解對方」</li>
</ul>
<p>小七便利商店在蘭嶼開店的時候，引起相當多的討論，其實小七一開始也不是漢人社會中的一部分，歷經好幾年的虧損才發展到現在的受人歡迎，一開始不被看好的 7-11 引入台灣，正好比討論 7-11 是否引入蘭嶼。</p>
<p>在這場討論中，主要由漢人身分的專家 ? 與當地人相互對話，其中以漢人身分的劉克襄為例</p>
<blockquote>
<p>劉克襄：「蘭嶼和其他離島差異甚大，它並不屬於漢人社會。反而擁有一個獨特的海洋生活體系，自成複雜的生態生命觀，以及豐厚的自然知識庫。當其菲律賓的近親大量流失舊有智慧時，他們仍完整保留，足堪為世界罕見的文化遺產。可它又是如此地脆弱，如其地理位置，被台灣緊緊宰治著命運。假如小七進駐了，一定很快就會擊跨所有雜貨舖，讓它們大量消失。小七能像達悟人經營的雜貨舖那樣可以賖賬？小七的門口可以賣飛魚乾？小七會讓自己做為交換村民生活資訊的平台？小七能以企業公益的身份，融入達悟族文化？」</p>
</blockquote>
<p>不屬於漢人社會又能表示什麼，罕見的文化遺產總是這麼脆弱嗎？自認漢人文化內的產物一定會取代他們原有的文化，不就是一種自視甚高的態度？以為自己所處的文明，一定可以勝過於蘭嶼文化。害怕這罕見文化遺產的消失，卻也認為自己的文化甚高，保留這文化的意義不就是做給別人看嗎？過度「替別人著想」的行為，好比要特別做出與別人不同的行為，強調自己的 <strong> 階級 </strong> 比較高。</p>
<p>過度！就是！多管閒事！</p>
<p>難道，漢人的眼中的蘭嶼只有碧海藍天、獨木舟的美麗風景才算是蘭嶼？而 7-11 在蘭嶼開設就這麼不堪入目嗎？</p>
<p>外來人希望遠離都市叢林，來蘭嶼看到的是一派天然不受現代文明汙染的淨土，但蘭嶼人本身是不是覺得有家便利商店會方便許多呢？究竟這塊海天淨土是為都市人凍結的擺飾，還是當地人必須俯仰其間的生活空間？</p>
<p>本島也有很多台灣美景，也在周圍建設不少旅宿啊，針對蘭嶼就不予許這樣。對蘭嶼的不信任感，是認為他們沒辦法處理這樣的文明不是，又是在強調自己有多文明了。</p>
<blockquote>
<p>助教： 把大自然跟鄉土美化，「從開元港往北，沿環島公路接近朗島村時，海邊出現一間白浪板屋的雜貨舖，叫達悟超商。超商前設有一蘭嶼傳統涼亭，四五個部落的女人坐在上面吹風聊天。」然而這種美化也是不切實際的，因為他無視了當地的困苦與基本建設的匱乏。</p>
</blockquote>
<p>題外話：我們可以從資訊中認識他們蘭嶼人，他們也能藉由 7-11 了解外界所有的文化資訊不是嗎 (蘭嶼小孩想吃薯條，卻不知其何物)？蘭嶼目前真的有小七，也在前一陣子九月多時，遇到鳳凰颱風，甚至便利商店的貨架被一掃而空。</p>
<ul>
<li>「一定要把我們當作稀有動物觀賞嗎？」<br><strong> 文明的傲慢 </strong> ？價值不由外地人決定。</li>
<li>關於擔憂的文化困境<br>蘭嶼人表示「長久文化習慣難道經不起外來入侵？如果真經不起，可見也沒多大特色。」</li>
<li>比起核廢料場，小七來得有誠意，何時何地到來都有說明。只有小七有文化考量，放置核廢料造成的利益關係要從何談起，決策來源仍屬於佔有多數的文化。</li>
</ul>
<p>上山種芋頭、出海捉飛魚，這些都是蘭嶼雅美人長久以來的生活秩序。</p>
<p>蘭嶼小孩過得每天吃山珍海味的日子，文化習慣相當長久，有脆弱到無法自己解決外來的入侵嗎？<br>在蘭嶼人口中道出「一定要把我們當作稀有動物觀賞嗎？」看出，漢人的專家們不斷地評估與討論，這外界的聲音已經讓他們覺得他們成為稀有動物的存在。</p>
<p>這不就是傲慢嗎？要求別的文明要過什麼樣的生活、擁有什麼樣的資源 …蘭嶼人當然要小心謹慎，找出最有利於自己的生存策略，但把他們想得這麼弱，其實也是一種漢人中心的自我膨脹。</p>
<p>總之，是否會造成困境，還是蘭嶼人最清楚。歡不歡迎「小七」的問題，留給當地人來評論吧！</p>
<p>小七登陸蘭嶼雖然只為當地帶來 12 個職員的工作機會，但比起台電核廢料場，至少明明白白告訴社會：「8月8日準時開幕」，不會掛羊頭賣狗肉，硬是將核廢料場扯成魚罐頭工廠。1 萬家小七對蘭嶼的傷害，也比不上一個核廢料廠。</p>
<p>因一個小七引起的討論比不上過往的核廢料廠，這利益之間到底要怎麼批判，原來他們的特色價值的利益必須要因為漢人而存在？放置核廢料的利益關係又要從何談起？不正也是原住民才 50 多萬人，佔多數的漢人政府的決策，有如大我天朝般，接受恩賜吧！</p>
<p>說台灣多元文化，並不代表多元文化的精神在於必須要有多區隔，這區隔更顯示階級高下之分，掩飾主流文化的支配現象而已！</p>
<ul>
<li>文化入侵、破壞早已不是第一例，民宿增加、核廢料、台東農會超市 … 等，那些有造成破壞的部分，最清楚的還是當地人。</li>
<li>漢人身分－劉克襄<br>「我是為你好」論證下提供單方面意見</li>
<li>在這事件，可以提供意見，但絕非價值的指導者。</li>
</ul>
<p>其實台東農會超市早就進軍蘭嶼了，但至今並沒有破壞達悟族的飛魚季，或是拼板舟文化，傳統文化顯然並不會因為便利超商或超市而受到影響。</p>
<p>「有空調又明亮的便利商店開在陳舊灰暗的雜貨店附近，搶走客人」這個畫面對於身為現任都市人的我們來說，實在是太具體、太吸睛。作為「文化破壞」的亮點，它可能讓我們難以察覺蘭嶼文化改變的其他面相。</p>
<p>一位達悟大哥說：「其實最大的破壞，當觀光客大批湧入的時候，就是一種破壞了。」</p>
<p>在這事件，可以提供意見，但絕非價值的指導者。「我是為你好」論證，是基於對方的福祉出發，為對方指出該走的方向。在於萬一對方表示異議，論者會如何回應。</p>
<h2 id="文化交流－豐年祭典的尊重"><a href="#文化交流－豐年祭典的尊重" class="headerlink" title="文化交流－豐年祭典的尊重"></a>文化交流－豐年祭典的尊重</h2><ul>
<li>阿美族豐年祭有 <strong> 文化傳承 </strong> 的功能，同時作為感謝上蒼保佑風調雨順，感念祖靈庇護，代表尊老敬祖 <strong> 族性 </strong></li>
<li>部落的祭典有其莊嚴與神聖性，並非官方觀光、酬庸的商品，這並非 <strong> 文化交流 </strong> 的本意。</li>
<li>「有意想參訪的朋友，帶著尊重的心，我們很歡迎，帶著 <strong> 高姿態 </strong> 的心，獵刀很快會吻你的脖子。」－ 「豐年祭不是給觀光客看」　張震嶽發言延燒　</li>
</ul>
<p>觀光客進入部落參觀慶典時要尊重現場的指導，不要干擾和破壞，應該秉持尊重的態度，部落的祭典不是活動，有其莊嚴和神聖性，觀光客不要因為要拍照而影響祭典進行；可以將祭典和活動分開，讓遊客可以參加活動，但是原住民也可以保有祭典的原貌，不受干擾。</p>
<p>大張旗鼓地為各縣市原住民宣傳他們的活動，活動與祭典之間界線越來越模糊，本意也越來越偏離。記住的是祭典並非官方觀光、酬庸的商品，這並非文化交流的本意！</p>
<p>在花蓮，近幾年興起的後山王東崑萁，為花蓮縣帶來龐大的觀光財。舉辦一系列的活動，展現花蓮縣特色，也因此在舉辦各種活動中給予金錢上的補助。</p>
<p>當然原住民活動是不可缺的一角，辦任何活動都有錢賺，甚至每一次辦活動非得要召喚外地族人回來不可，在用金錢補助活動上，是否呈現漢人認為原住民的豐年祭文化具有投資價值，是一個不錯的消費商品，花點錢，就能帶來更多的周邊利益。</p>
<p>他們的特色，被用「多元文化」的藉口，放置在觀光業的一環中，更是剝奪他們對自我祭典的掌握權，難道必須要因為一張海報上的活動時間而運行傳統祭典？</p>
<p>在某一次的活動中，不小心越界，產生出 <strong> 要求舉辦祭典­的阿美族青年交互蹲跳 </strong> 的荒唐行為，原住民祭典一直以來都只有年長者可以命令年輕人，沒有權力地位的身分概念，身為協辦的政府，也不能隨意地命令它們。</p>
<p>其實這種荒唐事情不只一例，曾經也舉辦花蓮原住民族聯合豐年祭，以文化交流的本意，召集來自大陸許多少數民族進行交流，結果大陸少路民族卻占了大多數的表演行程，中間還有特地安排 “縣長進場”，大約 10 來分鐘，難不成「縣長爬進場？」網友如此戲稱，這時間堪比一個表演節目。</p>
<p>當然這樣想有點對這件事情全方面的恐懼，文化交流只是按著流程跑這麼簡單？活動契機也許不錯，但是彈性限制仍有待考量。</p>
<h2 id="情感受限－布農族打耳祭"><a href="#情感受限－布農族打耳祭" class="headerlink" title="情感受限－布農族打耳祭"></a>情感受限－布農族打耳祭</h2><ul>
<li>打耳祭從早期獵鹿、山豬，因獵物減少而以抓豬增加祭典娛樂，祭典對於他們具有團結精神的教育意義。</li>
<li><strong> 外人情感門檻限縮下 </strong> ，原住民行為受到外部約束。</li>
<li>立法院要求取消抓豬比賽，否則砍原民會預算，往後射耳祭活動也不予補助。「射耳祭禁抓豬 布農族抗議」</li>
</ul>
<p>布農族早期與山林為伍，是最懂得環保及愛護動物的民族。因獵物減少而以抓豬增加祭典娛樂，其實他們一開始的活動並不是抓豬，而是真的拿弓箭射獵物的耳朵。</p>
<p>抓豬競賽有一定規則，一個村落抓一頭豬，時間最短的優勝，裁判看過後，這頭豬就可以扛回各部落與村民共享。抓豬不僅在訓練年輕人抓豬技巧，更重要的是傳承團結和分享的文化。</p>
<p>只因為政府無法看它們做出這樣野蠻的行為，就這麼限制它們。看不下去的情感，也正表示外人情感門檻限縮下，原住民連帶地受到牽連。以 Elias 的話來說而言，這種看到別人做出的行為，心中會感到難堪，用嬌貴引起的「不舒服感」，因為台灣各個角落發出「感到不舒服」，所以它們就野蠻、不文明了嗎？</p>
<p>當然並不是，這種極端的情感驗證了強烈追求自己階級的優越性！</p>
<ul>
<li>原住民抓豬活動、漢人供神豬，為何單獨原住民抓豬受到限制？習慣幕後隔絕的漢人文化。<br>*「我們原住民的祭典不該被保留，很野蠻？那你們供神豬的就是文化？豬塞餵成那樣然後殺了供祭所以是高尚的哦？」-「射耳祭抓豬比賽被禁　紀曉君：你們的供神豬就是文化？」</li>
<li>原住民出國表演，會被稱作 <strong> 台灣之光 </strong> ；但想維護傳統儀式時，卻被指成是 <strong> 野蠻 </strong> 的行為。</li>
</ul>
<p>原住民抓豬活動、漢人供神豬，為何單獨原住民抓豬受到限制？習慣幕後隔絕的漢人文化。漢人特地把打耳祭的抓豬活動拿來說嘴，就是故意挑剔的行為！</p>
<p>紀曉君在臉書砲轟：「我們原住民的祭典不該被保留，很野蠻？那你們供神豬的就是文化？豬塞餵成那樣然後殺了供祭所以是高尚的哦？」到底是做出別的文明所期盼的行為？還是遵循自我文明的規則發展下來？身為一個文明成長下的人，要求別的文明長成什麼樣子就是一種傲慢！</p>
<p><strong> 近乎病態的愛護動物 </strong> 是否是崇洋媚外、為了向西方世界 (ex. 綠色和平組織) 表示我們跟他們站在同一陣線、跟他們同樣等級，而產生之好似討好、尊崇國際制度的行動，為了表示我們與西方世界一樣進步文明而寧願拋棄自己的傳統也要高規格要求 <strong> 愛護動物 </strong>？</p>
<blockquote>
<p>助教： 這些傳統慶典不再具有原住民社會連繫感情與文化傳承的意義，而變成可以被漢人社會消費的商品，當這個「豐年祭」或「射耳祭」的商品形象因為「過度野蠻、血腥」，不符合漢人的文明價值(也就是失去賣相，沒辦法被消費時)我們就不再講「尊重原住民的多元文化」，而是要他們「取消抓豬比賽」。</p>
</blockquote>
<h2 id="其他地區的原住民"><a href="#其他地區的原住民" class="headerlink" title="其他地區的原住民"></a>其他地區的原住民</h2><ul>
<li>不同地區的原住民與其處境發展<ul>
<li>日本北海道愛奴人 (Ainu)</li>
<li>美洲印第安人</li>
<li>澳洲土著－失竊的一代 (Stolen Generations)</li>
<li>紐西蘭毛利人</li>
</ul>
</li>
</ul>
<p>在各國也都有原住民的存在，即使是民族精神很強烈的日本人，也存在北海道的愛奴人，直到 1986 年前都否認他們的存在。藉由很多電影宣傳、強勢文明的歷史經歷，我們也才知道有美洲印第安人（分支馬雅、阿茲特克、印加文明）、澳洲土著、紐西蘭毛利人 … 等。到底怎麼樣才算是原住民？有人認為具有演化化石才算是原住民，那事實上很多文明化石存證相當困難，這樣就稱不上原住民了？</p>
<h3 id="其他地區的原住民－愛奴人"><a href="#其他地區的原住民－愛奴人" class="headerlink" title="其他地區的原住民－愛奴人"></a>其他地區的原住民－愛奴人</h3><ul>
<li>日本北海道與俄羅斯境內皆存在</li>
<li>1869 年 (明治天皇) 「蝦夷地」更名「北海道」</li>
<li>1899 年「北海道舊土人保護法」──制度化歧視</li>
<li>1992 年 12 月聯合國集會<br>日本政府：「享有自己的文化，實踐自己的宗教，以及使用自己的語言是被我國憲法所保障的每個人的權利。但在聯合國《人權規約》中規定意義的少數民族，在我國不存在。」</li>
<li>2008 年正式被列為日本原住民族</li>
</ul>
<p>1869 年，愛奴人居住地被正式納入日本的行政範圍，同時被命名為習慣的「北海道」，被政府沒收的土地成了新住民的居地，逐漸地外來人口增加，使得愛奴人真的變成 “少數民族”。</p>
<p>隔了 30 年後，才制定對於它們的保護法，也與之前講的類似，制訂保護法等同於凸顯彼此之間的差異，是一種制度化歧視。再隔 100 年後，愛奴人在聯合國集會發表演說，要求制訂新法，但日本政府卻採用 “我國憲法” 保障每個人的權利回絕，「我國」這一詞對於少數民族存在嗎？真的是同一國嗎？「我國」這一詞呈現甚麼樣的態度？</p>
<p>再中間過程中，日本政府雖然修訂保護法，但是落實情況並不理想，日本長時間以「單一民族國家」的姿態現身，純粹也許很重要，更是一個進步的文明象徵。在近 2008 年，才正式將愛奴人為「日本原住民族」任何人權保護、社會地位、民族文化等內容才受到保障。</p>
<p>仔細想想，我們漢人對於台灣原住民的接觸與認知還不算晚。</p>
<h3 id="其他地區的原住民－澳洲土著"><a href="#其他地區的原住民－澳洲土著" class="headerlink" title="其他地區的原住民－澳洲土著"></a>其他地區的原住民－澳洲土著</h3><ul>
<li>「失竊的一代 (Stolen Generations) 」</li>
<li>1909 年至 1969 年年間（部份地方持續至 1970 年代）實行之「同化政策」長達 60 年。</li>
<li>兒童被永久性地帶往白人家庭或政府機構「白化」自身語言和文化被剝奪。</li>
<li>1997 年總理 約翰‧霍華德 (John Winston Howard)：「這是上一代政府的錯」</li>
<li>2008 年 2 月 13 日，總理 陸克文(Kevin Michael Rudd)  在澳洲國會上正式道歉，承諾改善原住民 <strong> 生活水平 </strong>，提高 <strong> 識字率 </strong>、平均壽命 … 等。</li>
</ul>
<p>而澳洲土著的情況也類似，長達 60 年的同化政策，認為他們「低賤無知」及「將會消失」，必須同化，將原住民兒童永久性帶到白人家庭下照顧，迫使它們忘記原本的語言與文化。到了 1997 年時，以「這是上一代政府的錯」為理由拒絕道歉，再隔 10 年，才正式向原住民道歉。並且承諾改善當今原住民的 <strong> 生活水平 </strong>。</p>
<p>所謂的 <strong> 生活水平 </strong> 又是用什麼方式？從發言的原文中看到，任何在政府機構、兒童照料的資源的提升，真的是得以求償了嗎？這一點值得省思。原住民有要求 <strong> 平等 </strong> 嗎？而平等的方式是用補償與另一個文明站在同一起點？</p>
<h2 id="結語"><a href="#結語" class="headerlink" title="結語"></a>結語</h2><ul>
<li>「原住民的問題其實是 <strong> 新住民 </strong> 的問題」</li>
<li>「當沒有原住民問題時，就是沒原住民詞的時候」</li>
</ul>
<p>「原住民的問題其實是新住民的問題」也許只是先來後到的概念，但也絕非這麼簡單，之前海協會長來台參訪時，說「中華民族同根」，原住民鬧出一句話「我們是南島語系的，誰跟你中華民族同一根，我這根跟你那根又不一樣！亂扯！」不同根的幽默言論。新住民相較於原住民晚到，因為彼此之間的文化差異，必須用原住民、新住民區隔開來，為什麼要區隔？一種認同感的需要，但這種差異性不應講究高下之分，也不該視為一個問題。</p>
<p>當初國民政府對山地同胞的「不視為問題所在」，最理想的方式，當然是不視為問題，並作為公民的一份子，相互協調之間的關係、經濟、資源分配。但現實中是很難達成的目標，假使一個人具有多重身分、國籍時，這顯然會有些問題，認同感應放置哪一方？即使只有單一身分的原住民，彼此之間仍有地位之差等差異，而受到不同的對待。</p>
<p>當我們不去討論原住民問題時，回過頭來看的就是彼此之間的階級、其他差異問題，當遇到一個更嚴重的問題時，很容易將破碎細小的差異忽略而靠攏在一起，反之當問題消失時，則因之前的靠攏引起衝突，因衝突而分化。因果關係難分難解。</p>
<h2 id="報告心得"><a href="#報告心得" class="headerlink" title="報告心得"></a>報告心得</h2><p>公平、正義、資本、中國</p>
<p><img src="http://i.imgur.com/O0ThSIz.png" alt="箱子"></p>
<p><img src="http://i.imgur.com/KtpUi8D.png" alt="箱子"></p>
<p>這次報告的困難度之高，感謝陳思瑀助教的指導。這份報告在兩三度討論完全被推翻重來，其一論點的背景知識不足，其二缺少足夠的批判立論，其三論點偏頗不全。本組沒有此類型的專業，以多數理工人，使用習慣的二分法在此報告相當危險。</p>
<p><img src="http://i.imgur.com/t4w6pE7.png" alt=""></p>
<p>無論如何，這篇報告應照著 Huntington 和 Elias 的論調下去觀察較為妥當。不乏會缺少多方的歷史評論，而從現代批評的歷史逆推。最後淪為心得報告。</p>
<p><img src="http://i.imgur.com/XKUHUOA.png" alt=""></p>
<p>如果單純拿別人的資料來報告，缺少自我的評論或獨特的闡述觀點，這隨處可得的資料，也不用上台報告。</p>
<p>日劇破案天才切利略－「事出必有因」，正是面對自己不熟識的事物時，採用的第一態度，當然根據自己的價值觀所產生的評論只好先往內心世界藏了。</p>
<p>中間還有談到人情網路的重要性，看人臉色的內心世界的建造，比起一學期的通識小組報告，顧及四年的人情網路的系上活動更為重要不是。而且，要求不同系的同學一起來做報告，這種要求別的文明做出我們文明所期盼的行為，就是一種傲慢。</p>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-lesson/database-review2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/01/10/lesson/database-review2/" class="article-date">
  <time datetime="2015-01-10T04:35:17.000Z" itemprop="datePublished">2015-01-10</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/學校課程/">學校課程</a>/<a class="article-category-link" href="/categories/學校課程/資料庫系統/">資料庫系統</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/01/10/lesson/database-review2/">資料庫複習 Ch.13</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2015/01/10/lesson/database-review2/" data-id="ckgyo56n302aw3cvrpaoutxmu" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2015/01/10/lesson/database-review2/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/資料庫系統/">資料庫系統</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Chapter-13"><a href="#Chapter-13" class="headerlink" title="Chapter 13"></a>Chapter 13</h2><p>Design Theory for Relational Databases</p>
<h3 id="名詞定義"><a href="#名詞定義" class="headerlink" title="名詞定義"></a>名詞定義</h3><ul>
<li><p><strong> Functional Dependencies </strong>  </p>
<ul>
<li>定義<br><em>X</em> -&gt; <em> Y </em> is an assertion about a relation <em> R </em> that whenever two tuples of <em> R </em> agree on all the attributes of <em> X </em>, then they must also agree on all attributes in set <em> Y </em>.</li>
<li>特性  <ul>
<li>X-&gt;A<sub>1</sub>A<sub>2</sub> … A<sub>n</sub>  holds for <em> R </em> exactly when each of X-&gt;A<sub>1</sub>, X-&gt;A<sub>2</sub>,…, X-&gt;A<sub>n</sub> hold for R.<br>例子 <strong> Drinkers(name, addr, beersLiked, manf, favBeer) </strong><br>FD : <strong> name -&gt; addr favBeer </strong> &amp; <strong> beersLiked -&gt; manf </strong><br><strong> name -&gt; addr favBeer </strong> = <strong> name -&gt; addr </strong> and <strong> name -&gt; favBeer </strong>.</li>
</ul>
</li>
</ul>
</li>
<li><p><strong> Keys of Relations </strong><br>換句話說 superkey 可能是複合的好幾個 key 構成，因此 key 一定也是 superkey，不論 superkey 或者是 key 都可以決定所有的 attribute。特別注意，key 是最小單位，因此 key 的子集不會是 key。</p>
<ul>
<li><strong>superkey</strong><br><em>K</em> is a superkey for relation <em>R</em> if <em>K</em>  functionally determines all of <em>R</em>.</li>
<li><strong>key</strong><br><em>K</em> is a key for <em>R</em> if <em>K</em> is a superkey, but no proper subset of <em>K</em>  is a superkey.</li>
<li>例子 <strong> Drinkers(name, addr, beersLiked, manf, favBeer) </strong><br>FD : <strong> name -&gt; addr favBeer </strong> &amp; <strong> beersLiked -&gt; manf </strong><br>得到 <strong> {name, beersLiked} </strong> 是一個 superkey，發現 <strong> {name} </strong> 和 <strong> {beersLiked} </strong> 不是 superkey，得到 <strong> {name, beersLiked} </strong> 是一個 key。</li>
</ul>
</li>
<li><p><strong> Inference Test </strong><br>如何找到 inferring FD？所謂的 inferring FD 就是藉由遞移關係得到的 FD，可以由原本集合中的幾個 FD 推斷出來，因此這些 inferring FD 不是必要存在的。那就先把 <strong> Y -&gt; B </strong> 移除，再由剩下的 FD 組合，查看是否存在可以推論出 B 的可能，如果任何情況都推不出 B，則 <strong> Y -&gt; B </strong> 不是 inferring FD。<br>We are given FD’s X1 -&gt; A1, X2 -&gt; A2,…, Xn -&gt; An , and we want to know whether an FD Y -&gt; B  must hold in any relation that satisfies the given FD’s.<br>例子 If A -&gt; B  and B -&gt; C hold, surely A -&gt; C.</p>
</li>
<li><p><strong> Closure Test </strong><br>遞移閉包測試。<br>An easier way to test is to compute the <strong> closure </strong> of <em> Y </em>, denoted <strong> Y+ </strong>.</p>
<ul>
<li>Basis: <strong> Y+ </strong> = Y.</li>
<li>Induction: Look for an FD’s left side X that is a subset of the current <strong> Y+ </strong>.  If the FD is X -&gt; A, add A to <strong> Y+ </strong>.</li>
</ul>
</li>
</ul>
<h3 id="Relational-Schema-Design"><a href="#Relational-Schema-Design" class="headerlink" title="Relational Schema Design"></a>Relational Schema Design</h3><p>schema design 目標是避免異常、冗餘。</p>
<p>Goal of relational schema design is to avoid anomalies and redundancy.</p>
<ul>
<li><strong> Update anomaly </strong> :<br>更新異常，當一個事實改變時，只會發生一次修改，而不會發生很多次的修改。意即針對一個關聯屬性修改，最多更動一個 row (entity)，不會更動數行的 row。<br>one occurrence of a fact is changed, but not all occurrences.</li>
<li><p><strong> Deletion anomaly </strong> :<br>刪除異常，當一個 row 移除時，確定合法的事實被移除。如果發生關聯上屬性移除，但該屬性本應該存在，卻遭到移除而不存在資料庫中，就這麼地憑空消失。<br>valid fact is lost when a tuple is deleted.</p>
</li>
<li><p><strong> Boyce-Codd Normal Form </strong><br>無論怎麼找 FD，都會發現到 FD 的 left hand side <em>X</em> 都是 superkey，那麼 R 就是一個 <strong> BCNF </strong>。<br>We say a relation <em>R</em>  is in <strong> BCNF </strong>  if whenever <em>X</em> -&gt;<em>Y</em>  is a nontrivial FD that holds in <em>R</em>, <em>X</em>  is a superkey.</p>
<ul>
<li><em>nontrivial</em>  means <em>Y</em>  is not contained in <em>X</em>.</li>
<li>a <em>superkey</em>  is any superset of a key (not necessarily a proper superset).</li>
<li>例子 <strong> Drinkers(name, addr, beersLiked, manf, favBeer) </strong><br>FD : <strong> name -&gt; addr favBeer </strong> &amp; <strong> beersLiked -&gt; manf </strong><br>In each FD, the left side is <strong>not</strong> a superkey. Shows <em>Drinkers</em> is <strong>not</strong> in BCNF.</li>
</ul>
</li>
<li><p><strong> Decomposition into BCNF </strong></p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">BCNF_Decompose(R, FD)</div><div class="line">    find X s.t.: X != (X+) != [all attributes] // X is one of FD&apos;s left hand side</div><div class="line">    if (not found) then “R is in BCNF”</div><div class="line">    let Y = (X+) - X</div><div class="line">    let Z = [all attributes] - (X+)</div><div class="line">    decompose R into R1(X union Y) and R2(X union Z) </div><div class="line">    continue to decompose recursively R1 and R2</div></pre></td></tr></table></figure>
<h3 id="Third-Normal-Form"><a href="#Third-Normal-Form" class="headerlink" title="Third Normal Form"></a>Third Normal Form</h3><p>接續上面的 Decomposition，將會產生一些問題。拆分上不合乎常理，發生過度的拆分，這問題發生在於給定的 FD 格式。</p>
<p>舉個例子 (street address, city, zip code)</p>
<ul>
<li>FD : <em>AB</em> -&gt; <em>C</em>  and <em>C</em> -&gt; <em>B</em>.<br>Example: A = street address, B = city, C = zip code.</li>
<li>There are two keys, <strong> {A, B} </strong> and <strong> {A, C} </strong>.</li>
<li><em>C</em> -&gt; <em>B</em>  is a BCNF violation, so we must decompose into <em>AC</em>, <em>BC</em>. </li>
<li>顯然地 AC 有很嚴重的問題，既不存在 A -&gt; C 也不存在 C -&gt; A。</li>
</ul>
<p>避免此問題</p>
<ul>
<li>An attribute is <strong> prime </strong> if it is a member of any key. 也就是 attribute 是某一 key 的 subset。</li>
<li><em>X</em> -&gt; <em>A</em> violates 3NF if and only if <em>X</em> is not a superkey, and also <em>A</em>  is not prime.</li>
</ul>
<p>接續上個例子 (street address, city, zip code)</p>
<ul>
<li>There are two keys, <strong> {A, B} </strong> and <strong> {A, C} </strong>.</li>
<li>Thus<em> A</em>, <em>B</em>, and <em>C</em>  are each prime.</li>
<li>Although <em>C</em> -&gt; <em>B</em>  violates BCNF, it does not violate 3NF.</li>
</ul>
<h3 id="properties-of-a-decomposition"><a href="#properties-of-a-decomposition" class="headerlink" title="properties of a decomposition"></a>properties of a decomposition</h3><p>最後，來看看得到的 3NF 和 BCNF 給予什麼特性？</p>
<p>There are two important properties of a decomposition:</p>
<ul>
<li><strong> Lossless Join </strong> :<br>it should be possible to project the original relations onto the decomposed schema, and then reconstruct the original.</li>
<li><strong> Dependency Preservation </strong> :<br>it should be possible to check in the projected relations whether all the given FD’s are satisfied.</li>
</ul>
<p>資料不失真，保證可以藉由投影、Join 將分解的 schema 組合成原本的資料。同時所有的相依關係仍然保留，可以把原本 FD 都滿足所有的 schema。</p>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-lesson/database-review" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/01/10/lesson/database-review/" class="article-date">
  <time datetime="2015-01-10T01:08:30.000Z" itemprop="datePublished">2015-01-10</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/學校課程/">學校課程</a>/<a class="article-category-link" href="/categories/學校課程/資料庫系統/">資料庫系統</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/01/10/lesson/database-review/">資料庫複習 Ch.12</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2015/01/10/lesson/database-review/" data-id="ckgyo56nc02b33cvrhf3vpxij" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2015/01/10/lesson/database-review/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/資料庫系統/">資料庫系統</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Chapter-12"><a href="#Chapter-12" class="headerlink" title="Chapter 12"></a>Chapter 12</h2><h3 id="E-R-Model"><a href="#E-R-Model" class="headerlink" title="E/R Model"></a>E/R Model</h3><blockquote>
<p>Entity-Relationship Model 實體關係模型</p>
</blockquote>
<p>The E/R model allows us to sketch database schema designs. </p>
<p>協助描繪資料庫 schema 設計，藉由 E/R model 映射到資料庫的 Relation model。</p>
<h3 id="名詞定義"><a href="#名詞定義" class="headerlink" title="名詞定義"></a>名詞定義</h3><ul>
<li><strong> Entity </strong> = “thing” or object.<br>實體，對應到現實生活中的名詞，例如蘋果 mac2013、微軟 win8、 … 等。單指一個、一件實體存在。</li>
<li><strong> Entity set </strong> = collection of similar entities.<br>很多類似的實體產生的集合，例如計算機、員工 … 等實體集合。<br>Similar to a class in object-oriented languages.</li>
<li><strong> Attribute </strong> = property of (the entities of) an entity set.<br>屬性，通常是一個數值的呈現，例如計算機的運算能力、員工薪資、 … 等。<br>Attributes are simple values, e.g. integers or character strings, not structs, sets, etc.</li>
</ul>
<p>繪製 E/R Diagrams 時，呈現方式</p>
<ul>
<li><strong> Entity set </strong> = rectangle.<br>實體集合使用矩形圖表示</li>
<li><strong> Attribute </strong> = oval,<br>屬性使用橢圓表示，並且連到實體集合，表示這些實體集合都具有這些屬性特徵。<br>with a line to the rectangle representing its entity set.</li>
<li><p><strong> Relationships </strong> = diamond.<br>用菱形連接兩個以上的實體集合，表示實體集合之間的關係。<br>A relationship connects two or more entity sets, with lines to each of the entity sets involved.</p>
</li>
<li><p><strong> Relationship Set </strong><br>The “value” of a relationship is a relationship set, a set of tuples with one component for each related entity set.<br>For the relationship <strong> Sells </strong>, we might have a relationship set like:  </p>
</li>
</ul>
<table>
<thead>
<tr>
<th>Bar</th>
<th>Beer</th>
</tr>
</thead>
<tbody>
<tr>
<td>Joe’s Bar</td>
<td>Bud</td>
</tr>
<tr>
<td>Joe’s Bar</td>
<td>Miller</td>
</tr>
<tr>
<td>Sue’s Bar</td>
<td>Bud</td>
</tr>
<tr>
<td>Sue’s Bar</td>
<td>Pete’s Ale</td>
</tr>
<tr>
<td>Sue’s Bar</td>
<td>Bud Lite</td>
</tr>
</tbody>
</table>
<ul>
<li><strong> Multiway Relationships </strong><br>Our three binary relationships <strong> Likes </strong>, <strong> Sells </strong> , and <strong> Frequents </strong> do not allow us to make this distinction.   </li>
</ul>
<table>
<thead>
<tr>
<th>Bar</th>
<th>Drinker</th>
<th>Beer</th>
</tr>
</thead>
<tbody>
<tr>
<td>Joe’s Bar</td>
<td>Ann</td>
<td>Miller</td>
</tr>
<tr>
<td>Sue’s Bar</td>
<td>Ann</td>
<td>Bud</td>
</tr>
<tr>
<td>Sue’s Bar</td>
<td>Ann</td>
<td>Pete’s Ale</td>
</tr>
<tr>
<td>Joe’s Bar</td>
<td>Bob</td>
<td>Bud</td>
</tr>
<tr>
<td>Joe’s Bar</td>
<td>Bob</td>
<td>Miller</td>
</tr>
<tr>
<td>Joe’s Bar</td>
<td>Cal</td>
<td>Miller</td>
</tr>
<tr>
<td>Sue’s Bar</td>
<td>Cal</td>
<td>Bud Lite</td>
</tr>
</tbody>
</table>
<ul>
<li><p><strong> Rounded arrow </strong> = “exactly one,”<br>實心箭頭表示確切對應一個關係，如果一個人會喜愛好幾種酒，其中最愛某一種。<br>i.e., each entity of the first set is related to exactly one entity of the target set.</p>
</li>
<li><p><strong> Roles </strong><br>Label the edges between the relationship and the entity set with names called roles.<br>例如丈夫、妻子之間的關係、夥伴之間的關係。</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>Husband</th>
<th>Wife</th>
</tr>
</thead>
<tbody>
<tr>
<td>Bob</td>
<td>Ann</td>
</tr>
<tr>
<td>Joe</td>
<td>Sue</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Buddy1</th>
<th>Buddy2</th>
</tr>
</thead>
<tbody>
<tr>
<td>Bob</td>
<td>Ann</td>
</tr>
<tr>
<td>Joe</td>
<td>Sue</td>
</tr>
</tbody>
</table>
<ul>
<li><p><strong> Subclass </strong> = special case = fewer entities = more properties.<br>從物件導向來說，一個繼承關係，得到的 Subclass 會繼承原本的 Class 的特徵、關係，有可能會具有額外的特徵。<br>Let us suppose that in addition to all the <strong> properties </strong> (attributes and relationships) of beers, ales also have the attribute <strong> color </strong>. Isa triangles (<strong> is a </strong> 的三角形) indicate the subclass relationship. Point to the superclass (指向父類別).</p>
<ul>
<li>比較 OO 和 E/R 對 subclass 的定義<br>  也就是說，OO 只會用 is a 描述一個 subclass 的繼承關係。但在 E/R model 中，isa 相當一個欄位，用來描述它是哪一個子類別，也就是說在紀錄時，如果它在某一個子類別時，那麼在父類別中也會記錄到它。<ul>
<li>In OO, objects are in one class only. Subclasses inherit from superclasses.</li>
<li>In contrast, E/R entities have representatives  in all subclasses to which they belong.<ul>
<li><strong> Rule </strong>: if entity e is represented in a subclass, then e is represented in the superclass (and recursively up the tree).</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p><strong> Key </strong><br>Key 是一個 attribute 的集合構成，得到 <em> f(Key) = at most one entity </em>。繪製時，使用底線 (underline) 於作為 key attribute 表示。<br>is a set of attributes for one entity set such that no two entities in this set agree on all the attributes of the key.</p>
</li>
<li><p><strong> Weak Entity Sets </strong><br>為了去辨識某個實體，必須倚靠一對一、或者多對一的關係，來確切地找到某個實體。<br>Entity set <em> E </em>  is said to be <strong> weak </strong> if in order to identify entities of <em> E </em> uniquely, we need to follow one or more many-one relationships from <em> E </em> and include the key of the related entities from the connected entity sets.</p>
<ul>
<li>例如 Player(name, nubmer) - Plays_on -&gt; Team(name)。當知道 Team 是哪一個時，才能辨識出 Player，否則名稱跟號碼可能會在不同隊中出現重複的。因此 Player 就是一個 <strong> Weak Entity Sets </strong>。</li>
</ul>
</li>
<li><p><strong> Weak Entity-Set Rules </strong><br>A weak entity set has one or more many-one relationships to other (supporting) entity sets.<br>  並不是每一個 relationship 都是 weak entity set 需要的支持。然而被需要的 relationship 必然擁有一個 <strong> rounded arrow </strong>。<br>The key for a weak entity set is its own underlined attributes and the keys for the supporting entity sets.<br>  例如在之前的例子，可以使用 (player) number 和 (team) name 作為 Player 的 key。</p>
</li>
</ul>
<h3 id="Design-Techniques"><a href="#Design-Techniques" class="headerlink" title="Design Techniques"></a>Design Techniques</h3><ul>
<li>Design Techniques<ul>
<li>Avoid redundancy.<br>避免冗餘</li>
<li>Limit the use of weak entity sets.<br>限制 weak entity set 的使用</li>
<li>Don’t use an entity set when an attribute will do.<br>如果能使用一個 attribute 表示，則無需增加一個 entity set 單獨表示一個 attribute。</li>
</ul>
</li>
</ul>
<p>分別對應以下幾點。</p>
<ul>
<li><p><strong> Redundancy </strong>  = saying the same thing in two (or more) different ways<br>存在用好幾種方法說一件事情，或者提及某個屬性。</p>
</li>
<li><p><strong> Entity Sets Versus Attributes </strong><br>對應實體集合的屬性，要符合以下兩點，屬性應為很多實體共同擁有的名稱，並且擁有至少一個 nokey 屬性，或者屬於 many-one 或 many-many 關係中，many 那一方的 entity set。<br>An entity set should satisfy at least one of the following conditions:</p>
<ul>
<li>It is more than the name of something; it has at least one nonkey attribute. or</li>
<li>It is the “many” in a many-one or many-many relationship</li>
</ul>
</li>
<li><p>Weak Entity Sets 使用須知</p>
<ul>
<li>避免濫用，通常能夠創建一個 unique ID 來表示一個實體。</li>
<li>當真的找不到一個普遍性的 unique ID 時，才會逼不得已使用 Weak entity set.</li>
</ul>
</li>
</ul>
<h3 id="From-E-R-Diagrams-to-Relations"><a href="#From-E-R-Diagrams-to-Relations" class="headerlink" title="From E/R Diagrams to Relations"></a>From E/R Diagrams to Relations</h3><p>關於對應的名詞如下，轉換時找 attribute 時，E/R Diagrams 中的 relationships 也會成為一個 relation ，attribute 的找法，可以從關聯的 entity set 的 key 或者是關係的定義本身。</p>
<ul>
<li>Entity set -&gt; relation.</li>
<li>Attributes -&gt; attributes.</li>
<li><p>Relationships -&gt; relations whose attributes are only:</p>
<ul>
<li>The keys of the connected entity sets.<br>將相連的實體集合的 key 值都拿來作為 attribute。</li>
<li>Attributes of the relationship itself.</li>
</ul>
</li>
<li><p><strong> Combining Relations </strong><br>結合 Relation，減少 Relation 的個數，將多對一的 relationships 表單，而實體集合屬於 many 的那一方，則可以把 one 那一方結合在一起。切記一定要是多對一，如果是多對多則會造成冗餘發生。</p>
<ul>
<li>The relation for an entity-set <em> E </em></li>
<li>The relations for many-one relationships of which <em> E </em> is the “many.”</li>
<li>Example: Drinkers(name, addr) and Favorite(drinker, beer) combine to make Drinker1(name, addr, favBeer).</li>
</ul>
</li>
</ul>
<ul>
<li><p><strong> Handling Weak Entity Sets </strong><br>解決 weak entity set 轉化成 relation 時，必然要為它準備一個 complete key 來辨識不同實體於關連到不同的實體集合。如果一個 supporting relationship 不具有 attribute，而且屬於一個冗餘的紀錄，那麼把 relationship 另一方 “one” 的 entity set 的 key 值加入到 weak entity set 所創建的 relation。<br>從之前的例子，把球隊名稱 team(name) 加入到 Player(number, name) 中，變成 relation Player(number, team_name, name)，這是在之前的 Combining Relations 中，就已經得到的結果，因此就可以忽略。</p>
<ul>
<li>Relation for a weak entity set must include attributes for its complete key (including those belonging to other entity sets), as well as its own, nonkey attributes.</li>
<li>A supporting relationship is redundant and yields no relation (unless it  has attributes).</li>
</ul>
</li>
<li><p><strong> Subclasses: Three Approaches </strong></p>
<ul>
<li>Object-oriented : One relation per subset of subclasses, with all relevant attributes.<br>父類別和子類別分開，各自成為一個 relation。</li>
<li>Use nulls : One relation; entities have NULL in attributes that don’t belong to them.<br>把子類別的屬性上提，如果父類別不存在該屬性則填入 null。</li>
<li>E/R style : One relation for each subclass:<br>存在父類別和子類別的 relation，但是共同屬性都會在父類別中，子類別只保留 key 和新增加的屬性。<ul>
<li>Key attribute(s).</li>
<li>Attributes of that subclass.</li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-lesson/database-bcnf" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/12/30/lesson/database-bcnf/" class="article-date">
  <time datetime="2014-12-29T23:48:51.000Z" itemprop="datePublished">2014-12-30</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/學校課程/">學校課程</a>/<a class="article-category-link" href="/categories/學校課程/資料庫系統/">資料庫系統</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/12/30/lesson/database-bcnf/">資料庫正規化 Database BCNF</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/12/30/lesson/database-bcnf/" data-id="ckgyo56nq02bf3cvrofhl59f1" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/12/30/lesson/database-bcnf/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/資料庫系統/">資料庫系統</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/鬼畜/">鬼畜</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>stackoverflow : Decomposing a relation into BCNF.</p>
<p>資料庫講到正規化，針對 1NF, 2NF, 3NF 的做法。正規化的目的<br>－要避免資料重複或相互矛盾的情形，並使資料庫在使用時能更有效率、更容易維護。</p>
<p>關於 1NF, 2NF, 3NF 的細節操作就上網查吧。也就是在還沒正規化前，可能會遭遇到</p>
<ul>
<li>修改一個 f(x) = y 值時，可能修改非常大量的 row，因為有可能 f(x, z) = y，無用相依關係的 z 很多。</li>
<li>刪除某個元素時，造成 y 值沒有被任何相依，導致 y 的資訊無法存入資料庫。 … 如此類推。</li>
</ul>
<p>現在給定 relation 和 functional dependencies，正規化它們！</p>
<p>舉個例子：(直接從 stackoverflow 的例子來說)</p>
<ul>
<li>Relation : <em> R(A, C, B, D, E) </em> </li>
<li>Functional dependencies (FD): <em> A -&gt; B, C -&gt; D </em></li>
</ul>
<p>Functional dependencies 簡單來說就是一個決定性的一對多、或者是一對一的相依關係，可以根據 LHS (left hand side) 決策 RHS (right hand side)，當然 function dependencies 的訊息只有部分，也暗示著具有遞移關係。因此例如 <em> A-&gt;B, B-&gt;C </em> 則可以推論出 <em> A-&gt;C </em>。</p>
<p>定義 X+ 為 X 的遞移閉包，因此假設知道 <em> A-&gt;B, B-&gt;C </em> 則 <em> {A}+ = {A, B, C} </em>，假設知道 <em> AB-&gt;C </em> 則 <em> {A, B}+ = {A, B, C} </em></p>
<p>回到例子，每一步要找到違反 BCNF 規則 (violates BCNF) 的 R’ 進行拆分。怎麼樣才算違反 BCNF 規則？可以找到一個 <em> X != X+ != [R’ all attributes] </em>，就可以對 R’ 進行拆分。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">Step 1:</div><div class="line">S = &#123;ABCDE&#125;       </div><div class="line">    R&apos; = ABCDE, </div><div class="line">    find &#123;A&#125; != &#123;A, B&#125; != &#123;A, B, C, D, E&#125;, </div><div class="line">    R1 = (X+) = &#123;A, B&#125;</div><div class="line">    R2 = R&apos; - ((X+) - X) = &#123;A, C, D, E&#125;</div><div class="line">Step 2:</div><div class="line">S = &#123;ACDE, AB&#125;</div><div class="line">    R&apos; = ACDE,</div><div class="line">    find &#123;C&#125; != &#123;C, D&#125; != &#123;A, C, D, E&#125;, </div><div class="line">    R1 = (X+) = &#123;C, D&#125;</div><div class="line">    R2 = R&apos; - ((X+) - X) = &#123;A, C, E&#125;</div><div class="line">Step 3:</div><div class="line">S = &#123;ACE, AB, CD&#125;</div><div class="line">    // NOT FOUND END.</div></pre></td></tr></table></figure>
<p>在程式實作 (非人工) 的時候，如何找到 X 滿足上述的條件很重要，由於 X 是所有變數的 subset 情況，相當於 <em> O(2<sup>n</sup>) </em>，很多項目是無用的。假如 <em> R’ = ABE </em>，針對 <em> X = AC </em> 是無效的操作，基本上只要拿所有 function dependencies 的 X = LHS 進行測試即可？這貪心的做法應該是對的。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">BCNF_Decompose(R)</div><div class="line">    find X s.t.: X != (X+) != [all attributes]</div><div class="line">    if (not found) then “R is in BCNF”</div><div class="line">    let Y = (X+) - X</div><div class="line">    let Z = [all attributes] - (X+)</div><div class="line">    decompose R into R1(X union Y) and R2(X union Z) </div><div class="line">    continue to decompose recursively R1 and R2</div></pre></td></tr></table></figure>
<p>說真的，老師上課講的練習答案還有錯，講算法時也不夠確切，真不知道教授怎麼教的，還是我沒認真上課。當教授發現全班答題有極端的相似錯誤時，到底是我們學不好？還是他沒教好？教授一點都不會反思。</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">5 2</div><div class="line">A-&gt;B</div><div class="line">C-&gt;D</div><div class="line">6 3</div><div class="line">AC-&gt;B</div><div class="line">C-&gt;D</div><div class="line">A-&gt;EF</div><div class="line">6 6</div><div class="line">AB-&gt;C</div><div class="line">BC-&gt;AD</div><div class="line">D-&gt;E</div><div class="line">CF-&gt;B</div><div class="line">BC-&gt;A</div><div class="line">BC-&gt;D </div><div class="line">5 3</div><div class="line">AB-&gt;C</div><div class="line">DE-&gt;C</div><div class="line">B-&gt;E</div></pre></td></tr></table></figure>
<h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">A-&gt;B</div><div class="line">S = &#123;AB, ACDE&#125;</div><div class="line">C-&gt;D</div><div class="line">S = &#123;AB, CD, ACE&#125;</div><div class="line">  </div><div class="line">C-&gt;D</div><div class="line">S = &#123;CD, ABCEF&#125;</div><div class="line">A-&gt;EF</div><div class="line">S = &#123;ABC, CD, AEF&#125;</div><div class="line">  </div><div class="line">AB-&gt;C</div><div class="line">S = &#123;ABCDE, ABF&#125;</div><div class="line">D-&gt;E</div><div class="line">S = &#123;ABCD, DE, ABF&#125;</div><div class="line">  </div><div class="line">AB-&gt;C</div><div class="line">S = &#123;ABD, ABCE&#125;</div><div class="line">B-&gt;E</div><div class="line">S = &#123;ABC, ABD, BE&#125;</div></pre></td></tr></table></figure>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sstream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;assert.h&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></div><div class="line"><span class="comment">// stackoverflow Database: Decomposing a relation into BCNF</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">parsingStmt</span><span class="params">(<span class="built_in">string</span> s, <span class="built_in">string</span> &amp;l, <span class="built_in">string</span> &amp;r)</span> </span>&#123;</div><div class="line">    <span class="keyword">size_t</span> pos = s.find(<span class="string">"-&gt;"</span>);</div><div class="line">    l = s.substr(<span class="number">0</span>, pos);</div><div class="line">    r = s.substr(pos + <span class="number">2</span>);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">toBitmask</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++) &#123;</div><div class="line">        assert(s[i] &gt;= <span class="string">'A'</span> &amp;&amp; s[i] &lt;= <span class="string">'Z'</span>);</div><div class="line">        ret |= <span class="number">1</span>&lt;&lt;(s[i] - <span class="string">'A'</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ret;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">printBitmask</span><span class="params">(<span class="keyword">int</span> state)</span> </span>&#123;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; (<span class="number">1</span>&lt;&lt;i) &lt;= state; i++) &#123;</div><div class="line">        <span class="keyword">if</span> ((state&gt;&gt;i)&amp;<span class="number">1</span>)</div><div class="line">            <span class="built_in">putchar</span>(i + <span class="string">'A'</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; LHS, RHS;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">findFD</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> ss = i;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; LHS.size(); j++) &#123;</div><div class="line">        <span class="keyword">if</span> ((LHS[j]&amp;i) == LHS[j])</div><div class="line">            ss |= RHS[j];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (ss != i)</div><div class="line">    	<span class="keyword">return</span> findFD(ss);</div><div class="line">    <span class="keyword">return</span> ss;</div><div class="line">&#125;</div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; decomposing(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; state, <span class="keyword">int</span> fdlhs, <span class="keyword">int</span> fdrhs) &#123;</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; ret;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; state.size(); i++) &#123; <span class="comment">// X-&gt;Y</span></div><div class="line">        <span class="keyword">int</span> X = fdlhs, Y = fdrhs&amp;state[i];</div><div class="line">        <span class="keyword">if</span> (Y != state[i] &amp;&amp; (X&amp;state[i]) == X &amp;&amp; Y &amp;&amp; X &amp;&amp; X != Y) &#123;</div><div class="line">            ret.push_back(state[i]^X^Y);</div><div class="line">            ret.push_back(Y);</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            ret.push_back(state[i]);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    sort(ret.begin(), ret.end());</div><div class="line">    ret.resize(unique(ret.begin(), ret.end()) - ret.begin());</div><div class="line">    <span class="keyword">return</span> ret;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">printResult</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;ret)</span> </span>&#123;</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"S = &#123;"</span>);</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; ret.size(); i++) &#123;</div><div class="line">        printBitmask(ret[i]);</div><div class="line">        <span class="keyword">if</span> (i != ret.size() - <span class="number">1</span>) &#123;</div><div class="line">            <span class="built_in">printf</span>(<span class="string">", "</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">puts</span>(<span class="string">"&#125;"</span>);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> n, m;</div><div class="line">    <span class="built_in">string</span> s;</div><div class="line">    <span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m) &#123;</div><div class="line">        LHS.clear(), RHS.clear();</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</div><div class="line">            <span class="built_in">cin</span> &gt;&gt; s;</div><div class="line">            <span class="built_in">string</span> lhs, rhs;</div><div class="line">            parsingStmt(s, lhs, rhs);</div><div class="line">            LHS.push_back(toBitmask(lhs));</div><div class="line">            RHS.push_back(toBitmask(rhs));</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; ret;</div><div class="line">        <span class="keyword">int</span> update = <span class="number">0</span>;</div><div class="line">        ret.push_back((<span class="number">1</span>&lt;&lt;n) - <span class="number">1</span>);</div><div class="line">        <span class="keyword">do</span> &#123;</div><div class="line">            update = (<span class="keyword">int</span>) ret.size();</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</div><div class="line">                ret = decomposing(ret, LHS[i], findFD(LHS[i]));</div><div class="line">                <span class="keyword">if</span> (ret.size() &gt; update) &#123;	</div><div class="line">                    printBitmask(LHS[i]);</div><div class="line">                	<span class="built_in">printf</span>(<span class="string">"-&gt;"</span>);</div><div class="line">                	printBitmask(RHS[i]);</div><div class="line">                	<span class="built_in">puts</span>(<span class="string">""</span>);</div><div class="line">                    printResult(ret);</div><div class="line">                	<span class="keyword">break</span>;</div><div class="line">                &#125;            </div><div class="line">            &#125;</div><div class="line">            update = ret.size() &gt; update;</div><div class="line">        &#125; <span class="keyword">while</span> (update);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-lesson/geometry-hw5" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/12/28/lesson/geometry-hw5/" class="article-date">
  <time datetime="2014-12-28T00:56:01.000Z" itemprop="datePublished">2014-12-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/學校課程/">學校課程</a>/<a class="article-category-link" href="/categories/學校課程/計算幾何/">計算幾何</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/12/28/lesson/geometry-hw5/">計算幾何 - HW05</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/12/28/lesson/geometry-hw5/" data-id="ckgyo56nv02bj3cvros0wcalf" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/12/28/lesson/geometry-hw5/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/計算幾何/">計算幾何</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Chapter-10"><a href="#Chapter-10" class="headerlink" title="Chapter 10"></a>Chapter 10</h2><h3 id="10-1"><a href="#10-1" class="headerlink" title="10.1"></a>10.1</h3><p>In Section 10.1 we solved the problem of finding all horizontal line segments in a set that intersect a vertical segment. For this we used an interval tree with priority search trees as associated structures. There is also an alternative approach. We can use a 1-dimensional range tree on the y-coordinate of the segments to determine those segments whose y-coordinate lies in the y-range of the query segment. The resulting segments cannot lie above or below the query segment, but they may lie completely to the left or to the right of it. We get those segments in O(logn) canonical subsets. For each of these subsets we use as an associated structure an interval tree on the x-coordinates to find the segments that actually intersect the query segment.</p>
<p>a. Give the algorithm in pseudocode.<br>b. Prove that the data structure correctly solves the queries.<br>c. What are the bounds for preprocessing time, storage, and query time of this structure? Prove your answers.</p>
<p>給 n 個水平線段，詢問垂直的線段與那些水平線段有相交，輸出所有有相交的線段。</p>
<p>a. Algorithm:</p>
<ol>
<li>對 n 個線段建造 interval tree，使用課本上 CONSTRUCTINTERVALTREE(l) 的做法。</li>
<li>對 interval tree 上每一個 node 建造 Priority Search Tree，node 依照 x 劃分，分別對 node.x 的左右兩側建造 PST，距離 node.x 越遠的端點，其優先權越高，左右子樹依照 y-value 分兩堆。</li>
<li>詢問調用 QUERYINTERVALTREE(v, qx)，得到相對應的 ndoe 後，查找每個 node 下的 Priority Search tree 與線段相交，調用 QUERYPRIOSEARCHTREE()。</li>
</ol>
<p>b. Prove that the data structure correctly solves the queries.<br>上述的作法與 axis-parallel rectangular query window 相同。而此問題的詢問是 axis-parallel rectangular query window 的 subset，一個線段的詢問是 <em> qx = qx’</em> 的情況，故得證。</p>
<p>c. What are the bounds for preprocessing time, storage, and query time of this structure? Prove your answers.</p>
<p>preprocessing time : <strong><em> O(n log n) </em></strong><br>store space : <strong><em> O(n) </em></strong><br>query time : <strong><em> O(log n + k) </em></strong></p>
<p>前處理因 interval tree 最慘 <em> T(n) = 2 T(n/2) + O(n) </em>，建造 PST 只需要 <em> O(n) </em>，每個線段最多在兩個 PST 中，得到記憶體空間最多為 <em> O(n) </em>。詢問最多為 interval tree 的深度 <em> O(log n) </em></p>
<h3 id="10-2"><a href="#10-2" class="headerlink" title="10.2"></a>10.2</h3><p>Let P be a set of n points in the plane, sorted on y-coordinate. Show that, because P is sorted, a priority search tree of the points in P can be constructed in <em> O(n) </em> time.</p>
<p>類似 bottom0up heap construction，已知 bottom-up heap 可在 O(n) 時間內完成。</p>
<p>假設最後的樹高 H，第 i 次的 bottom-up 會調整 2<sup>H-i</sup> 個元素，每個元素最多下降 i 層。則</p>
<span>$$O(\sum_{i = 1}^{H} i \times 2^{H-i}) = O(1 \times 2^{H-1} + 2 \times 2^{H-2} + ... ) \\
= O((2^{H-1} + 2^{H-2} + ... + 1) + (2^{H-2} + 2^{H-3} + ... + 1) + ...) \\
= O(2^{H} + 2^{H-1} + ... + 1) = O(2^{H+1}) = O(n)$$</span><!-- Has MathJax -->
<p>雖然要求左右子樹的 y 值要符合左小、右大，但由於已經根據 y 排好，bottom-up 時，保證調整的 shiftdown 操作會符合其性質。</p>
<h3 id="10-6"><a href="#10-6" class="headerlink" title="10.6"></a>10.6</h3><p>Let I be a set of intervals on the real line. We want to be able to count the number of intervals containing a query point in O(logn) time. Thus, the query time must be independent of the number of segments containing the query point.</p>
<p>a. Describe a data structure for this problem based on segment trees, which uses only O(n) storage. Analyze the preprocessing time, and the query time of the data structure.<br>b. Describe a data structure for this problem based on interval trees. You should replace the lists associated with the nodes of the interval tree with other structures. Analyze the amount of storage, preprocessing time, and the query time of the data structure.<br>c. Describe a data structure for this problem based on a simple binary search tree. Your structure should have O(n) storage and O(logn) query time. (Hence, segment trees are actually not needed to solve this problem efficiently.)</p>
<p>有 n 個 [l<sub>i</sub>, r<sub>i</sub>]，詢問一個點 x 被多少個區間包含，輸出為一個整數。</p>
<p>a. 使用 segment tree 儲存所有的 interval。</p>
<p>對於其 node(u) 會 cover(l, r) 的區間，紀錄有多少區間 cover(l, r)，最多有 <em> 2n </em> 個葉節點，樹節點最多 <em> 4n </em> 個，每個 node 只有一個額外的整樹紀錄區間個數。然而一個區間最多被拆分 <em> O(log n) </em> 個，依序插入需消耗共計 <em> O(n log n) </em> 時間。</p>
<p>preprocessing time : <strong><em> O(n log n) </em></strong><br>query time : <strong><em> O(log n) </em></strong><br>store space : <strong><em> O(n) </em></strong></p>
<p>b. 使用 inteerval tree 處理 interval。</p>
<p>對於每個 node 分別對左右兩側建造平衡樹，這個平衡樹要支持某數字是第 k 大或第 k 小的操作。對於一個 node 而言，會有數個區間交 node.x，假設詢問點 qx 在 node.x 左側，則根據左側的平衡樹，查找 qx 是第 k 小，用以回報個數。每一個區間對多在 2 個平衡樹中，故空間複雜度為 <em> O(n) </em>。</p>
<p>preprocessing time : <strong><em> O(n log n) </em></strong><br>query time : <strong><em> O(log<sup>2</sup> n) </em></strong><br>store space : <strong><em> O(n) </em></strong></p>
<p>c. 使用 simple binary search tree。</p>
<ol>
<li>將 n 個線段的端點，共計 2n 個丟入 binary search tree。</li>
<li>每一個 node 紀錄有多少個區間包含它，如果 node 是某個線段的右端點，則無視此區間的包含情況。</li>
<li>對於每個詢問 qx，輸出 node = lower_bound(qx) 的包含結果。</li>
</ol>
<p>將所有端點排序後，會得到 [a<sub>0</sub>, a<sub>1</sub>, a<sub>2</sub>, …, a<sub>2n</sub>]，每一個 node 的資訊是 [a<sub>i</sub>, a<sub>i+1</sub>) 的區間包含訊息。簡單地說，切成最小塊的相鄰資訊，與 segment tree 反過來的概念。</p>
<p>前處理使用 line sweep algorithm 掃描線算法，來找到每一個端點被多少個線段包含。掃描線算法需要 <em> O(n log n) </em>，binary search tree 只需要 <em> O(n) </em>，查找 lower_bound 只需要 <em> O(log n) </em>，保證最多 2n 個端點，樹最多使用 <em> O(n) </em> 個空間。</p>
<p>preprocessing time : <strong><em> O(n log n + n) = O(n log n) </em></strong><br>query time : <strong><em> O(log n) </em></strong><br>store space : <strong><em> O(n) </em></strong></p>
<h3 id="10-7"><a href="#10-7" class="headerlink" title="10.7"></a>10.7</h3><p>a. We want to solve the following query problem: Given a set S of n disjoint line segments in the plane, determine those segments that intersect a vertical ray running from a point (qx,qy) vertically upwards to infinity. Describe a data structure for this problem that uses O(nlogn) storage and has a query time of O(logn+k), where k is the number of reported answers.<br>b. Now suppose we only want to report the first segment hit by the query ray. Describe a data structure for this problem with O(n) expected storage and O(logn) expected query time. Hint: Apply the locus approach</p>
<p>給定 n 個不相交的線段，詢問一點開始的射線，射線方向向 y 軸正向，輸出所有交到的線段。</p>
<p>a. 使用 segment tree，依照所有的端點的 x 值，接著對於每個 node 建造以 y 值得 binary search tree，儲存數個線段，因為不相交，保證 binary search tree 在 [xl, xr] 區間的所有線段都是單調的。每個線段最多切成 <em> O(log n) </em>，故使用空間 <em> O(n log n) </em>，詢問 <em> O(log n + k) </em>，只須訪問 <em> O(log n) </em> 個節點，從 binary tree tree 最遠的開始往下輸出即可。</p>
<p>b. 只找第一個碰到的線段，使用 trapezoidal map 找到 point location，走訪 DG 其最後一個 segment below 的情況就是輸出結果。已知 trapezoidal map 在隨機增量算法中，expected size of search structure <em> O(n) </em>，expected query time <em> O(log n) </em>。</p>
<h2 id="Chapter-11"><a href="#Chapter-11" class="headerlink" title="Chapter 11"></a>Chapter 11</h2><h3 id="11-1"><a href="#11-1" class="headerlink" title="11.1"></a>11.1</h3><p>In Chapter 1 we defined the convex hull of a set P of points as the intersection of all convex sets containing the points. In the current chapter we saw another definition: the convex hull of P is the set of all convex combinations of the points in P. Prove that these two definitions are equivalent, that is, prove that a point q is a convex combination of points in P if and only if q lies in every convex set containing P.</p>
<p>首先 convex combinations 指得是<span>$q = \sum_{i = 1}^{n} \lambda_{i} p_{i}, \lambda_{i} \geq 0, \sum_{i = 1}^{n} \lambda_{i} = 1$</span><!-- Has MathJax -->，證明 q 會在所有的凸包集中，也就是 q 點相當於任抓幾點出來，會在這幾點形成的凸包中，公式計算類似物理上的質心計算。</p>
<p>(=&gt;)<span>$q = \sum_{i = 1}^{n} \lambda_{i} p_{i}, \lambda_{i} \geq 0, \sum_{i = 1}^{n} \lambda_{i} = 1$</span><!-- Has MathJax -->. Prove q lies in every convex set containing P.</p>
<ul>
<li>Base :  <span>$n = 2, q = \lambda_{1} p_{1} + \lambda_{2} p_{2}$</span><!-- Has MathJax -->, q lies on segment p<sub>1</sub>p<sub>2</sub>, which must be a subset of every convex set containing p<sub>1</sub>, p<sub>2</sub>.</li>
<li>Suppose:  <span>$n \le k$</span><!-- Has MathJax --> 均成立，當 <em> n = k + 1 </em> 時<span>$\lambda_{k+1} = 0$</span><!-- Has MathJax --> 必定成立。  </li>
</ul>
<span>$$\begin{align}
&amp; q = \lambda_{1} p_{1} + \lambda_{2} p_{2} + ... + \lambda_{k} p_{k} + \lambda_{k+1} p_{k+1} \\
&amp; = (1 - \lambda_{k+1}) \left [ \frac{\lambda_{1}}{1 - \lambda_{k+1}} p_{1} + \frac{\lambda_{2}}{1 - \lambda_{k+1}} p_{2} + ... + \frac{\lambda_{k}}{1 - \lambda_{k+1}} p_{k} \right ] + \lambda_{k+1} p_{k+1} \\
&amp; = (1 - \lambda_{k+1}) ({\lambda_{1}}&apos; p_{1} + {\lambda_{2}}&apos; p_{2} + ... + {\lambda_{k}}&apos; p_{k}) + \lambda_{k+1} p_{k+1} \\
&amp; \text{where } {\lambda_{i}}&apos; = \frac{\lambda_{i}}{1 - \lambda_{k+1}}, \lambda_{1} + \lambda_{2} + ... + \lambda_{k} = 1 - \lambda_{k+1} \\
&amp; \sum_{i = 1}^{k} {\lambda_{i}}&apos; = \sum_{i = 1}^{k} \frac{\lambda_{i}}{1 - \lambda_{k+1}} = \frac{1}{1 - \lambda_{k+1}} \sum_{i = 1}^{k} \lambda{i} = 1
\end{align}$$</span><!-- Has MathJax -->  
<p>Hence, the point<span>${q}&apos; = \sum_{i=1}^{k} {\lambda_{i}}&apos; p_{i}$</span><!-- Has MathJax --> is convex combination of p<sub>1</sub>, p<sub>2</sub>, …, p<sub>k</sub>, q’ lies every convex set containing the them.  </p>
<span>$q = (1 - \lambda_{k+1}) {q}&apos; + \lambda_{k+1} p_{k+1}$</span><!-- Has MathJax -->  
<p>every convex set containing p<sub>1</sub>, p<sub>2</sub>, …, p<sub>k</sub>, q’. Since it also contains p<sub>k+1</sub> the set must contain q as a convex combination of two points.<br>(&lt;=) Prove q lies in every convex set containing P =&gt;<span>$q = \sum_{i = 1}^{n} \lambda_{i} p_{i}, \lambda_{i} \geq 0, \sum_{i = 1}^{n} \lambda_{i} = 1$</span><!-- Has MathJax --><br>In particular, q lies in the smallest convex set, the convex hull of P. Triangulate the convex hull, q must lie in one of the triangles<span>$\triangle p_{1} p_{2} p_{3}$</span><!-- Has MathJax -->. Connect q to p<sub>1</sub>, p<sub>2</sub>, p<sub>3</sub>. This partitions the triangle into tree smaller ones.  </p>
<span>$$\left\{\begin{matrix}
\triangle p_{1} p_{2} p_{3} = A \\
\triangle q p_{2} p_{3} = A_{1} \\ 
\triangle q p_{1} p_{3} = A_{2} \\ 
\triangle q p_{1} p_{2} = A_{3} \\
A = A_{1} + A_{2} + A_{3}
\end{matrix}\right. \Rightarrow q = \frac{A_{1}}{A} p_{1} + \frac{A_{2}}{A} p_{2} + \frac{A_{3}}{A} p_{3}$$</span><!-- Has MathJax -->  
<p>得證。</p>
<h3 id="11-2"><a href="#11-2" class="headerlink" title="11.2"></a>11.2</h3><p>Prove that the worst case running time of algorithm CONVEXHULL is O(n3), and that there are sets of points where a bad choice of the random permutation makes the algorithm actually need Θ(n3) time.</p>
<p>CONVEXHULL 共有三層 for loop.</p>
<ul>
<li>LINE 7 如果每次的新加入的 p<sub>i</sub> 都在 convex hull 外面，即 F<sub>conflict</sub>(p<sub>i</sub>) 非空。</li>
<li>LINE 10<span>$e \in \pounds$</span><!-- Has MathJax -->，而最多有 i - 1 個，投影的情況下，最多 i 個點都在凸包上，因此最多產生 i - 1 個 facets。</li>
<li>LINE 18 對每個新加入的 facets 最多增加 n - i 個 conflict 點。</li>
</ul>
<p>故最慘 O(n<sup>3</sup>)。</p>
<h3 id="11-6"><a href="#11-6" class="headerlink" title="11.6"></a>11.6</h3><p>Describe a data structure that allows you to test whether a query point q lies inside a convex polytope with n vertices in R3. (Hint: Use the results from Chapter 6.)</p>
<p>快速判斷一個點是否在 3D convex hull 中。</p>
<ul>
<li>方案一：3D point location by 3D trapezoidal map. 感覺非常難做，弄出很多柱狀體。</li>
<li>方案二：convex hull 最多會有 3n - 6 個面，最多有 3n - 6 個面不等式，判斷是否全在同一側 <em> O(n) </em>。</li>
<li>方案三：將做好的 3D convex hull，將所有點投影到 x-y 平面，每一個梯形區域會由 2 個 convex hull 的面覆蓋，要不沒有面。對於投影的 2D 建造 trapezoidal map。query 一個點 q 時，先投影到 x-y 平面，找到所在的梯形區域，針對兩面的不等式進行判斷。預處理 <em> O(n log n) </em>，詢問 <em> O(log n) </em>。</li>
</ul>
<h3 id="11-8"><a href="#11-8" class="headerlink" title="11.8"></a>11.8</h3><p>Describe a randomized incremental algorithm to compute the intersection of half-planes, and analyze its expected running time. Your algorithm should maintain the intersection of the current set of half-planes. To figure out where to insert a new half-plane, maintain a conflict graph between the vertices of the current intersection and the half-planes that are still to be inserted.</p>
<ul>
<li><p>維護半平面 hi 與 Sj 的相交資訊。</p>
</li>
<li><p><code>add half-place</code><br>繞外部 (半平面的另一側的凸包邊) 的 edge e，將 h<sub>conflict</sub>(e) 移除掉 intersection(e, h<sub>conflict</sub>(e)) in<span>$\bar{h_{i}}$</span><!-- Has MathJax -->。<br>期望值的複雜度依賴中間過程中產生的交集點個數。</p>
</li>
<li><p>假設 c(H, h) 表示 inter(H) 和 h 的 conflict vertice 個數。<br>則<span>$\sum_{i = 1}^{n} \left [ \frac{2}{i} \sum_{h \in S \setminus S_{i} }{c(H,  h)} \right ]$</span><!-- Has MathJax -->－所有的花費。  </p>
</li>
</ul>
<span>$$E[c(S_{i}, h_{i})] = \frac{1}{n-i} \sum_{h \in S \setminus S_{i} } c(S_{i}, h) \\
\Rightarrow \sum_{i = 1}^{n} \left ( \frac{2}{i} \sum_{h \in S \setminus S_{i} }{c(H,  h)} \right ) = \sum_{i = 1}^{n} \left ( \frac{2}{i} \sum_{h \in S \setminus S_{i} }{E(S_{i},  h_{i-1})} \right ) \\
= \sum_{i = 1}^{n} \left ( \frac{2}{i} (n - i) E(S_{i},  h_{i-1}) \right ) = \sum_{i = 1}^{n} \left ( \frac{2(n-i)}{i} E[\text{the number of of vertices destroy ed at i+1}] \right )$$</span><!-- Has MathJax -->  
<p>對於每一個 vertice v 被創建的時間為 tc(v), 被移除的時間 td(v)。</p>
<span>$$\sum_{i = 1}^{n} \left ( \frac{2(n-i)}{i} E[\text{the number of vertices destroy ed at i+1}] \right ) \\
= \sum_{v} \frac{2(n - td(v) + 1)}{td(v) - 1} \le \sum_{v} \frac{2(n - tc(v)) + 2}{tc(v)} \\
\le \sum_{n}^{i=1} \frac{2(n - i) + 2}{i} E[\left |v \mid tc(v) = i \right |] \\
= \sum_{n}^{i=1} \frac{2(n - i) + 2}{i} \times 2
= O(\sum_{n}^{i=1} \frac{n}{i} - 1) = O(n ln n)$$</span><!-- Has MathJax -->  
<p>得證。</p>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-lesson-database" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/12/17/lesson-database/" class="article-date">
  <time datetime="2014-12-17T05:13:28.000Z" itemprop="datePublished">2014-12-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/學校課程/">學校課程</a>/<a class="article-category-link" href="/categories/學校課程/資料庫系統/">資料庫系統</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/12/17/lesson-database/">資料庫系統－劉寶鈞</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/12/17/lesson-database/" data-id="ckgyo55em009v3cvrep0agd3v" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/12/17/lesson-database/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/資料庫系統/">資料庫系統</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/鬼畜/">鬼畜</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <blockquote>
<p>single value function 的意思？問問 <strong> 劉寶鈞 </strong> 老師 吧！</p>
</blockquote>
<h2 id="課程心得"><a href="#課程心得" class="headerlink" title="課程心得"></a>課程心得</h2><p><strong> 強烈建議遠離 </strong> 此課程，分析如下描述，<strong> 劉寶鈞 </strong> 老師強烈建議把定義背得一模一樣，最好不要翻譯，因為很難達到一樣的水平，也很難說好。資料庫歷史悠久，因此歷史課程會持續一陣子，課程內容並沒有相當多的實務經驗。老師秉持著數年專業，保證嚴格批閱所有考卷。</p>
<p>如果沒人抱怨，我來說說這鬼畜的經歷，絕不能讓其消散。</p>
<h2 id="期中考分析"><a href="#期中考分析" class="headerlink" title="期中考分析"></a>期中考分析</h2><blockquote>
<p>保證題目描述與錯字 100% 複製考卷</p>
</blockquote>
<ol>
<li><p>傳統檔案系統為何不能共享 而資料庫如何做到可以共享？(10 分)<br><strong> 傳統檔案系統的資料存在各自的電腦中，而且格式不一，有相當大的重複資料，由於各自管理所需要的資料，更新時間也會不一致，因此在共享的支援相當不利，共享的結果不一定是最新、不能同時匹配在不同的電腦中的資料。</strong><br><strong> 資料庫系統將資料集中化管理，收集到同一個系統中，並且藉由 SQL 中的 DML 支持使用者進行共享資料的存取、檢索，由系統管理同一時間多名使用者對資料的存取。</strong><br>上述為零分作答，劉寶鈞老師說明若沒提到 <code>SCHEME DATA</code> 一律零分。</p>
</li>
<li><p>以 Relation Model 為例 說明 Data Model 之三要素。(10 分)<br>略說－有 資料表示法、資料的操作、約束條件，舉幾個例子便可完事。<br>此題作答還算正常，但是沒有舉例子大致上會被扣到慘不忍睹。</p>
</li>
<li><p>比較說明 DDL 及 DML。(10 分)<br>略說－Data Definition Language、Data Manipulation Language，分別是定義資料庫、資料表用的，另一個是對使用者詢問、操作資料。<br>此題作答還算正常，但是沒有舉例子大致上會被扣到慘不忍睹。</p>
</li>
<li><p>何謂 3-value logic ？並證明 <code>P OR (NOT P) = 1</code> 在 2-value logic 是成立的，但在 3-value logic is not always true。(10 分)<br>3-value logic 分別為 <code>true</code>, <code>false</code>, <code>unknown</code>。    </p>
</li>
</ol>
<p>在 2-value 中</p>
<table>
<thead>
<tr>
<th>P</th>
<th>NOT P</th>
<th>P OR (NOT P)</th>
</tr>
</thead>
<tbody>
<tr>
<td>T</td>
<td>F</td>
<td>T</td>
</tr>
<tr>
<td>F</td>
<td>T</td>
<td>T</td>
</tr>
</tbody>
</table>
<p>在 3-value 中</p>
<table>
<thead>
<tr>
<th>P</th>
<th>NOT P</th>
<th>P OR (NOT P)</th>
</tr>
</thead>
<tbody>
<tr>
<td>T</td>
<td>F</td>
<td>T</td>
</tr>
<tr>
<td>F</td>
<td>T</td>
<td>T</td>
</tr>
<tr>
<td>unknown</td>
<td>unknown</td>
<td>unknown</td>
</tr>
</tbody>
</table>
<p>用 0 表示 false, 1 表示 true, 1/2 表示 unknown，AND = MIN, OR = MAX, NOT = 1 - x。<br>=&gt; P = 1/2, P OR (NOT P) = MAX(0.5, 1 - 0.5) = 0.5 = unknown。</p>
<p>unknown 不屬於 true，因此 3-value 在 <code>P OR (NOT P) = 1</code> not always true。<br>以上作答零分，劉寶鈞老師在考卷上對 <code>unknown</code> 用紅筆寫了 <code>What ?</code> 一開始直接零分，之後才勉為其難拿到五分。投影片上面也這麼寫的，到底在 <code>What ?</code> 什麼勁，你自己拿出來講的東西上都這麼寫，寫下去分數還沒有？</p>
<ol>
<li><p>寫出若含 NULL value 五個 single value function 的規則。(10 分)<br>WHAT the fuck about <code>single value function</code> ?<br>略列表 AND OR NOT EQUAL PRODUCT 的幾種情況。<br>上述為零分作答，劉寶鈞老師說明 single value function 的要寫出 aggregate function。我問老師「為什麼不直接寫 aggregate function？」老師回答道「就是故意不這麼寫。」</p>
</li>
<li><p>寫出 SQL query 之 SELECT, FROM, WHERE, GROUP BY, HAVING 之義意。(10 分)<br>錯字直接按表抄，這一題原本對於 HAVING 的解釋不夠完善，掛掉直接只剩下五分。WTF，五個定義錯一個就直接砍一半分數？對於 HAVING 只有寫提供 WHERE 無法進行 aggregation function 的判斷條件，必須與 GROUP BY 一起使用。這樣難道錯了嗎？GROUP BY 都解釋了，你還說我錯？</p>
</li>
</ol>
<h2 id="結語"><a href="#結語" class="headerlink" title="結語"></a>結語</h2><p>我不是肚子裡的肥蟲，一定是我蠢得無可救藥，拿了不及格的成績？</p>
<p>很久沒有衝動想要殺人，這下子又開始想殺人。</p>
<p>助教不替老師改考卷，讓老師這樣改考卷行嗎？</p>
<p>我是個壞學生，這門課真的氣死人，出口罵髒話根本不足以洩憤。</p>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-lesson/civilization-w11" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/12/05/lesson/civilization-w11/" class="article-date">
  <time datetime="2014-12-05T07:47:24.000Z" itemprop="datePublished">2014-12-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/學校課程/">學校課程</a>/<a class="article-category-link" href="/categories/學校課程/通識課程/">通識課程</a>
  </div>

  </div>
  <div class="article-inner ">
    
<div class="article-gallery">
  <div class="article-gallery-photos">
    
      <a class="article-gallery-img fancybox" href="http://i.imgur.com/NA67biS.png" rel="gallery_ckgyo56li029p3cvr6jrjck1v">
        <img src="http://i.imgur.com/NA67biS.png" itemprop="image">
      </a>
    
  </div>
</div>

    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/12/05/lesson/civilization-w11/">[通識] 文明的進程 Week 11</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/12/05/lesson/civilization-w11/" data-id="ckgyo56li029p3cvr6jrjck1v" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/12/05/lesson/civilization-w11/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/通識/">通識</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h1 id="主題－攻擊欲的轉變"><a href="#主題－攻擊欲的轉變" class="headerlink" title="主題－攻擊欲的轉變"></a>主題－攻擊欲的轉變</h1><p>不知何時開始，人們對於暴力行為開始無法容忍，逐漸地喪失對於暴力的經驗。曾經也打過架，恨不得把對方殺了，即使捶得再大力也弄不出傷口來，也許被馴化的怒火無法傷害任何人，只剩下精神上的威嚇。拿刀殺人的場景不是在電視情節中，就只能在夢裡、幻想裡去想這些。</p>
<p>同類相互攻擊在大自然中常見不過的事，為什麼在人類身上卻逐漸消失？沒錯！因為我們有穿越好幾世代的外部記憶體－文化。</p>
<h2 id="攻擊欲"><a href="#攻擊欲" class="headerlink" title="攻擊欲"></a>攻擊欲</h2><p>曾經的人們為了生活，長久時間的定居，明天在哪都不曉得。只要一戰爭，贏了高興，輸了什麼都沒，生命就是這麼地短暫，中古世紀曾有一段話「看見死亡才能安心、吃得好、睡得好」那是在什麼樣的生存條件下，活著不是殺死對方，又是被殺、被壓迫的日子。面對死亡才能安心，這才是真正的活著！「<strong> 未知死，焉知生 </strong>」古人說得有道理。</p>
<p>為什麼至今仍有黑道白道之分？當白道無法解決的事情，黑道顯得更有威震力，看看「<a href="http://zh.wikipedia.org/wiki/%E5%B1%B1%E5%8F%A3%E7%B5%84" target="_blank" rel="external">日本黑道山口組</a>」在許多電影情節中，黑道的存在反而凸顯了到底是傾聽社會聲音做事？還是聽從自己的本能。社會給予的牢籠，促使我們不做暴力的行為，隱藏自己的情感，然而這些情感去哪了？</p>
<p>沒有暴力的行為，如何表示自己的不滿？敵意？產生出的無力感、關係冷漠、義憤，用另外一種方式宣洩自己的攻擊欲，「<strong> 如果這些世界不接受我，那就摧毀這個世界吧！ </strong>」沒了直來直往的暴力世界，卻產生出兩個極端的世界，被壓抑著暴力的人們何時會爆發呢？</p>
<p>殘暴的必要性－對敵人寬厚，就是壯大對方，未來必有危害，「斬草不除根，春風吹又生」不殺行嗎？用仁慈看那個世界，你就是找死！然而現今的攻擊欲，單純的攻擊欲也傷不了任何人，用武器所需要的技術越來越高，沒有技術也殺不死人，這片高牆越來越高厚呢。</p>
<h2 id="陽剛"><a href="#陽剛" class="headerlink" title="陽剛"></a>陽剛</h2><p>起初所謂的陽剛只得是什麼？不正是那殘暴的事實嗎？現今看看那些陽剛的定義，早已經被陰柔化，受到捧吹的帥哥又是在古時的男人嗎？追求性別平等的代價，造成暴力的消失，如果還要展現自己的暴力，只能迂迴表達自己那一身的肌肉。</p>
<h2 id="行刑"><a href="#行刑" class="headerlink" title="行刑"></a>行刑</h2><p>既然沒法殺人，公開行刑正是大眾娛樂，一個人被處刑，整座城市的人都在看，這是為什麼？在電影情節中，殺人的血腥畫面是否令人振奮？追求安心才是本能！</p>
<p>現在有很多不殺人的行刑，例如剝奪尊嚴，相當於利用羞恥感、價值觀的攻擊，文化的禁忌－身體的隱蔽性，這還不讓人精神崩潰嗎？讓一個人不成人形的方式很多，精神是如此地脆弱。</p>
<h2 id="死亡"><a href="#死亡" class="headerlink" title="死亡"></a>死亡</h2><p>過去人們很難活長，活到三、四十歲就算有幸，也因為戰爭死亡相當常見，如果人們對死亡感到悲傷，豈不是沒辦法過生活？整年都要哭天喊地的，你能說他們無情嗎？不行，他們本應該這麼做，否則沒辦法前進。</p>
<p>古人很容易 <strong> 認命 </strong>，對於前途未卜的不安，明天還能活著嗎？戰爭就在那麼一夕之間開打，生計被土地綁著，想走也走不了。有一夜沒一夜的的恐懼，「<strong> 今宵有酒今宵醉 </strong>」死了就什麼都沒了，為何不現在享用？總是 <strong> 盤算未來 </strong>，那是你們現代人的奢侈。</p>
<p>血濃於水，資產階級興起後，家族之間的私鬥相當常見，衝突一來，不少家族因此滅絕。信得過的人只有血緣關係的人，不要說為何當官的都想找自己人，找不同處境的人，不怕在背後被人捅一刀嗎？(不論豬隊友)</p>
<p><strong> 活在當下，並非沒有遠見、逃避現實 </strong>，誰知道明天在哪？那等絕望，你還有盤算未來的本錢嗎？</p>
<h2 id="剝奪"><a href="#剝奪" class="headerlink" title="剝奪"></a>剝奪</h2><p>如何表示對別人的不滿？當下只剩下視覺的攻擊，作為一個活在現代的人，動手動腳就已經輸一半，觸覺已被作為侵略他人身體的領域，嗅覺則不能作為認識人的方法 (因為那如野獸一樣)。</p>
<p>視覺已成為唯一攻擊欲的發揮。觀賞球類運動也是如此，作為球迷欣賞支持的隊伍侵略，但自己除了看，什麼事情都不能做，一旦做了就是不文明的舉動。</p>
<p>暴力遊戲會使得人暴力嗎？愚蠢的人們啊，在怎麼轉換情感，也不可能百分百的宣洩。</p>
<h2 id="魅力化"><a href="#魅力化" class="headerlink" title="魅力化"></a>魅力化</h2><p>論吸血鬼、狼人的暴力魅力化，腐女們準備好了嗎？</p>
<p>以下開放暴動。本文 … 略。</p>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-lesson/NLP-paper2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/12/05/lesson/NLP-paper2/" class="article-date">
  <time datetime="2014-12-05T01:39:42.000Z" itemprop="datePublished">2014-12-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/學校課程/">學校課程</a>/<a class="article-category-link" href="/categories/學校課程/自然語言/">自然語言</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/12/05/lesson/NLP-paper2/">自然語言處理 論文研讀 2</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/12/05/lesson/NLP-paper2/" data-id="ckgyo56kl02933cvrteggmtm3" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/12/05/lesson/NLP-paper2/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/自然語言/">自然語言</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h1 id="著重目標"><a href="#著重目標" class="headerlink" title="著重目標"></a>著重目標</h1><p>即使 Unigram 效果已經相當不錯，基於人類日常對話的模式，絕非單詞相依無關，藉由好幾個連詞表示出不同的意思是常有的事情，探討 n-grams (n &gt; 3) 對於當前的語意分類器的強化、優化。</p>
<h1 id="已知問題"><a href="#已知問題" class="headerlink" title="已知問題"></a>已知問題</h1><p>當 n-grams (n &gt; 3) 時，語意的模糊性質會提高，可能同時把正反兩面的詞放置在一起，如此一來這一組的利用價值並不高，在計算分類上會將精準度稀釋，同時對於記憶體的負荷也會增加 (必須記錄各種組合，例如化學元素與化合物的數量大小關係)。</p>
<p>接著 n-grams 通常是用在英文處理精準度比較好，因為 <strong> 單詞分明 </strong> (藉由空白隔開)，對於機器而言中文句子並不存在詞 (token)，都是一堆字元 (character)。</p>
<p>研究顯示：<strong> 漢字順序並不一定影響閱讀 </strong></p>
<blockquote>
<p>請看下述文字－研究顯示：漢字序順並不定一影閱響讀。</p>
</blockquote>
<p>對於中文自然語言處理，斷詞的重要性、語意處理上有額外的研究領域，在這裡暫時不談論這些。也許可以談談看不考慮順序的 n-grams，型態從 tuple 變成 dag。</p>
<h1 id="分類器"><a href="#分類器" class="headerlink" title="分類器"></a>分類器</h1><p>分類器分成線上訓練、離線訓練，就已知得到目前 SVM 仍然在實務上的效果是最好的，在這裡不談論 SVM，一部分原因是 SVM 太慢。</p>
<p>下面是在不同領域的分類器構思，線上訓練、線性調整。大多數的分類器都必須定義特徵，對於每一個要分辨的項目是否存有這一個特徵 (boolean)，而在部分可允許模糊的模型，可以利用權重 (float) 表示特徵強弱。</p>
<h2 id="類神經網路"><a href="#類神經網路" class="headerlink" title="類神經網路"></a>類神經網路</h2><h3 id="Passive-Aggressive-Algorithm"><a href="#Passive-Aggressive-Algorithm" class="headerlink" title="Passive-Aggressive Algorithm"></a>Passive-Aggressive Algorithm</h3><p>對於感知機的內容所知不多，每加入一筆結果，將劃分的依準疊加上預期的法向量，成為新的劃分依準線。大多依靠數學的微積分來完成，並非完全相信新加入的結果，因此會有一個計算的權重，來權衡影響的大小。</p>
<p>訓練流程：</p>
<span>$$\begin{align}
&amp; \text{INITIALIZE : } w_{1} = (0 ... 0) \text{ as parameters of the classifier} \\
&amp; \text{For } t = 1, 2, ... \\

&amp; \text{receive instance : } x_{t} \in R^{n} \\
&amp; \text{predict : } \hat{y_{t}} = sign(w_{t}, x_{t}) \\
&amp; \text{receive correct label : } y_{t} \in {-1, +1} \\
&amp; \text{suffer loss : } l_{t} = max\left \{  0, 1 - y_{t}(w_{t} \cdot x_{t}) \right \} \\
&amp; \text{update-1: set : } \tau_{t} = \frac{l_{t}}{\left \| x_{t} \right \|^{2}} \\
&amp; \text{update-2: update : } w_{t+1} = w_{t} + \tau_{t} y_{t} x_{t}
\end{align}$$</span><!-- Has MathJax -->
<h2 id="自然語言"><a href="#自然語言" class="headerlink" title="自然語言"></a>自然語言</h2><h3 id="Language-Modeling"><a href="#Language-Modeling" class="headerlink" title="Language Modeling"></a>Language Modeling</h3><p>就如上課內容所講的</p>
<span>$$\begin{align}
P(s) = \prod_{i = 1}^{l} P(w_{i}|w_{1}^{i-1})
\end{align}$$</span><!-- Has MathJax -->
<p>用 Good Turing 的方式去 smoothing 那些從未在模型中出現的詞語，它們是有機會的，絕非是機率 0。</p>
<h2 id="機器學習"><a href="#機器學習" class="headerlink" title="機器學習"></a>機器學習</h2><h3 id="Winnow-algorithm"><a href="#Winnow-algorithm" class="headerlink" title="Winnow algorithm"></a>Winnow algorithm</h3><p>設定一個閥值作為是否存在此分類的依據，隨後根據閥值調整相關數據的參數大小。</p>
<span>$h(x) = \sum_{w \in V}^{} f_{w}c_{w}(x)$</span><!-- Has MathJax -->
<span>$f_{w}$</span><!-- Has MathJax --> 是需要調整的參數<span>$c_{w}(x)$</span><!-- Has MathJax --> 為資料在每一個特徵的權重向量，運算內積值為<span>$h(x)$</span><!-- Has MathJax -->。<br><br>訓練流程：<br><br><span>$$\begin{align}
&amp; \text{Initialize all } f_{w} \text{ to 1.} \\
&amp; \text{For each labeled revies x in the training set : } \\
&amp; \text{Step 1. Calculate } h(x) \\
&amp; \text{Step 2-1. If the revies is positive but Winnow predicts it as negative } \\ 
&amp; h(x) &lt; V \text{ , update the weight} f_{w} \text{ where } c_{w}(x) = 1 \text{ by } f&apos;_{w} = f_{w} \times 2 \\
&amp; \text{Step 2-2. If the revies is negative but Winnow predicts it as positive } \\ 
&amp; h(x) &gt; V \text{ , update the weight} f_{w} \text{ where } c_{w}(x) = 1 \text{ by } f&apos;_{w} = f_{w} / 2 \\
\end{align}$$</span><!-- Has MathJax -->
<p>簡單來說，當判斷錯誤時，將相關的 (它有的) 特徵係數權重調整，將其變大使得納入分類中、或者將其變小踢出分類中。</p>
<h1 id="調和"><a href="#調和" class="headerlink" title="調和"></a>調和</h1><p>為了加入 n-grams (n &gt; 3) 的機制，必然要學習 <strong> 忘記 </strong>、 <strong> 無視 </strong> 的才能，才能將垃圾訊息給捨去掉。同時也是降低記憶體的耗存的方法，這裡無法像人類有辦法根據時間將單詞組合抽象化，等到哪天 <strong> HTM 腦皮質學習算法 </strong> 成功實作，相信在取捨上會更為流暢。</p>
<p>對於每一個特徵給予分數，保留前 K 好的特徵進行訓練，其餘特徵捨去，至於要保留的 K 大小將由實驗結果進行測試。</p>
<p>分數計算：</p>
<ul>
<li>A：同一分類下，該屬性使用的資料筆數</li>
<li>B：在其他分類下，該屬性被使用的資料筆數</li>
<li>C：同一分類下，該屬性不使用的資料筆數</li>
<li>D：在其他分類下，該屬性不被使用的資料筆數</li>
<li>t：屬性</li>
<li>c：分類</li>
</ul>
<span>$$\begin{align}
x^{2}(t, c) = \frac{N \times (AD - CB)^{2} }{(A+C)\times (B + D) \times (A + B) \times (C + D)}
\end{align}$$</span><!-- Has MathJax -->
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>論文中提到，分別去了 50K、100K、200K 個分數高的 n-grams，又分別在 n = 3, 4, 5, 6 下進行測試，效果有那麼一點點地提升。</p>
<p>接著就是考驗我們期末 Project 要怎麼體現這篇論文的思路、擴充。</p>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/categories/學校課程/page/7/">&laquo; Prev</a><a class="page-number" href="/categories/學校課程/">1</a><span class="space">&hellip;</span><a class="page-number" href="/categories/學校課程/page/6/">6</a><a class="page-number" href="/categories/學校課程/page/7/">7</a><span class="page-number current">8</span><a class="page-number" href="/categories/學校課程/page/9/">9</a><a class="page-number" href="/categories/學校課程/page/10/">10</a><span class="space">&hellip;</span><a class="page-number" href="/categories/學校課程/page/12/">12</a><a class="extend next" rel="next" href="/categories/學校課程/page/9/">Next &raquo;</a>
    </nav>
  
</section>
          
          
            <aside id="sidebar">
  <!-- <div id="ukagaka_panel"></div> -->
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/">學校課程</a><span class="category-list-count">115</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/介面設計/">介面設計</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/作業系統/">作業系統</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/即時系統/">即時系統</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/大學專題/">大學專題</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/巨量資料/">巨量資料</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/平行程式/">平行程式</a><span class="category-list-count">43</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/敏捷方法/">敏捷方法</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/數位影像生成/">數位影像生成</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/編譯器/">編譯器</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/自然語言/">自然語言</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/虛擬實境/">虛擬實境</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/計算型智慧/">計算型智慧</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/計算幾何/">計算幾何</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/計算機圖學/">計算機圖學</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/資料庫系統/">資料庫系統</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/資訊安全/">資訊安全</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/通識課程/">通識課程</a><span class="category-list-count">14</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/">工作應用</a><span class="category-list-count">15</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/Java/">Java</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/可持久化/">可持久化</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/鬼故事/">鬼故事</a><span class="category-list-count">6</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/手札日記/">手札日記</a><span class="category-list-count">43</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/">網頁設計</a><span class="category-list-count">15</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/About-This-Blog/">About This Blog</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/HTML5/">HTML5</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/JQuery/">JQuery</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/Markdown/">Markdown</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/NodeJs/">NodeJs</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/">解題區</a><span class="category-list-count">633</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/Latex/">Latex</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/出題解題/">出題解題</a><span class="category-list-count">23</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-POJ/">解題區 - POJ</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a><span class="category-list-count">483</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-Zerojudge/">解題區 - Zerojudge</a><span class="category-list-count">77</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-其他題目/">解題區 - 其他題目</a><span class="category-list-count">45</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-未解題目/">解題區 - 未解題目</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/雜言筆記/">雜言筆記</a><span class="category-list-count">4</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a class="text" href="/2020/10/31/lesson/ada-2020-hw1-p3/">
              
                <i class="icon-file-o"></i> 
              
            ADA 2020 Fall P3. ADA Party</a>
          </li>
        
          <li>
            <a class="text" href="/2020/10/31/lesson/ada-2020-hw1-p2/">
              
                <i class="icon-file-o"></i> 
              
            ADA 2020 Fall P2. Bomb Game</a>
          </li>
        
          <li>
            <a class="text" href="/2020/10/25/diary-202010/">
              
                <i class="icon-file-o"></i> 
              
            資訊科學的偏科生 面試者篇</a>
          </li>
        
          <li>
            <a class="text" href="/2020/10/24/work/company-ghost-story-6/">
              
                <i class="icon-file-o"></i> 
              
            Company Ghost Story 公司鬼故事 6</a>
          </li>
        
          <li>
            <a class="text" href="/2020/09/30/work/company-ghost-story-5/">
              
                <i class="icon-file-o"></i> 
              
            Company Ghost Story 公司鬼故事 5</a>
          </li>
        
          <li>
            <a class="text" href="/2020/09/26/work/company-ghost-story-4/">
              
                <i class="icon-file-o"></i> 
              
            Company Ghost Story 公司鬼故事 4</a>
          </li>
        
          <li>
            <a class="text" href="/2020/09/20/java/java-stream/">
              
                <i class="icon-file-o"></i> 
              
            為什麼不推薦用 Java Stream 改寫迴圈</a>
          </li>
        
          <li>
            <a class="text" href="/2020/09/20/work/company-ghost-story-3/">
              
                <i class="icon-file-o"></i> 
              
            Company Ghost Story 公司鬼故事 3</a>
          </li>
        
          <li>
            <a class="text" href="/2020/09/13/work/company-ghost-story-2/">
              
                <i class="icon-file-o"></i> 
              
            Company Ghost Story 公司鬼故事 2</a>
          </li>
        
          <li>
            <a class="text" href="/2020/09/13/work/company-ghost-story-1/">
              
                <i class="icon-file-o"></i> 
              
            Company Ghost Story 公司鬼故事 1</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    <div class="widget-wrap">
    <h3 class="widget-title">Links</h3>
    <div class="widget">   
      	<ul>
	      <li><a href="http://mypaper.pchome.com.tw/zerojudge" target="_blank" title="Old Blog"><i class="icon-star"></i> Morris' Blog (pchome)</a></li>
	      <li><a href="http://flere114.blogspot.tw/" target="_blank" title="蘿莉勿觸"><i class="icon-googles"></i> flere's Blog</a></li>
	      <li><a href="http://dreamoon4.blogspot.tw/" target="_blank" title="夢月"><i class="icon-googles"></i> dreamoon's Blog</a></li>
	      <li><a href="http://m80126colin.github.io" target="_blank" title="許胖們"><i class="icon-github-alt"></i> m80126colin's Blog</a></li>
	      <li><a href="http://sd12582000.blogspot.tw/" target="_blank" title="妮可妮可"><i class="icon-github-alt"></i> Nico's Blog</a></li>
	      <li><a href="http://kuoe0.logdown.com/" target="_blank" title="郭至軒大神"><i class="icon-github-alt"></i> KuoE0's Dots</a></li>
	      <li><a href="http://tyan.io/" title=""><i class="icon-github-alt"></i> Tyan Blog</a></li>
    	</ul>
    </div>
</div>

  
    
<script src="/js/jquery-ui.js"></script>
<script src="/js/ukagaka/jquery.morris.ukagaka.resource.js"></script>
<script src="/js/ukagaka/typed.js"></script>
<script type="text/javascript">
  $('#ukagaka_panel').ukagaka();
</script>
  
  
</aside>
          
        
      </div>
      <footer id="footer">
  
  <div class="outer">    
    <div class="social-group">
      
      <a href="https://github.com/morris821028" target="_blank" title="github"><i class="icon-github"></i></a>
      
      
      <a href="https://www.facebook.com/Morris1028" target="_blank" title="facebook"><i class="icon-facebook-sign"></i></a>
      
      
      <a href="http://uhunt.felix-halim.net/id/46705" target="_blank" title="uhunt" ><span class="icon-uhunt">UVa<span></a>
      
    </div>
    <div id="footer-info" class="inner">
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and Theme by <a href="https://github.com/morris821028/hexo-theme-landscape" target="_blank" title="landscape">landscape</a> &copy; 2020 Shiang-Yun Yang 
    </div>
  </div>
</footer>


    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link"><i class=icon-home ></i>&nbsp&nbspHome</a>
  
    <a href="/about" class="mobile-nav-link"><i class=icon-user ></i>&nbsp&nbspAbout</a>
  
    <a href="/archives" class="mobile-nav-link"><i class=icon-archive ></i>&nbsp&nbspArchives</a>
  
    <a href="/tags" class="mobile-nav-link"><i class=icon-tags ></i>&nbsp&nbspTags</a>
  
    <a href="/picture" class="mobile-nav-link"><i class=icon-camera ></i>&nbsp&nbspPictures</a>
  
    <a href="/works" class="mobile-nav-link"><i class=icon-trophy ></i>&nbsp&nbspWorks</a>
  
</nav>
    
<script>
  var disqus_shortname = 'morris1028';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//go.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/jquery.lazyload.js"></script>
<script src="/js/jquery.als-1.6.js"></script>

<script src="/js/script.js"></script>

  </div><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
</body>
</html>