<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <title>Category: 解題區 | Morris&#39; Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Morris&#39; Blog">
<meta property="og:url" content="http://morris821028.github.io/categories/解題區/page/54/index.html">
<meta property="og:site_name" content="Morris&#39; Blog">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Morris&#39; Blog">
<link rel="publisher" href="108158678174364350000">
  
    <link rel="alternative" href="/atom.xml" title="Morris&#39; Blog" type="application/atom+xml">
  
  
    <meta name="google-site-verification" content="5mRgj8NanEMpGZuNfHNJNmH90RgNlrnJXsFlTaKD6Gs" />
  
  
    <link rel="shortcut icon" href="/img/f.ico">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <script src="/js/jquery-2.1.0.min.js"></script>
  <link rel="stylesheet" href="/css/style.css">
  
  <link rel="stylesheet" href="http://cdn.oesmith.co.uk/morris-0.5.1.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
<script src="http://cdn.oesmith.co.uk/morris-0.5.1.min.js"></script>
  <!-- <link rel="import" href="/bower_components/app-layout/app-layout.html"> --><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>
<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"><div id="banner-right"></div></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Morris&#39; Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          
            <a class="main-nav-link" href="/"><i class=icon-home title='Home'></i></a>
          
        
          
            <a class="main-nav-link" href="/about"><i class=icon-user title='About'></i></a>
          
        
          
            <a class="main-nav-link" href="/archives"><i class=icon-archive title='Archives'></i></a>
          
        
          
            <a class="main-nav-link" href="/tags"><i class=icon-tags title='Tags'></i></a>
          
        
          
            <a class="main-nav-link" href="/picture"><i class=icon-camera title='Pictures'></i></a>
          
        
          
            <a class="main-nav-link" href="/works"><i class=icon-trophy title='Works'></i></a>
          
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://morris821028.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        
          
          <section id="main">
  
    <article id="post-oj/uva/uva-11663" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/07/24/oj/uva/uva-11663/" class="article-date">
  <time datetime="2014-07-23T23:00:37.000Z" itemprop="datePublished">2014-07-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/07/24/oj/uva/uva-11663/">UVa 11663 - GrayInc</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/07/24/oj/uva/uva-11663/" data-id="ckq5wy52x02rinsvntat9513x" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/07/24/oj/uva/uva-11663/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/格雷碼/">格雷碼</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/窮舉/">窮舉</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>Gray Inc. is a software fabricant specialized in management of Gray codes. An n-binary code, for n <span>$\geq$</span><!-- Has MathJax --> 1, is a sequence of words w0, w1,… that includes every possible binary word of n bits. An n-Gray code is an n-binary code such that between any two consecutive words there is only one bit that changes, i.e., they differ at exactly one position. As you might be aware by now, there are many n-Gray codes.</p>
<p>Gray Inc. produces its own particular kind of Gray code in the following way (name Gn the produced n-Gray code, n <span>$\geq$</span><!-- Has MathJax --> 1):</p>
<span>$$Gn = \left\{\vphantom{ \begin{array}{lr} \langle 0 , 1 \rangle &amp; \... ... (0G_{n-1}) \, (1G_{n-1}^R) &amp; \textrm{if } n \geq 2 \\ \end{array} }\right.
\begin{array}{lr} \langle 0 , 1 \rangle &amp; \textrm{if } n = 1\\ &amp; \\ (0G_{n-1}) \, (1G_{n-1}^R) &amp; \textrm{if } n \geq 2 \\ \end{array}$$</span><!-- Has MathJax -->
<p>The notation defining Gn should be understood as follows:</p>
<span>$bA$</span><!-- Has MathJax --> : appends bit b to every element of the sequence A;<br><span>$AB$</span><!-- Has MathJax --> : concatenates sequences A and B;<br><span>$A^{R}$</span><!-- Has MathJax --> : sequence with the elements of sequence A in reversed order.<br><br>For instance,<br><br>G2      =      (0G1) (1G1R)<br>     =    (0<span>$\displaystyle \langle$</span><!-- Has MathJax -->0, 1<span>$\displaystyle \rangle$</span><!-- Has MathJax -->) (1<span>$\displaystyle \langle$</span><!-- Has MathJax -->0, 1<span>$\displaystyle \rangle^_{}$</span><!-- Has MathJax -->)<br>     =    (0<span>$\displaystyle \langle$</span><!-- Has MathJax -->0, 1<span>$\displaystyle \rangle$</span><!-- Has MathJax -->) (1<span>$\displaystyle \langle$</span><!-- Has MathJax -->1, 0<span>$\displaystyle \rangle$</span><!-- Has MathJax -->)<br>     =    <span>$\displaystyle \langle$</span><!-- Has MathJax -->00, 01<span>$\displaystyle \rangle$</span><!-- Has MathJax --><span>$\displaystyle \langle$</span><!-- Has MathJax -->11, 10<span>$\displaystyle \rangle$</span><!-- Has MathJax -->
<pre><code>=    {% math %}\displaystyle \langle{% endmath %}00, 01, 11, 10{% math %}\displaystyle \rangle{% endmath %}
</code></pre><p>and</p>
<p>G3      =      (0G2) (1G2R)<br>     =    (0<span>$\displaystyle \langle$</span><!-- Has MathJax -->00, 01, 11, 10<span>$\displaystyle \rangle$</span><!-- Has MathJax -->) (1<span>$\displaystyle \langle$</span><!-- Has MathJax -->00, 01, 11, 10<span>$\displaystyle \rangle^_{}$</span><!-- Has MathJax -->)<br>     =    (0<span>$\displaystyle \langle$</span><!-- Has MathJax -->00, 01, 11, 10<span>$\displaystyle \rangle$</span><!-- Has MathJax -->) (1<span>$\displaystyle \langle$</span><!-- Has MathJax -->10, 11, 01, 00<span>$\displaystyle \rangle$</span><!-- Has MathJax -->)<br>     =    <span>$\displaystyle \langle$</span><!-- Has MathJax -->000, 001, 011, 010<span>$\displaystyle \rangle$</span><!-- Has MathJax --><span>$\displaystyle \langle$</span><!-- Has MathJax -->110, 111, 101, 100<span>$\displaystyle \rangle$</span><!-- Has MathJax --><br>     =    <span>$\displaystyle \langle$</span><!-- Has MathJax -->000, 001, 011, 010, 110, 111, 101, 100<span>$\displaystyle \rangle$</span><!-- Has MathJax --></p>
<p>Observe that not only Gn is an n-Gray code, but also a circular Gray code as the first word in the sequence may be regarded as the successor of the last one in the sequence.</p>
<p>Gray Inc. wants your help to solve the following problem: given a binary word w in Gn and a natural number m, they want to produce the binary word in the sequence Gn that is m words ahead w in the listing (of course, considering the circular ordering described above). Can you help them?</p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>The problem input consists of several cases, each one defined by a line with an integer m ( 0 &lt; m <span>$\leq$</span><!-- Has MathJax --> 1000), and a binary n-word w ( 1 <span>$\leq$</span><!-- Has MathJax --> n <span>$\leq$</span><!-- Has MathJax --> 100), separated by one blank.</p>
<p>The end of the input is given by a line with m = 0 and w = 0.</p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>For each input case, your solution should output the n-binary word that is m words ahead of w in the listing of Gn.</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">1 0</div><div class="line">3 0</div><div class="line">1 1</div><div class="line">1 11</div><div class="line">6 011</div><div class="line">123 010101010</div><div class="line">0 0</div></pre></td></tr></table></figure>
<h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">1</div><div class="line">1</div><div class="line">0</div><div class="line">10</div><div class="line">000</div><div class="line">111100100</div></pre></td></tr></table></figure>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p><strong> 題目描述： </strong></p>
<p>根據格雷碼的產生方式，找到某個格雷碼的下 m (m &lt; 1000) 個格雷碼為何。</p>
<p><strong> 題目解法： </strong></p>
<p>由於給定的格雷碼長度可能太長，因此如果要用數學解的話必須搭配大數處理，然而 m 就相對於小，因此直接使用原本的格雷碼窮舉方式，針對給定的格雷碼進行還原操作，還原結束後，開始計數直到指定的格雷碼。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt; </span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></div><div class="line"><span class="comment">//#define DEBUG</span></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">gray</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> k)</span> </span>&#123; <span class="comment">// find k-th gray code</span></div><div class="line">    <span class="keyword">if</span>(n == <span class="number">0</span>)  <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    <span class="keyword">if</span>(k &gt;= (<span class="number">1</span>&lt;&lt;(n<span class="number">-1</span>)))</div><div class="line">        <span class="keyword">return</span> (<span class="number">1</span>&lt;&lt;(n<span class="number">-1</span>)) | gray(n<span class="number">-1</span>, (<span class="number">1</span>&lt;&lt;(n))-k<span class="number">-1</span>);</div><div class="line">    <span class="keyword">else</span></div><div class="line">        <span class="keyword">return</span> gray(n<span class="number">-1</span>, k);</div><div class="line">&#125;</div><div class="line"><span class="keyword">int</span> path[<span class="number">128</span>];</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">grayNext</span><span class="params">(<span class="keyword">int</span> idx, <span class="keyword">int</span> n, <span class="keyword">char</span> w[], <span class="keyword">int</span>&amp; k, <span class="keyword">int</span> &amp;f)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span>(f == <span class="number">2</span>)	<span class="keyword">return</span>;</div><div class="line">    <span class="keyword">if</span>(idx == n) &#123;</div><div class="line">        <span class="keyword">if</span>(f == <span class="number">0</span>) &#123;</div><div class="line">            f = <span class="number">1</span>;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            k--;</div><div class="line">            <span class="keyword">if</span>(k == <span class="number">0</span>) &#123;</div><div class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</div><div class="line">                    <span class="built_in">printf</span>(<span class="string">"%d"</span>, path[i]);</div><div class="line">                <span class="built_in">puts</span>(<span class="string">""</span>);</div><div class="line">                f = <span class="number">2</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> DEBUG</span></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</div><div class="line">            <span class="built_in">printf</span>(<span class="string">"%d"</span>, path[i]);</div><div class="line">        <span class="built_in">puts</span>(<span class="string">""</span>);</div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></div><div class="line">        <span class="keyword">return</span> ;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span>(f == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">if</span>(w[idx] == path[idx] + <span class="string">'0'</span>) &#123;</div><div class="line">            grayNext(idx+<span class="number">1</span>, n, w, k, f);</div><div class="line">            path[idx] = !path[idx];</div><div class="line">            grayNext(idx+<span class="number">1</span>, n, w, k, f);</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = idx; i &lt; n; i++)</div><div class="line">                path[i] = <span class="number">0</span>;</div><div class="line">            path[idx] = w[idx] - <span class="string">'0'</span>;path[idx+<span class="number">1</span>] = <span class="number">1</span>;</div><div class="line">            grayNext(idx+<span class="number">1</span>, n, w, k, f);</div><div class="line">        &#125;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        grayNext(idx+<span class="number">1</span>, n, w, k, f);</div><div class="line">        path[idx] = !path[idx];</div><div class="line">        grayNext(idx+<span class="number">1</span>, n, w, k, f);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> n, m, f;</div><div class="line">    <span class="keyword">char</span> w[<span class="number">1024</span>];</div><div class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d %s"</span>, &amp;n, w) == <span class="number">2</span> &amp;&amp; n) &#123;</div><div class="line">        f = <span class="number">0</span>;</div><div class="line">        <span class="built_in">memset</span>(path, <span class="number">0</span>, <span class="keyword">sizeof</span>(path));</div><div class="line">        m = <span class="built_in">strlen</span>(w);</div><div class="line"><span class="comment">//		printf("find next %d\n", n);</span></div><div class="line">        grayNext(<span class="number">0</span>, m, w, n, f);</div><div class="line">        <span class="keyword">while</span>(n) &#123;</div><div class="line">            <span class="built_in">memset</span>(path, <span class="number">0</span>, <span class="keyword">sizeof</span>(path));</div><div class="line">            grayNext(<span class="number">0</span>, m, w, n, f);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-11633" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/07/24/oj/uva/uva-11633/" class="article-date">
  <time datetime="2014-07-23T22:49:27.000Z" itemprop="datePublished">2014-07-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/07/24/oj/uva/uva-11633/">UVa 11633 - Food portion sizes</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/07/24/oj/uva/uva-11633/" data-id="ckq5wy53a02rvnsvndcjee4bb" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/07/24/oj/uva/uva-11633/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/窮舉/">窮舉</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>The university canteen does not want any student to leave the canteen hungry. Therefore, as long as a student is hungry, he can get another portion of food for free. The canteen uses a fixed food portion size, because it would take too much time to first ask a student how much food he wanted. It can happen that a student doesn’t finish his last portion of food and the remainder has to be thrown away.</p>
<p>To minimize costs, the manager of the canteen wants to determine a food portion size S such that the amount of food that is wasted is small, but also the number of times the students have to fetch another portion of food is not too big. Note that these two goals can be conflicting:</p>
<ul>
<li>By choosing a very small food portion size, one does not waste food, but simultaneously the number of times the students have to fetch food is big.</li>
<li>By choosing a large food portion size, one can make sure each student has to fetch only one portion, but at the same time it may happen that a large quantity of food is wasted.</li>
</ul>
<p>The manager of the canteen has collected data about how many units of food each student eats. The problem to be solved can now be formulated mathematically as follows: Let x be the amount of food that is wasted, and y the number of times the students go to fetch food. Then, the goal is to minimize a × x + b × y, where a, b are weights that represent the relative importance of the two opposing goals. Note that x and y depend on the food portion size S and the quantities of food each student eats. We impose the additional constraint that no student should have to go more than 3 times to fetch food.</p>
<h2 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification"></a>Input Specification</h2><p>The input file contains several test cases. Each test case starts with a line containing an integer n, (1 ≤ n ≤ 1000), the number of students eating in the canteen. The next line contains the values a and b (1 ≤ a, b ≤ 10). The third line of each test case consists of n integers y1, …, yn (1 ≤ yi ≤ 100), where yi is the amount of food student i eats. Input is terminated by n=0.<br>Output Specification</p>
<p>For each test case print one line containing the costs resulting from an optimal choice of the food portion size. Print each value as a reduced fraction. If the result is an integer, do not print the denominator 1. See the sample output for details.</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">5</div><div class="line">1 1</div><div class="line">3 7 1 9 12</div><div class="line">3</div><div class="line">10 1</div><div class="line">11 13 17</div><div class="line">2</div><div class="line">2 3</div><div class="line">6 3</div><div class="line">0</div></pre></td></tr></table></figure>
<h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">35 / 2</div><div class="line">154 / 3</div><div class="line">9</div></pre></td></tr></table></figure>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p><strong> 題目描述： </strong></p>
<p>學生餐廳為了不讓學生餓肚子，以及方便他們為每一個學生製作餐點，每一份餐點的量都會相同，然而一份餐點對於某些學生來說太少，因此必須多跑幾次餐廳才能吃飽，已知每位學生不會跑大於 3 次餐廳，而每位學生只會吃自己所需要的份量，剩餘的份量就是浪費。</p>
<p>請最小化 <span>$ax + by$</span><!-- Has MathJax -->，其中 a, b 為給定的常數，x 為所有學生所製造的廚餘，y 為所有學生跑餐廳次數的總和。</p>
<p><strong> 題目解法： </strong></p>
<p>由於可能跑 1, 2, 3 次，通分得到分母為 6，保證最小化一定通過某一個人的其中一種情況，窮舉每一個人跑餐廳的次數後，並且在合法的情況下 (所有人皆不大於 3 次。)，計算 <span>$ax + by$</span><!-- Has MathJax --> 的結果。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt; </span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> n, a, b;</div><div class="line">    <span class="keyword">int</span> v[<span class="number">1024</span>];</div><div class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n) == <span class="number">1</span> &amp;&amp; n) &#123;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;a, &amp;b);</div><div class="line">        </div><div class="line">        <span class="keyword">int</span> mx = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;v[i]);</div><div class="line">            v[i] *= <span class="number">6</span>; <span class="comment">// v[i]/3, v[i]/2, v[i]/1</span></div><div class="line">            mx = max(mx, v[i]);</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">int</span> minCost = <span class="number">0x3f3f3f3f</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)  &#123;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= <span class="number">3</span>; j++) &#123;</div><div class="line">                <span class="keyword">int</span> S = v[i]/j;</div><div class="line">                <span class="keyword">int</span> x = <span class="number">0</span>, y = <span class="number">0</span>;</div><div class="line">                </div><div class="line">                <span class="keyword">if</span>(S * <span class="number">3</span> &lt; mx)	<span class="keyword">continue</span>;</div><div class="line">                </div><div class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; n; k++) &#123;</div><div class="line">                    x += (S * (v[k]/S + (v[k]%S != <span class="number">0</span>)) - v[k]);</div><div class="line">                    y += v[k]/S + (v[k]%S != <span class="number">0</span>);</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">if</span>(a * x + <span class="number">6</span> * b * y &lt; minCost)</div><div class="line">                    minCost = a * x + <span class="number">6</span> * b * y;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(minCost%<span class="number">6</span> == <span class="number">0</span>)</div><div class="line">            <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, minCost /<span class="number">6</span>);</div><div class="line">        <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">int</span> div = <span class="number">6</span>, g = __gcd(minCost, div);</div><div class="line">            div /= g, minCost /= g;</div><div class="line">            <span class="built_in">printf</span>(<span class="string">"%d / %d\n"</span>, minCost, div);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-11632" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/07/23/oj/uva/uva-11632/" class="article-date">
  <time datetime="2014-07-23T14:31:05.000Z" itemprop="datePublished">2014-07-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/07/23/oj/uva/uva-11632/">UVa 11632 - Elias gamma coding</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/07/23/oj/uva/uva-11632/" data-id="ckq5wy52r02rbnsvntkdxjdtv" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/07/23/oj/uva/uva-11632/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/dp/">dp</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>The Elias gamma code is a simple code which can be used to encode a sequence of positive integers. We will use a modified code which is also able to encode zeros. To encode an integer n, do the following:</p>
<pre><code>Let k be the number of bits of n
Write k-1 zeros followed by a 1
Write n in binary
</code></pre><p>Examples</p>
<pre><code>Number     Binary     Number of bits     Prefix     Code
0     0     1     1     10
1     1     1     1     11
2     10     2     01     0110
3     11     2     01     0111
4     100     3     001     001100
5     101     3     001     001101
6     110     3     001     001110
7     111     3     001     001111
8     1000     4     0001     00011000
</code></pre><p>A sequence of integers is encoded by writing the codes of the individual integers of the sequence in the same order as the integers appear in the sequence. The prefix of k additional bits before the binary representation of each integer is needed to be able to decode the encoded integers. So when reading the encoding of a sequence of integers, if we read k-1 zeros followed by a one, it means that there are k bits following which are the binary representation of the next encoded integer.</p>
<p>If we want to shorten the length of the encoding of a sequence of integers, there may be still some room for improvement; we will consider the following two optimizations:</p>
<ul>
<li><p>If there is a prefix which indicates that k bits are following, but there is no integer in the sequence with k bits, we can use this prefix to indicate that k+1 bits are following. If there already was a prefix which indicates that k+1 bits are following, this prefix is not needed anymore, and it can be used to indicate that k+2 bits are following, and so on.</p>
</li>
<li><p>We can add a leading zero to the binary representation of all integers in the sequence with k bits, which then become integers with k+1 bits, and then the first optimization can be used. This optimization seems especially useful if there are few integers with k bits, but many integers with more than k bits.</p>
</li>
</ul>
<p>When we are minimizing the length of the encoding of a sequence of integers, we only care about how many integers in the sequence have a certain number of bits. Let ci denote the number of integers in a sequence with i bits.</p>
<p>Let us look at the following example: c1 = 2, c2 = 4, c3 = 0, c4 = 1 (which, for example, could correspond to a sequence 2, 1, 3, 8, 0, 2, 3). With the original elias gamma coding, the encoding of the sequence would have length 2 × (1 + 1) + 4 × (2 + 2) + 0 × (3 + 3) + 1 × (4 + 4) = 28. By using optimization 1 we can save 1 bit by using prefix 001 for the integer with 4 bits. Then, we could use optimization 2 and add leading zeros to the integers with 1 bit, making them use 2 bits. Then, we use optimization 1 and use prefix 1 for the integers with 2 bits, prefix 01 for the integer with 4 bits, and we get the new length of 6 × (1 + 2) + 1 × (2 + 4) = 24.</p>
<p>Both optimizations can possibly be used several times. Note that for the second optimization, it is not easy to decide when and how to use it. The goal is to combine these two optimizations in the best possible way, that means we want to find an encoding of a given sequence of integers that has minimum length among all encodings using elias gamma coding with any combination of these two optimizations.</p>
<h2 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification"></a>Input Specification</h2><p>The input file contains several test cases. Each test case starts with a line containing an integer n, (1 ≤ n ≤ 128). The next line contains the values c1, …, cn (0 ≤ ci ≤ 10000). Input is terminated by n=0.<br>Output Specification</p>
<p>For each test case print one line with the minimum length of an encoding of the given input sequence.</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">4</div><div class="line">2 4 0 1</div><div class="line">5</div><div class="line">9 4 2 4 3</div><div class="line">11</div><div class="line">44 56 96 26 73 80 77 50 33 16 78</div><div class="line">0</div></pre></td></tr></table></figure>
<h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">24</div><div class="line">99</div><div class="line">5494</div></pre></td></tr></table></figure>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p><strong> 題目描述： </strong></p>
<p>對於一個編碼而言，假使全部存放數字，採用固定長度的方式儲存，就類似全部使用 32 bit 形式，但這樣會浪費相當多的首位 0，因此題目給定多一個欄位表示接下來會有多少 bits，這樣方式有可能會增加編碼長度，因此會有以下優化。</p>
<ul>
<li>將一個原本使用 k bits 表示的數字，使用多於 k bits 表示，也就是多補給個 0。</li>
<li>對於欄位表示，將使用映射的方式進行，由於前一條規則，將會有無用的欄位格式，因此可以將比較短的表示法給更多 bits 的數字使用。</li>
</ul>
<p><strong> 題目解法： </strong></p>
<p>題目相當冗長，其實就相當於將 3 bit 數字弄成 4 bit，並且讓 3 bits 和 4 bits 共用同一種欄位表示法 (001 之類的，原本 4 bit 必須使用 0001，現在反而能用更少。)。</p>
<p>使用 <code>dp[i][j]</code> 表示前 i bits 表示法使用最大 j bits 欄位的最小成本。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">dp[j][k] = min(dp[j][k], dp[i-1][k-1] + sum * (k + j));</div><div class="line">// sum 表示 [i, j] 之間的 bits 數字總量，k + j 表示單一數字的表示長度。</div></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt; </span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> n, A[<span class="number">256</span>];</div><div class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n) == <span class="number">1</span> &amp;&amp; n) &#123;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;A[i]);</div><div class="line">        <span class="keyword">int</span> dp[<span class="number">256</span>][<span class="number">256</span>];</div><div class="line">        <span class="built_in">memset</span>(dp, <span class="number">63</span>, <span class="keyword">sizeof</span>(dp));</div><div class="line">        dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</div><div class="line">            <span class="keyword">int</span> sum = <span class="number">0</span>;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = i; j &lt;= n; j++) &#123;</div><div class="line">                sum += A[j];</div><div class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">1</span>; k &lt;= n; k++) &#123;</div><div class="line">                    dp[j][k] = min(dp[j][k], dp[i<span class="number">-1</span>][k<span class="number">-1</span>] + sum * (k + j));</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> ret = <span class="number">0x3f3f3f3f</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n; i++)</div><div class="line">            ret = min(ret, dp[n][i]);</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ret);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-11613" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/07/23/oj/uva/uva-11613/" class="article-date">
  <time datetime="2014-07-23T14:20:06.000Z" itemprop="datePublished">2014-07-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/07/23/oj/uva/uva-11613/">UVa 11613 - Acme Corporation</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/07/23/oj/uva/uva-11613/" data-id="ckq5wy52902qtnsvnxxmpsvho" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/07/23/oj/uva/uva-11613/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/最少費用流/">最少費用流</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>Wile E. Coyote is back. He is back in the business. The business of capturing the road runner. Being the most loyal customer to the Acme Corporation, they are hoping to do some great business with him. Although, Acme makes literally every kinds of devices, all of them has a similarity, that has been kept secret for ages. All of their products use a secret element “element X” (this is kept so secret that, only you and the Acme people know about this). The decision makers of the Acme Corp. has already estimated the maximum amount of element X that can be used into manufacture every month.</p>
<p>For month i, the per unit manufacturing cost of  “element X” is mi, and at most ni units can be produced. Moreover, the selling price for “element X” for that month is pi. One more thing is that, element X older than Ei months can not be used. But good thing is that, they can store any amount of element X in their inventory (it’s the Acme Corp, they can make anything :) ). Now, Acme Corporation wants to know how much element X should be produced and sold, to make the highest amount of profit.</p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>l        First line contains T, the number of test cases.</p>
<p>l        For each test case</p>
<p>u      First line contains two integers M and I, the number of months to consider and the cost of storing per unit of element X per month in the inventory.</p>
<p>u      Each of the next M lines describe the parameters for each month</p>
<p>·          The ith line contains 5 integers, mi, ni, pi, si, Ei, where mi is the per unit manufacturing cost for month i, ni is the maximum amount that can be manufactured in this month, pi is the selling price for that month(per unit), si is the maximum amount that can be sold that month, and Ei is the maximum time,element X manufactured on month i, can be stored in the inventory. For example, if for month 1, E1 = 3, the elements produced in month 1 can be sold in months 1, 2, 3 and 4. But it can not be sold in month 5. </p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>For each test case, output the case number and the maximum amount of profit, Acme Corporation can make. Note that, you have to think of only M months. If any amount of element X is stored in the inventory after this period, are completely ignored. For formatting, see the sample input and output.</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">1</div><div class="line">2 2</div><div class="line">2 10 3 20 2</div><div class="line">10 100 7 5 2</div></pre></td></tr></table></figure>
<h2 id="Output-for-Sample-Input"><a href="#Output-for-Sample-Input" class="headerlink" title="Output for Sample Input"></a>Output for Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Case 1: 20</div></pre></td></tr></table></figure>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p><strong> 題目描述： </strong></p>
<p>這個工廠，每個月會生產商品，在每個月中，每一個商品會有其生產成本、該月最大生產量、該月最大銷售量、產品的保存期限。</p>
<p>然而沒有銷售的的商品，將會放置於倉庫，每個月的保管成本為 I。求最大獲益金額為何。</p>
<p><strong> 題目解法： </strong></p>
<p>將銷售金額與負號，最小費用流即最大獲益。</p>
<p><code>source - product - sell - sink</code>，將每一個月的訊息拆成兩個節點，生產的數量和銷售的情況，並且根據保存期限，將該月的生產數量拉至可預期的銷售時間，並且同時扣除保管成本。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div></pre></td><td class="code"><pre><div class="line"> </div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;deque&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span> &#123;</span></div><div class="line">    <span class="keyword">int</span> x, y;</div><div class="line">    <span class="keyword">long</span> <span class="keyword">long</span> cap, cost;<span class="comment">// x-&gt;y, v</span></div><div class="line">    <span class="keyword">int</span> next;</div><div class="line">&#125; edge[<span class="number">262144</span>];</div><div class="line"><span class="keyword">int</span> e, head[<span class="number">512</span>], prev[<span class="number">512</span>], record[<span class="number">512</span>], inq[<span class="number">512</span>];</div><div class="line"><span class="keyword">long</span> <span class="keyword">long</span> dis[<span class="number">512</span>];</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">addEdge</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">long</span> <span class="keyword">long</span> cap, <span class="keyword">long</span> <span class="keyword">long</span> cost)</span> </span>&#123;</div><div class="line">    edge[e].x = x, edge[e].y = y, edge[e].cap = cap, edge[e].cost = cost;</div><div class="line">    edge[e].next = head[x], head[x] = e++;</div><div class="line">    edge[e].x = y, edge[e].y = x, edge[e].cap = <span class="number">0</span>, edge[e].cost = -cost;</div><div class="line">    edge[e].next = head[y], head[y] = e++;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">mincost</span><span class="params">(<span class="keyword">int</span> s, <span class="keyword">int</span> t)</span> </span>&#123;</div><div class="line">    <span class="keyword">long</span> <span class="keyword">long</span> mncost = <span class="number">0</span>, flow, totflow = <span class="number">0</span>;</div><div class="line">    <span class="keyword">int</span> i, x, y;</div><div class="line">    <span class="keyword">while</span>(<span class="number">1</span>) &#123;</div><div class="line">        <span class="built_in">memset</span>(dis, <span class="number">63</span>, <span class="keyword">sizeof</span>(dis));</div><div class="line">        <span class="keyword">int</span> oo = dis[<span class="number">0</span>];</div><div class="line">        dis[s] = <span class="number">0</span>;</div><div class="line">        <span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt; Q;</div><div class="line">        Q.push_front(s);</div><div class="line">        <span class="keyword">while</span>(!Q.empty()) &#123;</div><div class="line">            x = Q.front(), Q.pop_front();</div><div class="line">            inq[x] = <span class="number">0</span>;</div><div class="line">            <span class="keyword">for</span>(i = head[x]; i != <span class="number">-1</span>; i = edge[i].next) &#123;</div><div class="line">                y = edge[i].y;</div><div class="line">                <span class="keyword">if</span>(edge[i].cap &gt; <span class="number">0</span> &amp;&amp; dis[y] &gt; dis[x] + edge[i].cost) &#123;</div><div class="line">                    dis[y] = dis[x] + edge[i].cost;</div><div class="line">                    prev[y] = x, record[y] = i;</div><div class="line">                    <span class="keyword">if</span>(inq[y] == <span class="number">0</span>) &#123;</div><div class="line">                        inq[y] = <span class="number">1</span>;</div><div class="line">                        <span class="keyword">if</span>(Q.size() &amp;&amp; dis[Q.front()] &gt; dis[y])</div><div class="line">                            Q.push_front(y);</div><div class="line">                        <span class="keyword">else</span></div><div class="line">                            Q.push_back(y);</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(dis[t] &gt; <span class="number">0</span>)	<span class="keyword">break</span>;</div><div class="line">        flow = oo;</div><div class="line">        <span class="keyword">for</span>(x = t; x != s; x = prev[x]) &#123;</div><div class="line">            <span class="keyword">int</span> ri = record[x];</div><div class="line">            flow = min(flow, edge[ri].cap);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span>(x = t; x != s; x = prev[x]) &#123;</div><div class="line">            <span class="keyword">int</span> ri = record[x];</div><div class="line">            edge[ri].cap -= flow;</div><div class="line">            edge[ri^<span class="number">1</span>].cap += flow;</div><div class="line">            edge[ri^<span class="number">1</span>].cost = -edge[ri].cost;</div><div class="line">        &#125;</div><div class="line">        totflow += flow;</div><div class="line">        mncost += dis[t] * flow;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> mncost;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> testcase, cases = <span class="number">0</span>;</div><div class="line">    <span class="keyword">int</span> M, I;</div><div class="line">    <span class="keyword">int</span> pm[<span class="number">128</span>], pn[<span class="number">128</span>], pp[<span class="number">128</span>], ps[<span class="number">128</span>], pe[<span class="number">128</span>];</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;testcase);</div><div class="line">    <span class="keyword">while</span>(testcase--) &#123;</div><div class="line">    	<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;M, &amp;I);</div><div class="line">    	e = <span class="number">0</span>;</div><div class="line">        <span class="built_in">memset</span>(head, <span class="number">-1</span>, <span class="keyword">sizeof</span>(head));</div><div class="line">        </div><div class="line">        <span class="keyword">int</span> source = <span class="number">2</span> * M + <span class="number">2</span>, sink = source + <span class="number">1</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= M; i++)</div><div class="line">        	<span class="built_in">scanf</span>(<span class="string">"%d %d %d %d %d"</span>, pm+i, pn+i, pp+i, ps+i, pe+i);</div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= M; i++) &#123;</div><div class="line">        	addEdge(source, <span class="number">2</span>*i, pn[i], pm[i]);</div><div class="line">        	<span class="keyword">for</span>(<span class="keyword">int</span> j = i; j &lt;= min(i + pe[i], M); j++)</div><div class="line">        		addEdge(<span class="number">2</span>*i, <span class="number">2</span>*j+<span class="number">1</span>, INF, (j - i) * I);</div><div class="line">        	addEdge(<span class="number">2</span>*i+<span class="number">1</span>, sink, ps[i], -pp[i]);</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="built_in">printf</span>(<span class="string">"Case %d: %lld\n"</span>, ++cases, -mincost(source, sink));</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-11605" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/07/23/oj/uva/uva-11605/" class="article-date">
  <time datetime="2014-07-23T14:04:33.000Z" itemprop="datePublished">2014-07-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/07/23/oj/uva/uva-11605/">UVa 11605 - Lights inside a 3d Grid</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/07/23/oj/uva/uva-11605/" data-id="ckq5wy52f02r0nsvn221doak7" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/07/23/oj/uva/uva-11605/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/概率/">概率</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/矩陣/">矩陣</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <p>You are given a 3D grid, which have dimensions N, M and P. Each of the M x N x P cells has a light. Initially all lights are off. You will have K turns. In each of the K turns,</p>
<ul>
<li><p>You will select a cell A randomly from the grid</p>
</li>
<li><p>You will select a cell B randomly from the grid</p>
</li>
<li><p>Toggle the states of all the bulbs bounded by cell A and cell B, ie make all the ON lights OFF and make all the OFF lights ON which are bounded by A and B. To be more clear, consider cell A is (x1, y1, z1) and cell B is (x2, y2, z2). Then you have to toggle all the bulbs in grid cell (x, y, z) where min(x1,x2)&lt;=x&lt;=max(x1,x2) , min(y1,y2)&lt;=y&lt;=max(y1,y2) and min(z1, z2)&lt;=z&lt;=max(z1, z2).</p>
</li>
</ul>
<p>How many bulbs are expected to be ON after K turns?</p>
<p>Note:</p>
<ul>
<li>A and B can be the same cell.</li>
</ul>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>First line of the input is an integer T(T&lt;101) which denotes the number of test cases. Each of the next T lines represents one test case by 4 integers N, M, P (0 &lt; M, N, P &lt; 101) and K (0&lt;=K&lt;=10000)  separated by spaces.</p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>Output one line for each test cases giving the expected number of ON lights. Up to 1E-6 error in your output will be acceptable.  Print the case number followed by the output.  Look at the sample output for exact format.</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">2</div><div class="line">2 3 4 1</div><div class="line">2 3 4 2</div></pre></td></tr></table></figure>
<h2 id="Output-for-Sample-Input"><a href="#Output-for-Sample-Input" class="headerlink" title="Output for Sample Input"></a>Output for Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Case 1: 6.3750000000</div><div class="line">Case 2: 9.0976562500</div></pre></td></tr></table></figure>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p><strong> 題目描述： </strong></p>
<p>在 N x M x P 的三維空間中，任抓 2 個格子所構成的長方體，將長方體內部的所有格子點進行反轉標記 (一開始全是 OFF)，抓取 K 次得到的 ON 標記格子數期望值為何？</p>
<p><strong> 題目解法： </strong></p>
<p>每一個軸的情況可以分開考慮，考慮對於座標 (x, y, z) 被選到的機率 p，則 sigma(p * 1) = 所求的期望值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">p = dp[N][x] * dp[M][y] * dp[P][z],</div><div class="line">dp[i][j] 表示在區間 [1, i] 中任挑區間包含 j 的機率為何。</div></pre></td></tr></table></figure>
<p>得到 p 之後，計算在 K 次中，得到奇數 ON 的機率為何，這裡藉由矩陣乘法來完成。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[1 - p, p]</div><div class="line">[p, 1 - p] = M</div><div class="line">         [0  ON]    [final ON  p]</div><div class="line">M ^ K *  [1 OFF]  = [final OFF p]</div></pre></td></tr></table></figure>
<p>藉由快速取冪次來完成。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt; </span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Matrix</span> &#123;</span></div><div class="line">    <span class="keyword">double</span> v[<span class="number">2</span>][<span class="number">2</span>];</div><div class="line">    <span class="keyword">int</span> row, col; <span class="comment">// row x col</span></div><div class="line">    Matrix(<span class="keyword">int</span> n, <span class="keyword">int</span> m, <span class="keyword">double</span> a = <span class="number">0</span>) &#123;</div><div class="line">        <span class="built_in">memset</span>(v, <span class="number">0</span>, <span class="keyword">sizeof</span>(v));</div><div class="line">        row = n, col = m;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; row &amp;&amp; i &lt; col; i++)</div><div class="line">            v[i][i] = a;</div><div class="line">    &#125;</div><div class="line">    Matrix <span class="keyword">operator</span>*(<span class="keyword">const</span> Matrix&amp; x) <span class="keyword">const</span> &#123;</div><div class="line">        <span class="function">Matrix <span class="title">ret</span><span class="params">(row, x.col)</span></span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; row; i++)</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; x.col; j++)</div><div class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; col; k++)</div><div class="line">                    ret.v[i][j] += v[i][k] * x.v[k][j];</div><div class="line">        <span class="keyword">return</span> ret;</div><div class="line">    &#125;</div><div class="line">    Matrix <span class="keyword">operator</span>^(<span class="keyword">const</span> <span class="keyword">int</span>&amp; n) <span class="keyword">const</span> &#123;</div><div class="line">        Matrix ret(row, col, 1), x = *this;</div><div class="line">        <span class="keyword">int</span> y = n;</div><div class="line">        <span class="keyword">while</span>(y) &#123;</div><div class="line">            <span class="keyword">if</span>(y&amp;<span class="number">1</span>)	ret = ret * x;</div><div class="line">            y = y&gt;&gt;<span class="number">1</span>, x = x * x;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> ret;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> N, M, P, K;</div><div class="line">    <span class="keyword">int</span> testcase, cases = <span class="number">0</span>;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;testcase);</div><div class="line">    <span class="keyword">while</span>(testcase--) &#123;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %d %d %d"</span>, &amp;N, &amp;M, &amp;P, &amp;K);</div><div class="line">        <span class="keyword">double</span> pN[<span class="number">128</span>], pM[<span class="number">128</span>], pP[<span class="number">128</span>];</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</div><div class="line">            pN[i] = (i * (N-i+<span class="number">1</span>) * <span class="number">2</span> - <span class="number">1</span>) / (<span class="keyword">double</span>)(N * N);			</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= M; i++)</div><div class="line">            pM[i] = (i * (M-i+<span class="number">1</span>) * <span class="number">2</span> - <span class="number">1</span>) / (<span class="keyword">double</span>)(M * M);</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= P; i++)</div><div class="line">            pP[i] = (i * (P-i+<span class="number">1</span>) * <span class="number">2</span> - <span class="number">1</span>) / (<span class="keyword">double</span>)(P * P);</div><div class="line">        <span class="keyword">double</span> ret = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++) &#123;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= M; j++) &#123;</div><div class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">1</span>; k &lt;= P; k++) &#123;</div><div class="line">                    <span class="keyword">double</span> p = pN[i] * pM[j] * pP[k];</div><div class="line">                    <span class="function">Matrix <span class="title">mm</span><span class="params">(<span class="number">2</span>, <span class="number">2</span>)</span></span>;</div><div class="line">                    mm.v[<span class="number">0</span>][<span class="number">0</span>] = mm.v[<span class="number">1</span>][<span class="number">1</span>] = <span class="number">1</span> - p;</div><div class="line">                    mm.v[<span class="number">0</span>][<span class="number">1</span>] = mm.v[<span class="number">1</span>][<span class="number">0</span>] = p;</div><div class="line">                    Matrix mmk = mm ^ K;</div><div class="line">                    ret += mmk.v[<span class="number">0</span>][<span class="number">1</span>];</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"Case %d: %.10lf\n"</span>, ++cases, ret);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-11603" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/07/23/oj/uva/uva-11603/" class="article-date">
  <time datetime="2014-07-23T13:45:29.000Z" itemprop="datePublished">2014-07-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/07/23/oj/uva/uva-11603/">UVa 11603 - Its all about the Bandwidth</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/07/23/oj/uva/uva-11603/" data-id="ckq5wy52u02rensvnsr0mzxvd" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/07/23/oj/uva/uva-11603/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MST/">MST</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/并查集/">并查集</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/最小生成樹/">最小生成樹</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>My appartment has n computers. My friend’s appartment also has n computers. In each appartment, some pairs of computers are connected to each other with AcidNet cables (ignoring the routers). Each connection has a certain bandwidth (in bytes per second). My friend always brags about the speed of his computer network. He always shows me his n-by-n table that lists the bandwidths between each pair of computers. My network is slower, and I want to rebuild it. So I want to know how I should connect my computers in order to have the same n-by-n bandwidth table.</p>
<p>Since I don’t want to buy too many AcidNet cables, you’ll need to find a solution with the minimum number of connections. You may use AcidNet cables of any integer bandwidth - they all have the same price at my local Imaginary Hardware Store.<br>Problem, in short</p>
<p>Given a graph, you can compute the all-pairs maximum flow table, right? Now do the opposite: given an n-by-n symmetric table, find a graph with fewest edges that has the given table of all-pairs maximum flows.</p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>The first line of input gives the number of cases, N. N test cases follow. Each one is a line containing n (0 &lt; n ≤ 200), followed by n lines with n integers each, giving the table T.</p>
<pre><code>T[u][u] will always be 0.
T[u][v] will always be positive and equal to T[v][u].
T[i][j] ≤ 10000
</code></pre><p><code>T[u][v]</code> is the largest possible speed (in bytes per second) for sending information from computer u to computer v, assuming there is no other traffic on the network.</p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>For each test case, output one line containing “Case #x:” followed by m - the number of cables I have to buy. The next m lines will each contain 3 integers u, v and w meaning that I need to connect computer u to computer v using an AcidNet cable of bandwidth w. Computers are numbered starting at 0.</p>
<p>If there is no solution, print <code>Impossible</code>.</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">4</div><div class="line">2</div><div class="line">0 10</div><div class="line">10 0</div><div class="line">3</div><div class="line">0 1 1</div><div class="line">1 0 2</div><div class="line">1 2 0</div><div class="line">1</div><div class="line">0</div><div class="line">4</div><div class="line">0 2 2 1</div><div class="line">2 0 2 2</div><div class="line">2 2 0 2</div><div class="line">1 2 2 0</div></pre></td></tr></table></figure>
<h2 id="Output-for-Sample-Input"><a href="#Output-for-Sample-Input" class="headerlink" title="Output for Sample Input"></a>Output for Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">Case #1: 1</div><div class="line">0 1 10</div><div class="line">Case #2: 2</div><div class="line">0 1 1</div><div class="line">1 2 2</div><div class="line">Case #3: 0</div><div class="line">Case #4: Impossible</div></pre></td></tr></table></figure>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p><strong> 題目描述： </strong></p>
<p>朋友給一個他的端點之間的頻寬關係，這些頻寬關係是對稱的，現在要用最少條的邊做出跟朋友一樣的網路頻寬關係，請問是否有可能，如果可能的話，請輸出需要擺設的邊。</p>
<p><strong> 題目解法： </strong></p>
<p>假設有 <code>n</code> 個節點，要用最少條構成，相當於給定一個 <code>n - 1</code> 條邊的 tree，對於一個 tree 而言，彼此之間的流量關係符合不等式 </p>
<span>$cap(i, j) \le min(cap(i, k), cap(k, j))$</span><!-- Has MathJax -->
<p>也就是說，如果存在更好的流量方式，則會在關係圖中表示出來。在判斷是否可能即檢查所有情況是否符合不等式。最後根據這條不等式，相當於最小生成樹中 s - t 集合中的關係。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt; </span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">E</span> &#123;</span></div><div class="line">    <span class="keyword">int</span> x, y, v;</div><div class="line">    E(<span class="keyword">int</span> a = <span class="number">0</span>, <span class="keyword">int</span> b = <span class="number">0</span>, <span class="keyword">int</span> c = <span class="number">0</span>):</div><div class="line">        x(a), y(b), v(c) &#123;&#125;</div><div class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> E &amp;a) <span class="keyword">const</span> &#123;</div><div class="line">        <span class="keyword">return</span>  v &gt; a.v;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">E D[<span class="number">65536</span>];</div><div class="line"><span class="keyword">int</span> p[<span class="number">256</span>], rank[<span class="number">256</span>];</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">findp</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> p[x] == x ? x : (p[x]=findp(p[x]));</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">joint</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</div><div class="line">    x = findp(x), y = findp(y);</div><div class="line">    <span class="keyword">if</span>(x == y)	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    <span class="keyword">if</span>(rank[x] &gt; rank[y])</div><div class="line">        rank[x] += rank[y], p[y] = x;</div><div class="line">    <span class="keyword">else</span></div><div class="line">        rank[y] += rank[x], p[x] = y;</div><div class="line">    <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> testcase, cases = <span class="number">0</span>, n, g[<span class="number">256</span>][<span class="number">256</span>];</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;testcase);</div><div class="line">    <span class="keyword">while</span>(testcase--) &#123;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++)</div><div class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;g[i][j]);</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"Case #%d: "</span>, ++cases);</div><div class="line">        <span class="keyword">int</span> eflag = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = i+<span class="number">1</span>; j &lt; n; j++)</div><div class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k = j+<span class="number">1</span>; k &lt; n; k++)</div><div class="line">                    <span class="keyword">if</span>(min(g[i][j], g[j][k]) &gt; g[i][k] ||</div><div class="line">                        min(g[i][k], g[j][k]) &gt; g[i][j] ||</div><div class="line">                        min(g[i][j], g[i][k]) &gt; g[j][k])</div><div class="line">                        eflag = <span class="number">1</span>, i = j = k = n;</div><div class="line">        <span class="keyword">if</span>(eflag)  &#123;</div><div class="line">            <span class="built_in">puts</span>(<span class="string">"Impossible"</span>);</div><div class="line">            <span class="keyword">continue</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, n - <span class="number">1</span>);</div><div class="line">        <span class="keyword">int</span> m = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</div><div class="line">            p[i] = i, rank[i] = <span class="number">1</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = i+<span class="number">1</span>; j &lt; n; j++)</div><div class="line">                D[m++] = E(i, j, g[i][j]);</div><div class="line">        sort(D, D+m);</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</div><div class="line">            <span class="keyword">if</span>(joint(D[i].x, D[i].y)) &#123;</div><div class="line">                <span class="built_in">printf</span>(<span class="string">"%d %d %d\n"</span>, D[i].x, D[i].y, D[i].v);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-1592" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/07/23/oj/uva/uva-1592/" class="article-date">
  <time datetime="2014-07-23T13:32:28.000Z" itemprop="datePublished">2014-07-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/07/23/oj/uva/uva-1592/">UVa 1592 - Database</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/07/23/oj/uva/uva-1592/" data-id="ckq5wy5iq036pnsvnk3uvvgaa" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/07/23/oj/uva/uva-1592/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hash/">hash</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/窮舉/">窮舉</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>Peter studies the theory of relational databases. Table in the relational database consists of values that are arranged in rows and columns.</p>
<p>There are different normal forms that database may adhere to. Normal forms are designed to minimize the redundancy of data in the database. For example, a database table for a library might have a row for each book and columns for book name, book author, and author’s email.</p>
<p>If the same author wrote several books, then this representation is clearly redundant. To formally define this kind of redundancy Peter has introduced his own normal form. A table is in Peter’s Normal Form (PNF) if and only if there is no pair of rows and a pair of columns such that the values in the corresponding columns are the same for both rows.</p>
<pre><code>How to compete in ACM ICPC     Peter     peter@neerc.ifmo.ru
How to win ACM ICPC     Michael     michael@neerc.ifmo.ru
Notes from ACM ICPC champion     Michael     michael@neerc.ifmo.ru
</code></pre><p>The above table is clearly not in PNF, since values for 2rd and 3rd columns repeat in 2nd and 3rd rows. However, if we introduce unique author identifier and split this table into two tables – one containing book name and author id, and the other containing book id, author name, and author email, then both resulting tables will be in PNF.</p>
<span>$$\begin{center} \begin{tabular}{\vert l\vert l... ...\hline Notes from ACM ICPC champion &amp; 2 \\ \hline \end{tabular} \end{center}}
\begin{center} \begin{tabular}{\vert l\vert ... ...ine 2 &amp; Michael &amp; michael@neerc.ifmo.ru \\ \hline \end{tabular} \end{center}}$$</span><!-- Has MathJax -->
<p>Given a table your task is to figure out whether it is in PNF or not.</p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>Input contains several datasets. The first line of each dataset contains two integer numbers n and m ( 1<span>$\le$</span><!-- Has MathJax -->n<span>$\le$</span><!-- Has MathJax -->10000, 1<span>$\le$</span><!-- Has MathJax -->m<span>$\le$</span><!-- Has MathJax -->10), the number of rows and columns in the table. The following n lines contain table rows. Each row has m column values separated by commas. Column values consist of ASCII characters from space (ASCII code 32) to tilde (ASCII code 126) with the exception of comma (ASCII code 44). Values are not empty and have no leading and trailing spaces. Each row has at most 80 characters (including separating commas).</p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>For each dataset, if the table is in PNF write to the output file a single word <code>YES&quot; (without quotes). If the table is not in PNF, then write three lines. On the first line write a single word</code>NO” (without quotes). On the second line write two integer row numbers r1 and r2 ( 1<span>$\le$</span><!-- Has MathJax -->r1, r2<span>$\le$</span><!-- Has MathJax -->n, r1<span>$\ne$</span><!-- Has MathJax -->r2), on the third line write two integer column numbers c1 and c2 ( 1<span>$\le$</span><!-- Has MathJax -->c1, c2<span>$\le$</span><!-- Has MathJax -->m, c1<span>$\ne$</span><!-- Has MathJax -->c2), so that values in columns c1 and c2 are the same in rows r1 and r2.</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">3 3</div><div class="line">How to compete in ACM ICPC,Peter,peter@neerc.ifmo.ru</div><div class="line">How to win ACM ICPC,Michael,michael@neerc.ifmo.ru</div><div class="line">Notes from ACM ICPC champion,Michael,michael@neerc.ifmo.ru</div><div class="line">2 3</div><div class="line">1,Peter,peter@neerc.ifmo.ru</div><div class="line">2,Michael,michael@neerc.ifmo.ru</div></pre></td></tr></table></figure>
<h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">NO</div><div class="line">2 3</div><div class="line">2 3</div><div class="line">YES</div></pre></td></tr></table></figure>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p><strong> 題目描述： </strong></p>
<p>這一題要做的是資料庫的正規化，在一個表單中，重複關係的項目都要依序剃除。<br>而這一條講的就是要檢查是否有某兩行中的某兩列數值相同，換句話說就是</p>
<pre><code>(data(r1, c1), data(r1, c2)) === (data(r2, c1), data(r2, c2))
</code></pre><p>如果存在則輸出任何一組 <code>r1, r2, c1, c2</code></p>
<p><strong> 題目解法： </strong></p>
<p>窮舉行還是列將決定複雜度。如果窮舉行 (row) 則會達到 <code>O(n ^ 2 m log m)</code> 反之則是 <code>O(m ^ 2 n log n)</code>。</p>
<p>由於題目給定的 n 遠大於 m，因此窮舉列 (column) 會來得更好。為了加速字串比對速度，可以利用 hash 來完成，如果 hash 夠大，將有機會不考慮任何字串匹配 (不會發生碰撞)，這樣的速度就會非常快。</p>
<blockquote>
<p>拿了不少 WA 是忘記在找到其中一組解 <code>break;</code> 掉。Orz</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">char</span> data[<span class="number">10010</span>][<span class="number">128</span>];</div><div class="line"><span class="keyword">int</span> colPos[<span class="number">10010</span>][<span class="number">16</span>];</div><div class="line"><span class="keyword">int</span> hashCode[<span class="number">10010</span>][<span class="number">16</span>];</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">cmp</span> &#123;</span></div><div class="line">    <span class="keyword">static</span> <span class="keyword">int</span> C1, C2;</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">operator</span><span class="params">()</span> <span class="params">(<span class="keyword">const</span> pair&lt; pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;, <span class="keyword">int</span>&gt;&amp; a, </span></span></div><div class="line"><span class="function"><span class="params">						<span class="keyword">const</span> pair&lt; pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;, <span class="keyword">int</span>&gt;&amp; b)</span> <span class="keyword">const</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(a.first != b.first)	<span class="keyword">return</span> a.first &lt; b.first;</div><div class="line">        <span class="keyword">int</span> t;</div><div class="line">        t = <span class="built_in">strcmp</span>(data[a.second] + colPos[a.second][C1],</div><div class="line">                        data[b.second] + colPos[b.second][C1]);</div><div class="line">        <span class="keyword">if</span>(t)	<span class="keyword">return</span> t &lt; <span class="number">0</span>;</div><div class="line">        t = <span class="built_in">strcmp</span>(data[a.second] + colPos[a.second][C2],</div><div class="line">                        data[b.second] + colPos[b.second][C2]);</div><div class="line">        <span class="keyword">if</span>(t)	<span class="keyword">return</span> t &lt; <span class="number">0</span>;</div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">int</span> cmp::C1 = <span class="number">0</span>;</div><div class="line"><span class="keyword">int</span> cmp::C2 = <span class="number">0</span>;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> n, m;</div><div class="line"><span class="comment">//	freopen("in.txt", "r+t", stdin);</span></div><div class="line"><span class="comment">//	freopen("out.txt", "w+t", stdout); </span></div><div class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;n, &amp;m) == <span class="number">2</span>) &#123;</div><div class="line">        <span class="keyword">while</span>(getchar() != <span class="string">'\n'</span>);</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</div><div class="line">            gets(data[i]);</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>, pos = <span class="number">0</span>; j &lt; m; j++) &#123;</div><div class="line">                colPos[i][j] = pos;</div><div class="line">                <span class="keyword">int</span> hash = <span class="number">0</span>;</div><div class="line">                <span class="keyword">while</span>(data[i][pos] != <span class="string">','</span> &amp;&amp; data[i][pos] != <span class="string">'\0'</span>)</div><div class="line">                    hash = ((hash&lt;&lt;<span class="number">15</span>) + data[i][pos])&amp;<span class="number">32767</span>, pos++;</div><div class="line">                hashCode[i][j] = hash;</div><div class="line">                data[i][pos] = <span class="string">'\0'</span>, pos++;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        pair&lt; pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;, <span class="keyword">int</span>&gt; D[<span class="number">10010</span>];</div><div class="line">        <span class="keyword">int</span> flag = <span class="number">0</span>, r1, r2, c1, c2;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; m; j++) &#123;</div><div class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; n; k++) &#123; <span class="comment">// (hashCode[k][i], hashCode[k][j])</span></div><div class="line">                    D[k] = make_pair(make_pair(hashCode[k][i], hashCode[k][j]), k);</div><div class="line">                &#125;</div><div class="line">                cmp::C1 = i, cmp::C2 = j;</div><div class="line">                sort(D, D + n, cmp());</div><div class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">1</span>; k &lt; n; k++) &#123;</div><div class="line">                    <span class="keyword">if</span>(!cmp()(D[k], D[k<span class="number">-1</span>]) &amp;&amp; !cmp()(D[k<span class="number">-1</span>], D[k])) &#123;</div><div class="line">                        flag = <span class="number">1</span>;</div><div class="line">                        r1 = D[k<span class="number">-1</span>].second, r2 = D[k].second;</div><div class="line">                        c1 = i, c2 = j;</div><div class="line">                        i = j = m;</div><div class="line">                        <span class="keyword">break</span>;</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">puts</span>(flag ? <span class="string">"NO"</span> : <span class="string">"YES"</span>);</div><div class="line">        <span class="keyword">if</span>(flag)</div><div class="line">            <span class="built_in">printf</span>(<span class="string">"%d %d\n%d %d\n"</span>, r1 + <span class="number">1</span>, r2 + <span class="number">1</span>, c1 + <span class="number">1</span>, c2 + <span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-11542" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/07/21/oj/uva/uva-11542/" class="article-date">
  <time datetime="2014-07-21T10:05:00.000Z" itemprop="datePublished">2014-07-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/07/21/oj/uva/uva-11542/">UVa 11542 - Square</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/07/21/oj/uva/uva-11542/" data-id="ckq5wy52k02r4nsvn0la8pg77" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/07/21/oj/uva/uva-11542/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/高斯消去/">高斯消去</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <p>Given n integers you can generate <span>$2^{n} - 1$</span><!-- Has MathJax --> non-empty subsets from them. Determine for how many of these subsets the product of all the integers in that is a perfect square. For example for the set {4,6,10,15} there are 3 such subsets. {4}, {6,10,15} and {4,6,10,15}. A perfect square is an integer whose square root is an integer. For example 1, 4, 9, 16,…. .</p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>Input contains multiple test cases. First line of the input contains T(1≤T≤30) the number of test cases. Each test case consists of 2 lines. First line contains n(1≤n≤100) and second line contains n space separated integers.  All these integers are between 1 and 10^15.  None of these integers is divisible by a prime greater than 500.</p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>For each test case output is a single line containing one integer denoting the number of non-empty subsets whose integer product is a perfect square. The input will be such that the result will always fit into signed 64 bit integer.</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">4</div><div class="line">3</div><div class="line">2 3 5</div><div class="line">3</div><div class="line">6 10 15</div><div class="line">4</div><div class="line">4 6 10 15</div><div class="line">3</div><div class="line">2 2 2</div></pre></td></tr></table></figure>
<h2 id="Output-for-Sample-Input"><a href="#Output-for-Sample-Input" class="headerlink" title="Output for Sample Input"></a>Output for Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">0</div><div class="line">1</div><div class="line">3</div><div class="line">3</div></pre></td></tr></table></figure>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p><strong> 題目描述： </strong></p>
<p>將 N 個數字，任挑相乘為平方數的方法數有多少？</p>
<p><strong> 題目解法： </strong></p>
<p>將每個數字做質因數分解，對於每個質數將會有一條方程式，其參數為能貢獻的質因數的個數。</p>
<p>x1 = 0 表示第一個數字如果不選，x1 = 1 則表示選。</p>
<p>因此，最後希望所有方程式加總都必須要是偶數。</p>
<span>$$a_{1}x_{1} + a_{2}x_{2} + ... = even \quad for \quad prime \quad 2 \\
b_{1}x_{1} + b_{2}x_{2} + ... = even \quad for \quad prime \quad 3 \\
...$$</span><!-- Has MathJax -->
<p>使用 XOR 高斯消去法，找到任意解的變數個數 (大陸: 自由基) 即能得到所有解個數大小。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt; </span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> maxL (500&gt;&gt;5)+1</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> GET(x) (mark[x&gt;&gt;5]&gt;&gt;(x&amp;31)&amp;1)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> SET(x) (mark[x&gt;&gt;5] |= 1&lt;&lt;(x&amp;31))</span></div><div class="line"><span class="keyword">int</span> mark[maxL];</div><div class="line"><span class="keyword">int</span> P[<span class="number">505</span>], Pt = <span class="number">0</span>;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">sieve</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">register</span> <span class="keyword">int</span> i, j, k;</div><div class="line">    SET(<span class="number">1</span>);</div><div class="line">    <span class="keyword">int</span> n = <span class="number">500</span>;</div><div class="line">    <span class="keyword">for</span>(i = <span class="number">2</span>; i &lt;= n; i++) &#123;</div><div class="line">        <span class="keyword">if</span>(!GET(i)) &#123;</div><div class="line">            <span class="keyword">for</span>(k = n/i, j = i*k; k &gt;= i; k--, j -= i)</div><div class="line">                SET(j);</div><div class="line">            P[Pt++] = i; </div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    sieve();</div><div class="line">    <span class="keyword">int</span> testcase, n;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;testcase);</div><div class="line">    <span class="keyword">while</span>(testcase--) &#123;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</div><div class="line">        </div><div class="line">        <span class="keyword">int</span> f[<span class="number">505</span>][<span class="number">505</span>] = &#123;&#125;;</div><div class="line">        <span class="keyword">long</span> <span class="keyword">long</span> x;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%lld"</span>, &amp;x);</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; Pt; j++)</div><div class="line">                <span class="keyword">while</span>(x%P[j] == <span class="number">0</span>)</div><div class="line">                    x /= P[j], f[j][i] ^= <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// xor gauss</span></div><div class="line">        <span class="keyword">int</span> row = Pt, col = n, arb = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> r = <span class="number">0</span>, c = <span class="number">0</span>; r &lt; row &amp;&amp; c &lt; col; c++) &#123;</div><div class="line">            <span class="keyword">int</span> k = r;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = r + <span class="number">1</span>; j &lt; row; j++)</div><div class="line">                <span class="keyword">if</span>(f[j][c])	k = j;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; col; j++)</div><div class="line">                swap(f[r][j], f[k][j]);</div><div class="line">                </div><div class="line">            <span class="keyword">if</span>(f[r][c] == <span class="number">0</span>) &#123;arb++;<span class="keyword">continue</span>;&#125;</div><div class="line">            </div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; row; j++) &#123;</div><div class="line">                <span class="keyword">if</span>(r == j)	<span class="keyword">continue</span>;</div><div class="line">                <span class="keyword">if</span>(f[j][c]) &#123;</div><div class="line">                    <span class="keyword">for</span>(<span class="keyword">int</span> k = col; k &gt;= c; k--)</div><div class="line">                        f[j][k] = f[j][k] ^ f[r][k];</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            r++;</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, (<span class="number">1L</span>L&lt;&lt;arb) - <span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-11539" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/07/21/oj/uva/uva-11539/" class="article-date">
  <time datetime="2014-07-21T09:53:27.000Z" itemprop="datePublished">2014-07-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/07/21/oj/uva/uva-11539/">UVa 11539 - Another Word Game</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/07/21/oj/uva/uva-11539/" data-id="ckq5wy51r02qansvnlv7f3r1k" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/07/21/oj/uva/uva-11539/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AC自動機/">AC自動機</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/dp/">dp</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>This is just another word game. You are given a dictionary of words. Each of the word has a weight W, which is an integer value. You are given another string S. Initially your score is zero. In each turn you can mark some consecutive characters. If these consecutive characters create a word in the given dictionary, corresponding weight will be added to your score, otherwise a penalty P will be subtracted word length times from your score. Here word length is number of character in a word, and P is an integer value. What is the maximum score you can gain?</p>
<p>Note that your have to make a move until all characters of S are marked, and you cannot mark one character more than once.</p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>Input will start with an integer number T (T≤20), which indicates the number of test case. Each test case starts with two integer N (N ≤ 10000) and P (0 ≤ P ≤ 10000). Here N is the number of words in the dictionary and P is the value of Penalty. Each of the next N lines will contain a word and corresponding integer weight W (0 ≤ W ≤ 10000). No word of this dictionary will contain more than 100 characters, and a word will only contain lower case alphabet (‘a’, ‘b’, … ,’z’). The last line of the input will contain string S. S will not contain more than 10000 characters, and will contain only lower case letters.</p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>For each test case you have to output one line which “Case #:” where # is replaced by the case number, then a space, then the maximum score.</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">3</div><div class="line">2 5</div><div class="line">ab 2</div><div class="line">cd 3</div><div class="line">abcd</div><div class="line">3 5</div><div class="line">ab 2</div><div class="line">cd 3</div><div class="line">bc 16</div><div class="line">abcd</div><div class="line">1 100</div><div class="line">abd 1</div><div class="line">abcd</div></pre></td></tr></table></figure>
<h2 id="Output-for-Sample-Input"><a href="#Output-for-Sample-Input" class="headerlink" title="Output for Sample Input"></a>Output for Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Case 1: 5</div><div class="line">Case 2: 6</div><div class="line">Case 3: -400</div></pre></td></tr></table></figure>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p><strong> 題目描述： </strong></p>
<p>給一個主子串 S，可以由其他小字串組合而成，這些小字串可以重複使用，每次使用可以得到相對應的單位獲益，但它們彼此之間不能重疊，如果 S 有一個字符沒有匹配，將會被罰款 W 單位。</p>
<p>求一個最高獲益的值為何？</p>
<p><strong> 題目解法： </strong></p>
<p>由於考慮 <code>dp[i]</code> 已經匹配長度為 i 的時候，轉移會在字串匹配的時候速度非常慢，因此可以利用字串匹配的特性，對於所有小字串建一個 trie，接著建造出 AC 自動機，可以藉由失敗指針中快速找到當前有多少可以轉移的字符串可以串接。</p>
<p>但問題可能會在小字串長度太長效率下降，AC 只是剛好！也有人直接用 trie 搭配走訪就過去了，對於位置 i，從 root 開始往下走，一直走到位置 j，並且轉移，直到 trie 沒辦法走下去，保證不會有其他匹配情況。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> maxKind 26</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></div><div class="line">    Node *fail;</div><div class="line">    Node *next[maxKind];</div><div class="line">    <span class="keyword">int</span> cnt;</div><div class="line">    <span class="built_in">vector</span>&lt; pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; &gt; attr;</div><div class="line">    Node() &#123;</div><div class="line">        fail = <span class="literal">NULL</span>;</div><div class="line">        cnt = <span class="number">0</span>;</div><div class="line">        <span class="built_in">memset</span>(next, <span class="number">0</span>, <span class="keyword">sizeof</span>(next));</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">build_Trie</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span>* str, Node *root, pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; val)</span> </span>&#123;</div><div class="line">    Node *p = root;</div><div class="line">    <span class="keyword">int</span> i = <span class="number">0</span>, idx;</div><div class="line">    <span class="keyword">while</span>(str[i]) &#123;</div><div class="line">        idx = str[i] - <span class="string">'a'</span>;</div><div class="line">        <span class="keyword">if</span>(p-&gt;next[idx] == <span class="literal">NULL</span>)</div><div class="line">            p-&gt;next[idx] = <span class="keyword">new</span> Node();</div><div class="line">        p = p-&gt;next[idx];</div><div class="line">        i++;</div><div class="line">    &#125;</div><div class="line">    p-&gt;cnt++;</div><div class="line">    p-&gt;attr.push_back(val);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">build_AC_automation</span><span class="params">(Node *root)</span> </span>&#123;</div><div class="line">    root-&gt;fail = <span class="literal">NULL</span>;</div><div class="line">    <span class="built_in">queue</span>&lt;Node*&gt; Q;</div><div class="line">    Q.push(root);</div><div class="line">    Node *tn, *p;</div><div class="line">    <span class="keyword">while</span>(!Q.empty()) &#123;</div><div class="line">        tn = Q.front();</div><div class="line">        Q.pop();</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; maxKind; i++) &#123;</div><div class="line">            <span class="keyword">if</span>(tn-&gt;next[i] == <span class="literal">NULL</span>)</div><div class="line">                <span class="keyword">continue</span>;</div><div class="line">            Q.push(tn-&gt;next[i]);</div><div class="line">            p = tn-&gt;fail;</div><div class="line">            <span class="keyword">while</span>(p != <span class="literal">NULL</span> &amp;&amp; p-&gt;next[i] == <span class="literal">NULL</span>)</div><div class="line">                p = p-&gt;fail;</div><div class="line">            <span class="keyword">if</span>(p == <span class="literal">NULL</span>)</div><div class="line">                tn-&gt;next[i]-&gt;fail = root;</div><div class="line">            <span class="keyword">else</span></div><div class="line">                tn-&gt;next[i]-&gt;fail = p-&gt;next[i];</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">free_AC_automation</span><span class="params">(Node *root)</span> </span>&#123;</div><div class="line">    <span class="built_in">queue</span>&lt;Node*&gt; Q;</div><div class="line">    Q.push(root);</div><div class="line">    Node *tn, *p;</div><div class="line">    <span class="keyword">while</span>(!Q.empty()) &#123;</div><div class="line">        tn = Q.front();</div><div class="line">        Q.pop();</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; maxKind; i++) &#123;</div><div class="line">            <span class="keyword">if</span>(tn-&gt;next[i] != <span class="literal">NULL</span>) &#123;</div><div class="line">                Q.push(tn-&gt;next[i]);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">free</span>(tn);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">query</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span>* str, Node *root, <span class="keyword">int</span> P)</span> </span>&#123;</div><div class="line">    Node *tn = root, *p;</div><div class="line">    <span class="keyword">int</span> n = <span class="built_in">strlen</span>(str);</div><div class="line">    <span class="keyword">int</span> dp[<span class="number">100005</span>] = &#123;&#125;;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>, idx; i &lt; n; i++) &#123;</div><div class="line">        idx = str[i] - <span class="string">'a'</span>;</div><div class="line">        dp[i + <span class="number">1</span>] = dp[i] - P;</div><div class="line">        <span class="keyword">while</span>(tn-&gt;next[idx] == <span class="literal">NULL</span> &amp;&amp; tn != root)</div><div class="line">            tn = tn-&gt;fail;</div><div class="line">        tn = tn-&gt;next[idx];</div><div class="line">        tn = (tn == <span class="literal">NULL</span>) ? root : tn;</div><div class="line">        p = tn;</div><div class="line">        <span class="keyword">while</span>(p != root) &#123;</div><div class="line">            <span class="keyword">if</span>(p-&gt;cnt) &#123;</div><div class="line">            	<span class="keyword">for</span>(<span class="built_in">vector</span>&lt; pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; &gt;::iterator it = p-&gt;attr.begin();</div><div class="line">                    it != p-&gt;attr.end(); it++) &#123;</div><div class="line">                    dp[i + <span class="number">1</span>] = max(dp[i + <span class="number">1</span>], dp[i - it-&gt;first + <span class="number">1</span>] + it-&gt;second);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            p = p-&gt;fail;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, dp[n]);</div><div class="line">&#125;</div><div class="line"><span class="keyword">char</span> buf[<span class="number">100001</span>];</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> testcase, N, P, val, cases = <span class="number">0</span>;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;testcase);</div><div class="line">    <span class="keyword">while</span>(testcase--) &#123;</div><div class="line">        Node *root = <span class="keyword">new</span> Node();</div><div class="line">        </div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;N, &amp;P);</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++) &#123;</div><div class="line">        	<span class="built_in">scanf</span>(<span class="string">"%s %d"</span>, buf, &amp;val);</div><div class="line">            build_Trie(buf, root, make_pair(<span class="built_in">strlen</span>(buf), val));</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        build_AC_automation(root);</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>, buf);</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"Case %d: "</span>, ++cases);</div><div class="line">        query(buf, root, P);</div><div class="line">        free_AC_automation(root);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/uva/uva-11523" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/07/21/oj/uva/uva-11523/" class="article-date">
  <time datetime="2014-07-21T09:37:14.000Z" itemprop="datePublished">2014-07-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>/<a class="article-category-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/07/21/oj/uva/uva-11523/">UVa 11523 - Recycling</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/07/21/oj/uva/uva-11523/" data-id="ckq5wy52302qnnsvn2deowy8i" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/07/21/oj/uva/uva-11523/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/dp/">dp</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>Recycling involves processing used materials into new products in order to prevent the waste of potentially useful materials.</p>
<p>Recycling materials include things like glass, paper, plastic, metal and textiles. There are some materials that can’t be recycled such as Aerosol Cans. Aerosol cans that are not empty may leak or explode during the sorting and baling processes of recycling.</p>
<p>You are given a list of materials to be recycled. The materials are initially aligned in a line one after another. For every type of recyclable-material there is a corresponding bin. You are required to place each recyclable-material in its corresponding bin.</p>
<p>Example:</p>
<p>paper – glass – paper – aerosol – paper</p>
<p>In the example above, there are two types of recyclable-materials (paper &amp; glass) and one type of non-recyclable-material. If we were to pick each material one by one and throw them in the bins, we would require 4 moves since there are 4 recyclable-materials. However, if we remove consecutive items in one move, provided they are of the same type, we could achieve the desired task in lesser number of moves.</p>
<p>Let’s see how this can be done: If we remove the glass first then the first two papers appear side by side enabling them to be moved together in the next move. Then we just have one paper remaining at the end and that requires a further move. This accumulates to a figure of 3 moves.</p>
<p>Illustration:<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"># Start  : paper – glass – paper – aerosol – paper  </div><div class="line"># Move <span class="number">1</span> : paper – paper – aerosol – paper [ after removing glass ]   </div><div class="line"># Move <span class="number">2</span> : aerosol – paper  [ after removing first <span class="number">2</span> papers ]   </div><div class="line"># Move <span class="number">3</span> : aerosol [ after removing the last paper ]   </div></pre></td></tr></table></figure></p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>The first line of input is an integer T(T&lt;50) that indicates the number of test cases. Each case starts with an integer N(N&lt;100). The next line contains the names of N materials. The name of each material is a string containing only characters from the set [a..z] and [A..Z] and the length of each is at most 20. A recyclable-material is represented by lowercase letters only and that of non-recyclable-material by uppercase letters only.</p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>For each case, output the case number followed by the minimum number of moves required to clean up all the recyclable-materials meeting the constraints mentioned above.</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">3</div><div class="line">5</div><div class="line">paper glass paper AEROSOL paper</div><div class="line">4</div><div class="line">icpc icpc icpc icpc</div><div class="line">3</div><div class="line">NO RECYCLABLE MATERIALS</div></pre></td></tr></table></figure>
<h2 id="Output-for-Sample-Input"><a href="#Output-for-Sample-Input" class="headerlink" title="Output for Sample Input"></a>Output for Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Case 1: 3</div><div class="line">Case 2: 1</div><div class="line">Case 3: 0</div></pre></td></tr></table></figure>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p><strong> 題目描述： </strong></p>
<p>現在把垃圾放置在一維空間，垃圾分成可回收和不可回收兩種，我們可以一次將連續個回收物拾起清除 (整個區間內的回收種類都要相同。) 並且放置回收桶。</p>
<p>用小寫表示可回收的種類分布，大寫為不可回收。求操作次數最少為何。</p>
<p><strong> 題目解法： </strong></p>
<p>這一題比 UVa 10559 - Blocks 還要稍微簡單一點，可以在 O(n^3) 以內完成。UVa 10559 - Blocks 的計分方式多了一次清除的個數平方，最大化分數。</p>
<p>在這裡我們只需要將狀態改為，考慮區間 <code>[l, r]</code> 最左側 <code>A[l]</code> 項目是否要清除，否則將要等待 <code>[l+1, i]</code> 之間的項目清除之後，與 <code>[i+1, ...]</code> 一起清除。</p>
<ul>
<li>直接移除最左側</li>
<li>等待中間一段的移除，隨後跟著 <code>[i+1, ...]</code> 最左側的一起清除。</li>
</ul>
<p>因此轉移方程</p>
<span>$dp[l, r] = min(min(dp[l+1, r] + 1), min(dp[l+1, i] + dp[i+1, r]))$</span><!-- Has MathJax -->
<p>記住中間轉移要保證一定取得連續相同且皆可回收，為了方便計算，連續相同的壓縮起來，直接考慮是否可回收即可。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// http://mypaper.pchome.com.tw/zerojudge/post/1326837348</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ctype.h&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">int</span> A[<span class="number">105</span>], B[<span class="number">105</span>];</div><div class="line"><span class="keyword">int</span> dp[<span class="number">105</span>][<span class="number">105</span>]; <span class="comment">//[l][r][___&#123;l, r&#125;]</span></div><div class="line"><span class="keyword">char</span> used[<span class="number">105</span>][<span class="number">105</span>] = &#123;&#125;, usedcases = <span class="number">0</span>;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span>(l &gt; r)    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    <span class="keyword">if</span>(used[l][r] == usedcases)</div><div class="line">        <span class="keyword">return</span> dp[l][r];</div><div class="line">    <span class="keyword">int</span> &amp;ret = dp[l][r];</div><div class="line">    used[l][r] = usedcases;</div><div class="line">    <span class="keyword">if</span>(A[l] == <span class="number">-1</span>) &#123;</div><div class="line">    	ret = dfs(l + <span class="number">1</span>, r);</div><div class="line">    	<span class="keyword">return</span> ret;</div><div class="line">    &#125;</div><div class="line">    ret = dfs(l+<span class="number">1</span>, r) + <span class="number">1</span>;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = l+<span class="number">1</span>; i &lt;= r &amp;&amp; A[i] != <span class="number">-1</span>; i++) &#123;</div><div class="line">        <span class="keyword">if</span>(A[i] == A[l]) &#123;</div><div class="line">            ret = min(ret, dfs(l+<span class="number">1</span>, i<span class="number">-1</span>) + dfs(i, r));</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ret;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> testcase, n, m;</div><div class="line">    <span class="keyword">int</span> cases = <span class="number">0</span>, i;</div><div class="line">    <span class="keyword">char</span> material[<span class="number">105</span>][<span class="number">32</span>];</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;testcase);</div><div class="line">    <span class="keyword">while</span>(testcase--) &#123;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</div><div class="line">        </div><div class="line">        <span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt; R;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</div><div class="line">        	<span class="built_in">scanf</span>(<span class="string">"%s"</span>, material[i]);</div><div class="line">        	<span class="keyword">if</span>(<span class="built_in">islower</span>(material[i][<span class="number">0</span>]))</div><div class="line">        		R[material[i]] = <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">int</span> size = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt;::iterator it = R.begin(); it != R.end(); it++)</div><div class="line">        	it-&gt;second = size++;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)	 &#123;</div><div class="line">        	<span class="keyword">if</span>(<span class="built_in">isupper</span>(material[i][<span class="number">0</span>]))</div><div class="line">        		A[i] = <span class="number">-1</span>;</div><div class="line">        	<span class="keyword">else</span></div><div class="line">        		A[i] = R[material[i]];</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">for</span>(i = <span class="number">1</span>, B[<span class="number">0</span>] = <span class="number">1</span>, m = <span class="number">0</span>; i &lt; n; i++) &#123;</div><div class="line">            <span class="keyword">if</span>(A[m] == A[i])</div><div class="line">                B[m]++;</div><div class="line">            <span class="keyword">else</span> &#123;</div><div class="line">                A[++m] = A[i], B[m] = <span class="number">1</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        usedcases++;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"Case %d: %d\n"</span>, ++cases, dfs(<span class="number">0</span>, m));</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/categories/解題區/page/53/">&laquo; Prev</a><a class="page-number" href="/categories/解題區/">1</a><span class="space">&hellip;</span><a class="page-number" href="/categories/解題區/page/52/">52</a><a class="page-number" href="/categories/解題區/page/53/">53</a><span class="page-number current">54</span><a class="page-number" href="/categories/解題區/page/55/">55</a><a class="page-number" href="/categories/解題區/page/56/">56</a><span class="space">&hellip;</span><a class="page-number" href="/categories/解題區/page/64/">64</a><a class="extend next" rel="next" href="/categories/解題區/page/55/">Next &raquo;</a>
    </nav>
  
</section>
          
          
            <aside id="sidebar">
  <!-- <div id="ukagaka_panel"></div> -->
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/">學校課程</a><span class="category-list-count">115</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/介面設計/">介面設計</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/作業系統/">作業系統</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/即時系統/">即時系統</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/大學專題/">大學專題</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/巨量資料/">巨量資料</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/平行程式/">平行程式</a><span class="category-list-count">43</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/敏捷方法/">敏捷方法</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/數位影像生成/">數位影像生成</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/編譯器/">編譯器</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/自然語言/">自然語言</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/虛擬實境/">虛擬實境</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/計算型智慧/">計算型智慧</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/計算幾何/">計算幾何</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/計算機圖學/">計算機圖學</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/資料庫系統/">資料庫系統</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/資訊安全/">資訊安全</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/通識課程/">通識課程</a><span class="category-list-count">14</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/">工作應用</a><span class="category-list-count">31</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/Java/">Java</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/Meme/">Meme</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/可持久化/">可持久化</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工作應用/鬼故事/">鬼故事</a><span class="category-list-count">9</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/手札日記/">手札日記</a><span class="category-list-count">45</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/">網頁設計</a><span class="category-list-count">15</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/About-This-Blog/">About This Blog</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/HTML5/">HTML5</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/JQuery/">JQuery</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/Markdown/">Markdown</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/NodeJs/">NodeJs</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/">解題區</a><span class="category-list-count">633</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/Latex/">Latex</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/出題解題/">出題解題</a><span class="category-list-count">23</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-POJ/">解題區 - POJ</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a><span class="category-list-count">483</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-Zerojudge/">解題區 - Zerojudge</a><span class="category-list-count">77</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-其他題目/">解題區 - 其他題目</a><span class="category-list-count">45</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-未解題目/">解題區 - 未解題目</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/雜言筆記/">雜言筆記</a><span class="category-list-count">4</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a class="text" href="/2021/05/30/diary-202105/">
              
                <i class="icon-file-o"></i> 
              
            前思後想 新居落成</a>
          </li>
        
          <li>
            <a class="text" href="/2021/05/30/java/java-memory-optimization-2/">
              
                <i class="icon-file-o"></i> 
              
            Java 優化內存使用 組合篇</a>
          </li>
        
          <li>
            <a class="text" href="/2021/05/30/java/java-memory-optimization-1/">
              
                <i class="icon-file-o"></i> 
              
            Java 優化內存使用 結構篇</a>
          </li>
        
          <li>
            <a class="text" href="/2021/01/31/diary-202101/">
              
                <i class="icon-file-o"></i> 
              
            二八進展</a>
          </li>
        
          <li>
            <a class="text" href="/2021/01/31/work/meme-globl-var/">
              
                <i class="icon-file-o"></i> 
              
            Global Variable</a>
          </li>
        
          <li>
            <a class="text" href="/2021/01/31/work/meme-file-extension/">
              
                <i class="icon-file-o"></i> 
              
            File Extension</a>
          </li>
        
          <li>
            <a class="text" href="/2021/01/31/work/meme-job-build/">
              
                <i class="icon-file-o"></i> 
              
            Job Build</a>
          </li>
        
          <li>
            <a class="text" href="/2021/01/31/work/meme-handover/">
              
                <i class="icon-file-o"></i> 
              
            Handover</a>
          </li>
        
          <li>
            <a class="text" href="/2021/01/31/work/meme-interview-recursion/">
              
                <i class="icon-file-o"></i> 
              
            Interview &amp; Recursion</a>
          </li>
        
          <li>
            <a class="text" href="/2021/01/31/work/meme-lang/">
              
                <i class="icon-file-o"></i> 
              
            Programming Language Impostors</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    <div class="widget-wrap">
    <h3 class="widget-title">Links</h3>
    <div class="widget">   
      	<ul>
	      <li><a href="http://mypaper.pchome.com.tw/zerojudge" target="_blank" title="Old Blog"><i class="icon-star"></i> Morris' Blog (pchome)</a></li>
	      <li><a href="http://flere114.blogspot.tw/" target="_blank" title="蘿莉勿觸"><i class="icon-googles"></i> flere's Blog</a></li>
	      <li><a href="http://dreamoon4.blogspot.tw/" target="_blank" title="夢月"><i class="icon-googles"></i> dreamoon's Blog</a></li>
	      <li><a href="http://m80126colin.github.io" target="_blank" title="許胖們"><i class="icon-github-alt"></i> m80126colin's Blog</a></li>
	      <li><a href="http://sd12582000.blogspot.tw/" target="_blank" title="妮可妮可"><i class="icon-github-alt"></i> Nico's Blog</a></li>
	      <li><a href="http://kuoe0.logdown.com/" target="_blank" title="郭至軒大神"><i class="icon-github-alt"></i> KuoE0's Dots</a></li>
	      <li><a href="http://tyan.io/" title=""><i class="icon-github-alt"></i> Tyan Blog</a></li>
    	</ul>
    </div>
</div>

  
    
<script src="/js/jquery-ui.js"></script>
<script src="/js/ukagaka/jquery.morris.ukagaka.resource.js"></script>
<script src="/js/ukagaka/typed.js"></script>
  
  
</aside>
          
        
      </div>
      <footer id="footer">
  
  <div class="outer">    
    <div class="social-group">
      
      <a href="https://github.com/morris821028" target="_blank" title="github"><i class="icon-github"></i></a>
      
      
      <a href="https://www.facebook.com/Morris1028" target="_blank" title="facebook"><i class="icon-facebook-sign"></i></a>
      
      
      <a href="http://uhunt.felix-halim.net/id/46705" target="_blank" title="uhunt" ><span class="icon-uhunt">UVa<span></a>
      
    </div>
    <div id="footer-info" class="inner">
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and Theme by <a href="https://github.com/morris821028/hexo-theme-landscape" target="_blank" title="landscape">landscape</a> &copy; 2021 Shiang-Yun Yang 
    </div>
  </div>
</footer>


    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link"><i class=icon-home ></i>&nbsp&nbspHome</a>
  
    <a href="/about" class="mobile-nav-link"><i class=icon-user ></i>&nbsp&nbspAbout</a>
  
    <a href="/archives" class="mobile-nav-link"><i class=icon-archive ></i>&nbsp&nbspArchives</a>
  
    <a href="/tags" class="mobile-nav-link"><i class=icon-tags ></i>&nbsp&nbspTags</a>
  
    <a href="/picture" class="mobile-nav-link"><i class=icon-camera ></i>&nbsp&nbspPictures</a>
  
    <a href="/works" class="mobile-nav-link"><i class=icon-trophy ></i>&nbsp&nbspWorks</a>
  
</nav>
    
<script>
  var disqus_shortname = 'morris1028';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//go.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/jquery.lazyload.js"></script>
<script src="/js/jquery.als-1.6.js"></script>

<script src="/js/script.js"></script>

  </div><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
</body>
</html>